jQuery.namespace=function(){var e=null;var b,c,a;for(b=0;b<arguments.length;b=b+1){a=arguments[b].split(".");e=window;for(c=0;c<a.length;c=c+1){e[a[c]]=e[a[c]]||{};e=e[a[c]]}}return e};$.namespace("Carnival.BookingEngine.Stateroom");$.namespace("Carnival.BookingEngine.SailingSearch");$.namespace("Carnival.Web.Specials");$.namespace("Carnival.Globals");$.namespace("Carnival.SiteCore.LandingPage");$.namespace("Carnival.SiteCore.FindACruise");$.namespace("Carnival.AppResources");Carnival.Globals.GetProfilePastGuestNumber=function GetProfilePastGuestNumber(){var b;if(Carnival.Globals.UserIsLoggedIn()){var a="";a=$.cookie("PastGuestNumber");if(a!=null&&a.length>0){b=a.split("&")[0]}}return b};Carnival.Globals.UserIsLoggedIn=function UserIsLoggedIn(){return !(!$.cookie("MSCSAuth")&&$.cookie("AnonymousUser"))};Carnival.Globals.UserIsFullyLoggedIn=function UserIsFullyLoggedIn(){return $.cookie("MSCSAuth")};Carnival.Globals.AppendScript=function _AppendScript(b){try{var c=document.createElement("script");c.type="text/javascript";c.src=b;document.getElementsByTagName("head")[0].appendChild(c)}catch(a){}};Carnival.Globals.AppendScript("/common/cclus/js/header/Carnival.Live.js");String.prototype.toLocation=function(){var b=document.createElement("a");b.href=this;return b};jQuery.cookie=function(h,m,j){if(typeof m!="undefined"){j=j||{};if(m===null){m="";j.expires=-1}var f="";if(j.expires&&(typeof j.expires=="number"||j.expires.toUTCString)){var d;if(typeof j.expires=="number"){d=new Date();d.setTime(d.getTime()+(j.expires*24*60*60*1000))}else{d=j.expires}f="; expires="+d.toUTCString()}var k=j.path?"; path="+(j.path):"";var e=j.domain?"; domain="+(j.domain):"";var l=j.secure?"; secure":"";document.cookie=[h,"=",encodeURIComponent(m),f,k,e,l].join("")}else{var c=null;if(document.cookie&&document.cookie!=""){var b=document.cookie.split(";");for(var g=0;g<b.length;g++){var a=jQuery.trim(b[g]);if(a.substring(0,h.length+1)==(h+"=")){c=decodeURIComponent(a.substring(h.length+1));break}}}return c}};new function(h){var e=h.separator||"&";var f=h.spaces===false?false:true;var g=h.suffix===false?"":"[]";var d=h.prefix===false?false:true;var a=d?h.hash===true?"#":"?":"";var c=h.numbers===false?false:true;jQuery.query=new function(){var i=function(n,p){return n!=undefined&&n!==null&&(!!p?n.constructor==p:true)};var j=function(q){var o,r=/\[([^[]*)\]/g,p=/^(\S+?)(\[\S*\])?$/.exec(q),n=p[1],s=[];while(o=r.exec(p[2])){s.push(o[1])}return[n,s]};var l=function(r,u,v){var q,t=u.shift();if(typeof r!="object"){r=null}if(t===""){if(!r){r=[]}if(i(r,Array)){r.push(u.length==0?v:l(null,u.slice(0),v))}else{if(i(r,Object)){var n=0;while(r[n++]!=null){}r[--n]=u.length==0?v:l(r[n],u.slice(0),v)}else{r=[];r.push(u.length==0?v:l(null,u.slice(0),v))}}}else{if(t&&t.match(/^\s*[0-9]+\s*$/)){var p=parseInt(t,10);if(!r){r=[]}r[p]=u.length==0?v:l(r[p],u.slice(0),v)}else{if(t){var p=t.replace(/^\s*|\s*$/g,"");if(!r){r={}}if(i(r,Array)){var s={};for(var n=0;n<r.length;++n){s[n]=r[n]}r=s}r[p]=u.length==0?v:l(r[p],u.slice(0),v)}else{return v}}}return r};var k=function(n){var o=this;o.keys={};if(n.queryObject){jQuery.each(n.get(),function(p,q){o.SET(p,q)})}else{jQuery.each(arguments,function(){var p=""+this;p=p.replace(/^[?#]/,"");p=p.replace(/[;&]$/,"");if(f){p=p.replace(/[+]/g," ")}jQuery.each(p.split(/[&;]/),function(){var q=decodeURIComponent(this.split("=")[0]);var r=decodeURIComponent(this.split("=")[1]);if(!q){return}if(c){if(/^[+-]?[0-9]+\.[0-9]*$/.test(r)){r=parseFloat(r)}else{if(/^[+-]?[0-9]+$/.test(r)){r=parseInt(r,10)}}}r=(!r&&r!==0)?true:r;if(r!==false&&r!==true&&typeof r!="number"){r=r}o.SET(q,r)})})}return o};k.prototype={queryObject:true,has:function(n,o){var p=this.get(n);return i(p,o)},GET:function(o){if(!i(o)){return this.keys}var p=j(o),n=p[0],r=p[1];var q=this.keys[n];while(q!=null&&r.length!=0){q=q[r.shift()]}return typeof q=="number"?q:q||""},get:function(n){var o=this.GET(n);if(i(o,Object)){return jQuery.extend(true,{},o)}else{if(i(o,Array)){return o.slice(0)}}return o},SET:function(o,s){var t=!i(s)?null:s;var p=j(o),n=p[0],r=p[1];var q=this.keys[n];this.keys[n]=l(q,r.slice(0),t);return this},set:function(n,o){return this.copy().SET(n,o)},REMOVE:function(n){return this.SET(n,null).COMPACT()},remove:function(n){return this.copy().REMOVE(n)},EMPTY:function(){var n=this;jQuery.each(n.keys,function(o,p){delete n.keys[o]});return n},load:function(p){var n=p.replace(/^.*?[#](.+?)(?:\?.+)?$/,"$1");var o=p.replace(/^.*?[?](.+?)(?:#.+)?$/,"$1");return new k(p.length==o.length?"":o,p.length==n.length?"":n)},empty:function(){return this.copy().EMPTY()},copy:function(){return new k(this)},COMPACT:function(){function n(q){var p=typeof q=="object"?i(q,Array)?[]:{}:q;if(typeof q=="object"){function o(s,r,t){if(i(s,Array)){s.push(t)}else{s[r]=t}}jQuery.each(q,function(r,s){if(!i(s)){return true}o(p,r,n(s))})}return p}this.keys=n(this.keys);return this},compact:function(){return this.copy().COMPACT()},toString:function(){var q=0,r=[],p=[],s=this;var n=function(t,u,w){if(!i(w)||w===false){return}var v=[encodeURIComponent(u)];if(w!==true){v.push("=");v.push(encodeURIComponent(w))}t.push(v.join(""))};var o=function(v,t){var u=function(w){return !t||t==""?[w].join(""):[t,"[",w,"]"].join("")};jQuery.each(v,function(w,x){if(typeof x=="object"){o(x,u(w))}else{n(p,u(w),x)}})};o(this.keys);if(p.length>0){r.push(a)}r.push(p.join(e));return r.join("")}};return new k(location.search,location.hash)}}(jQuery.query||{});$.extend({URLEncode:function(a){var i="";var k=0;a=a.toString();var j=/(^[a-zA-Z0-9_.]*)/;while(k<a.length){var g=j.exec(a.substr(k));if(g!=null&&g.length>1&&g[1]!=""){i+=g[1];k+=g[1].length}else{if(a[k]==" "){i+="+"}else{var e=a.charCodeAt(k);var f=e.toString(16);i+="%"+(f.length<2?"0":"")+f.toUpperCase()}k++}}return i},URLDecode:function(e){var c=e;var a,f;var d=/(%[^%]{2})/;while((m=d.exec(c))!=null&&m.length>1&&m[1]!=""){b=parseInt(m[1].substr(1),16);f=String.fromCharCode(b);c=c.replace(m[1],f)}return c}});/**
 * jQuery Validation Plugin 1.9.0
 *
 * http://bassistance.de/jquery-plugins/jquery-plugin-validation/
 * http://docs.jquery.com/Plugins/Validation
 *
 * Copyright (c) 2006 - 2011 JÃ¶rn Zaefferer
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */
(function(c){c.extend(c.fn,{validate:function(a){if(this.length){var b=c.data(this[0],"validator");if(b)return b;this.attr("novalidate","novalidate");b=new c.validator(a,this[0]);c.data(this[0],"validator",b);if(b.settings.onsubmit){a=this.find("input, button");a.filter(".cancel").click(function(){b.cancelSubmit=true});b.settings.submitHandler&&a.filter(":submit").click(function(){b.submitButton=this});this.submit(function(d){function e(){if(b.settings.submitHandler){if(b.submitButton)var f=c("<input type='hidden'/>").attr("name",
b.submitButton.name).val(b.submitButton.value).appendTo(b.currentForm);b.settings.submitHandler.call(b,b.currentForm);b.submitButton&&f.remove();return false}return true}b.settings.debug&&d.preventDefault();if(b.cancelSubmit){b.cancelSubmit=false;return e()}if(b.form()){if(b.pendingRequest){b.formSubmitted=true;return false}return e()}else{b.focusInvalid();return false}})}return b}else a&&a.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing")},valid:function(){if(c(this[0]).is("form"))return this.validate().form();
else{var a=true,b=c(this[0].form).validate();this.each(function(){a&=b.element(this)});return a}},removeAttrs:function(a){var b={},d=this;c.each(a.split(/\s/),function(e,f){b[f]=d.attr(f);d.removeAttr(f)});return b},rules:function(a,b){var d=this[0];if(a){var e=c.data(d.form,"validator").settings,f=e.rules,g=c.validator.staticRules(d);switch(a){case "add":c.extend(g,c.validator.normalizeRule(b));f[d.name]=g;if(b.messages)e.messages[d.name]=c.extend(e.messages[d.name],b.messages);break;case "remove":if(!b){delete f[d.name];
return g}var h={};c.each(b.split(/\s/),function(j,i){h[i]=g[i];delete g[i]});return h}}d=c.validator.normalizeRules(c.extend({},c.validator.metadataRules(d),c.validator.classRules(d),c.validator.attributeRules(d),c.validator.staticRules(d)),d);if(d.required){e=d.required;delete d.required;d=c.extend({required:e},d)}return d}});c.extend(c.expr[":"],{blank:function(a){return!c.trim(""+a.value)},filled:function(a){return!!c.trim(""+a.value)},unchecked:function(a){return!a.checked}});c.validator=function(a,
b){this.settings=c.extend(true,{},c.validator.defaults,a);this.currentForm=b;this.init()};c.validator.format=function(a,b){if(arguments.length==1)return function(){var d=c.makeArray(arguments);d.unshift(a);return c.validator.format.apply(this,d)};if(arguments.length>2&&b.constructor!=Array)b=c.makeArray(arguments).slice(1);if(b.constructor!=Array)b=[b];c.each(b,function(d,e){a=a.replace(RegExp("\\{"+d+"\\}","g"),e)});return a};c.extend(c.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",
validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:c([]),errorLabelContainer:c([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function(a){this.lastActive=a;if(this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass);this.addWrapper(this.errorsFor(a)).hide()}},onfocusout:function(a){if(!this.checkable(a)&&(a.name in this.submitted||!this.optional(a)))this.element(a)},
onkeyup:function(a){if(a.name in this.submitted||a==this.lastElement)this.element(a)},onclick:function(a){if(a.name in this.submitted)this.element(a);else a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(a,b,d){a.type==="radio"?this.findByName(a.name).addClass(b).removeClass(d):c(a).addClass(b).removeClass(d)},unhighlight:function(a,b,d){a.type==="radio"?this.findByName(a.name).removeClass(b).addClass(d):c(a).removeClass(b).addClass(d)}},setDefaults:function(a){c.extend(c.validator.defaults,
a)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:c.validator.format("Please enter no more than {0} characters."),
minlength:c.validator.format("Please enter at least {0} characters."),rangelength:c.validator.format("Please enter a value between {0} and {1} characters long."),range:c.validator.format("Please enter a value between {0} and {1}."),max:c.validator.format("Please enter a value less than or equal to {0}."),min:c.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){function a(e){var f=c.data(this[0].form,"validator"),g="on"+e.type.replace(/^validate/,
"");f.settings[g]&&f.settings[g].call(f,this[0],e)}this.labelContainer=c(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||c(this.currentForm);this.containers=c(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var b=this.groups={};c.each(this.settings.groups,function(e,f){c.each(f.split(/\s/),function(g,h){b[h]=e})});var d=
this.settings.rules;c.each(d,function(e,f){d[e]=c.validator.normalizeRule(f)});c(this.currentForm).validateDelegate("[type='text'], [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",a).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",
a);this.settings.invalidHandler&&c(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){this.checkForm();c.extend(this.submitted,this.errorMap);this.invalid=c.extend({},this.errorMap);this.valid()||c(this.currentForm).triggerHandler("invalid-form",[this]);this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(a){this.lastElement=
a=this.validationTargetFor(this.clean(a));this.prepareElement(a);this.currentElements=c(a);var b=this.check(a);if(b)delete this.invalid[a.name];else this.invalid[a.name]=true;if(!this.numberOfInvalids())this.toHide=this.toHide.add(this.containers);this.showErrors();return b},showErrors:function(a){if(a){c.extend(this.errorMap,a);this.errorList=[];for(var b in a)this.errorList.push({message:a[b],element:this.findByName(b)[0]});this.successList=c.grep(this.successList,function(d){return!(d.name in a)})}this.settings.showErrors?
this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){c.fn.resetForm&&c(this.currentForm).resetForm();this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b=0,d;for(d in a)b++;return b},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==
0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{c(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(a){}},findLastActive:function(){var a=this.lastActive;return a&&c.grep(this.errorList,function(b){return b.element.name==a.name}).length==1&&a},elements:function(){var a=this,b={};return c(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&
a.settings.debug&&window.console&&console.error("%o has no name assigned",this);if(this.name in b||!a.objectLength(c(this).rules()))return false;return b[this.name]=true})},clean:function(a){return c(a)[0]},errors:function(){return c(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=c([]);this.toHide=c([]);this.currentElements=c([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},
prepareElement:function(a){this.reset();this.toHide=this.errorsFor(a)},check:function(a){a=this.validationTargetFor(this.clean(a));var b=c(a).rules(),d=false,e;for(e in b){var f={method:e,parameters:b[e]};try{var g=c.validator.methods[e].call(this,a.value.replace(/\r/g,""),a,f.parameters);if(g=="dependency-mismatch")d=true;else{d=false;if(g=="pending"){this.toHide=this.toHide.not(this.errorsFor(a));return}if(!g){this.formatAndAdd(a,f);return false}}}catch(h){this.settings.debug&&window.console&&console.log("exception occured when checking element "+
a.id+", check the '"+f.method+"' method",h);throw h;}}if(!d){this.objectLength(b)&&this.successList.push(a);return true}},customMetaMessage:function(a,b){if(c.metadata){var d=this.settings.meta?c(a).metadata()[this.settings.meta]:c(a).metadata();return d&&d.messages&&d.messages[b]}},customMessage:function(a,b){var d=this.settings.messages[a];return d&&(d.constructor==String?d:d[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==undefined)return arguments[a]},defaultMessage:function(a,
b){return this.findDefined(this.customMessage(a.name,b),this.customMetaMessage(a,b),!this.settings.ignoreTitle&&a.title||undefined,c.validator.messages[b],"<strong>Warning: No message defined for "+a.name+"</strong>")},formatAndAdd:function(a,b){var d=this.defaultMessage(a,b.method),e=/\$?\{(\d+)\}/g;if(typeof d=="function")d=d.call(this,b.parameters,a);else if(e.test(d))d=jQuery.format(d.replace(e,"{$1}"),b.parameters);this.errorList.push({message:d,element:a});this.errorMap[a.name]=d;this.submitted[a.name]=
d},addWrapper:function(a){if(this.settings.wrapper)a=a.add(a.parent(this.settings.wrapper));return a},defaultShowErrors:function(){for(var a=0;this.errorList[a];a++){var b=this.errorList[a];this.settings.highlight&&this.settings.highlight.call(this,b.element,this.settings.errorClass,this.settings.validClass);this.showLabel(b.element,b.message)}if(this.errorList.length)this.toShow=this.toShow.add(this.containers);if(this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);
if(this.settings.unhighlight){a=0;for(b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass)}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return c(this.errorList).map(function(){return this.element})},showLabel:function(a,b){var d=this.errorsFor(a);if(d.length){d.removeClass(this.settings.validClass).addClass(this.settings.errorClass);
d.attr("generated")&&d.html(b)}else{d=c("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(a),generated:true}).addClass(this.settings.errorClass).html(b||"");if(this.settings.wrapper)d=d.hide().show().wrap("<"+this.settings.wrapper+"/>").parent();this.labelContainer.append(d).length||(this.settings.errorPlacement?this.settings.errorPlacement(d,c(a)):d.insertAfter(a))}if(!b&&this.settings.success){d.text("");typeof this.settings.success=="string"?d.addClass(this.settings.success):this.settings.success(d)}this.toShow=
this.toShow.add(d)},errorsFor:function(a){var b=this.idOrName(a);return this.errors().filter(function(){return c(this).attr("for")==b})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(a){if(this.checkable(a))a=this.findByName(a.name).not(this.settings.ignore)[0];return a},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(a){var b=this.currentForm;return c(document.getElementsByName(a)).map(function(d,
e){return e.form==b&&e.name==a&&e||null})},getLength:function(a,b){switch(b.nodeName.toLowerCase()){case "select":return c("option:selected",b).length;case "input":if(this.checkable(b))return this.findByName(b.name).filter(":checked").length}return a.length},depend:function(a,b){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,b):true},dependTypes:{"boolean":function(a){return a},string:function(a,b){return!!c(a,b.form).length},"function":function(a,b){return a(b)}},optional:function(a){return!c.validator.methods.required.call(this,
c.trim(a.value),a)&&"dependency-mismatch"},startRequest:function(a){if(!this.pending[a.name]){this.pendingRequest++;this.pending[a.name]=true}},stopRequest:function(a,b){this.pendingRequest--;if(this.pendingRequest<0)this.pendingRequest=0;delete this.pending[a.name];if(b&&this.pendingRequest==0&&this.formSubmitted&&this.form()){c(this.currentForm).submit();this.formSubmitted=false}else if(!b&&this.pendingRequest==0&&this.formSubmitted){c(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=
false}},previousValue:function(a){return c.data(a,"previousValue")||c.data(a,"previousValue",{old:null,valid:true,message:this.defaultMessage(a,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},dateDE:{dateDE:true},number:{number:true},numberDE:{numberDE:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(a,b){a.constructor==String?this.classRuleSettings[a]=b:c.extend(this.classRuleSettings,
a)},classRules:function(a){var b={};(a=c(a).attr("class"))&&c.each(a.split(" "),function(){this in c.validator.classRuleSettings&&c.extend(b,c.validator.classRuleSettings[this])});return b},attributeRules:function(a){var b={};a=c(a);for(var d in c.validator.methods){var e;if(e=d==="required"&&typeof c.fn.prop==="function"?a.prop(d):a.attr(d))b[d]=e;else if(a[0].getAttribute("type")===d)b[d]=true}b.maxlength&&/-1|2147483647|524288/.test(b.maxlength)&&delete b.maxlength;return b},metadataRules:function(a){if(!c.metadata)return{};
var b=c.data(a.form,"validator").settings.meta;return b?c(a).metadata()[b]:c(a).metadata()},staticRules:function(a){var b={},d=c.data(a.form,"validator");if(d.settings.rules)b=c.validator.normalizeRule(d.settings.rules[a.name])||{};return b},normalizeRules:function(a,b){c.each(a,function(d,e){if(e===false)delete a[d];else if(e.param||e.depends){var f=true;switch(typeof e.depends){case "string":f=!!c(e.depends,b.form).length;break;case "function":f=e.depends.call(b,b)}if(f)a[d]=e.param!==undefined?
e.param:true;else delete a[d]}});c.each(a,function(d,e){a[d]=c.isFunction(e)?e(b):e});c.each(["minlength","maxlength","min","max"],function(){if(a[this])a[this]=Number(a[this])});c.each(["rangelength","range"],function(){if(a[this])a[this]=[Number(a[this][0]),Number(a[this][1])]});if(c.validator.autoCreateRanges){if(a.min&&a.max){a.range=[a.min,a.max];delete a.min;delete a.max}if(a.minlength&&a.maxlength){a.rangelength=[a.minlength,a.maxlength];delete a.minlength;delete a.maxlength}}a.messages&&delete a.messages;
return a},normalizeRule:function(a){if(typeof a=="string"){var b={};c.each(a.split(/\s/),function(){b[this]=true});a=b}return a},addMethod:function(a,b,d){c.validator.methods[a]=b;c.validator.messages[a]=d!=undefined?d:c.validator.messages[a];b.length<3&&c.validator.addClassRules(a,c.validator.normalizeRule(a))},methods:{required:function(a,b,d){if(!this.depend(d,b))return"dependency-mismatch";switch(b.nodeName.toLowerCase()){case "select":return(a=c(b).val())&&a.length>0;case "input":if(this.checkable(b))return this.getLength(a,
b)>0;default:return c.trim(a).length>0}},remote:function(a,b,d){if(this.optional(b))return"dependency-mismatch";var e=this.previousValue(b);this.settings.messages[b.name]||(this.settings.messages[b.name]={});e.originalMessage=this.settings.messages[b.name].remote;this.settings.messages[b.name].remote=e.message;d=typeof d=="string"&&{url:d}||d;if(this.pending[b.name])return"pending";if(e.old===a)return e.valid;e.old=a;var f=this;this.startRequest(b);var g={};g[b.name]=a;c.ajax(c.extend(true,{url:d,
mode:"abort",port:"validate"+b.name,dataType:"json",data:g,success:function(h){f.settings.messages[b.name].remote=e.originalMessage;var j=h===true;if(j){var i=f.formSubmitted;f.prepareElement(b);f.formSubmitted=i;f.successList.push(b);f.showErrors()}else{i={};h=h||f.defaultMessage(b,"remote");i[b.name]=e.message=c.isFunction(h)?h(a):h;f.showErrors(i)}e.valid=j;f.stopRequest(b,j)}},d));return"pending"},minlength:function(a,b,d){return this.optional(b)||this.getLength(c.trim(a),b)>=d},maxlength:function(a,
b,d){return this.optional(b)||this.getLength(c.trim(a),b)<=d},rangelength:function(a,b,d){a=this.getLength(c.trim(a),b);return this.optional(b)||a>=d[0]&&a<=d[1]},min:function(a,b,d){return this.optional(b)||a>=d},max:function(a,b,d){return this.optional(b)||a<=d},range:function(a,b,d){return this.optional(b)||a>=d[0]&&a<=d[1]},email:function(a,b){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(a)},
url:function(a,b){return this.optional(b)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},
date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a))},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(a)},number:function(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},creditcard:function(a,b){if(this.optional(b))return"dependency-mismatch";if(/[^0-9 -]+/.test(a))return false;var d=0,e=0,f=false;a=a.replace(/\D/g,"");for(var g=a.length-1;g>=
0;g--){e=a.charAt(g);e=parseInt(e,10);if(f)if((e*=2)>9)e-=9;d+=e;f=!f}return d%10==0},accept:function(a,b,d){d=typeof d=="string"?d.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(b)||a.match(RegExp(".("+d+")$","i"))},equalTo:function(a,b,d){d=c(d).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){c(b).valid()});return a==d.val()}}});c.format=c.validator.format})(jQuery);
(function(c){var a={};if(c.ajaxPrefilter)c.ajaxPrefilter(function(d,e,f){e=d.port;if(d.mode=="abort"){a[e]&&a[e].abort();a[e]=f}});else{var b=c.ajax;c.ajax=function(d){var e=("port"in d?d:c.ajaxSettings).port;if(("mode"in d?d:c.ajaxSettings).mode=="abort"){a[e]&&a[e].abort();return a[e]=b.apply(this,arguments)}return b.apply(this,arguments)}}})(jQuery);
(function(c){!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener&&c.each({focus:"focusin",blur:"focusout"},function(a,b){function d(e){e=c.event.fix(e);e.type=b;return c.event.handle.call(this,e)}c.event.special[b]={setup:function(){this.addEventListener(a,d,true)},teardown:function(){this.removeEventListener(a,d,true)},handler:function(e){arguments[0]=c.event.fix(e);arguments[0].type=b;return c.event.handle.apply(this,arguments)}}});c.extend(c.fn,{validateDelegate:function(a,
b,d){return this.bind(b,function(e){var f=c(e.target);if(f.is(a))return d.apply(f,arguments)})}})})(jQuery);
if(!s_account){var s_account="carnivalprod"}if((window.location.toString().indexOf("uatcarnival.com")>-1)||(window.location.toString().indexOf("syscarnival.com")>-1)||(window.location.toString().indexOf("dev.carnival.com")>-1)||(window.location.toString().indexOf("localhost")>-1)){s_account="carnivaldev"}var s=s_gi(s_account);s.trackDownloadLinks=true;s.trackExternalLinks=true;s.trackInlineStats=true;s.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx";s.linkInternalFilters="javascript:,.carnival.com,carnival.com,localhost,carnival-dream.com,carnivalbrochures.com,carnivalcruises.com,carnivalmagic.com,carnival.bgtpartners.com";s.linkLeaveQueryString=false;s.linkTrackVars="None";s.linkTrackEvents="None";s.siteID="";s.defaultPage="";s.queryVarsList="Step,portCode,faq";s.pathExcludeDelim=";";s.pathConcatDelim=":";s.pathExcludeList="";s.formList="frmBookEngine";s.trackFormList=true;s.trackPageName=true;s.useCommerce=true;s.varUsed="eVar25";s.eventList="event51,event52,event53";s._channelPattern="Paid Search|PSearch_>Email|Em_,EmH>Affiliate|Af_>Social|So_>Display|Di_>Direct Marketing|DM_>Performance Media|PM_>Video|Vi_";s.usePlugins=true;function s_doPlugins(A){if(!A.pageType&&!A.pageName){A.pageName=A.getPageName();if(A.pageName.toLowerCase().indexOf("activities:storefront")>-1){if((A.pageName.toLowerCase().indexOf("activities:storefront:booking")>-1)){arrpageName=A.pageName.split(":");A.pageName=arrpageName[0]+":"+arrpageName[1]+":"+arrpageName[2]}}if(A.pageName.toLowerCase().indexOf("activities:excursion")>-1&&A.pageName.toLowerCase().indexOf("booking")>-1){arrpageName=A.pageName.split(":");A.pageName=arrpageName[0]+":"+arrpageName[1]+":"+arrpageName[2]+":"+arrpageName[3]}if(A.pageName.toLowerCase().indexOf("activities:excursions:booking")>-1||A.pageName.toLowerCase().indexOf("activities:excursion:booking")>-1){arrpageName=A.pageName.split(":");A.pageName=arrpageName[0]+":"+arrpageName[1]+":"+arrpageName[2]}if(A.pageName.toLowerCase().indexOf("activities:spa")>-1){if(A.pageName.toLowerCase().indexOf("activities:spa:booking")>-1&&A.pageName.toLowerCase().indexOf("detail")>-1){arrpageName=A.pageName.split(":");A.pageName=arrpageName[0]+":"+arrpageName[1]+":"+arrpageName[2]+":"+arrpageName[4]+":"+arrpageName[5]}else{if(A.pageName.toLowerCase().indexOf("activities:spa:booking")>-1){arrpageName=A.pageName.split(":");A.pageName=arrpageName[0]+":"+arrpageName[1]+":"+arrpageName[2]}}}if(A.pageName.toLowerCase().indexOf("activities:transfers:booking")>-1){arrpageName=A.pageName.split(":");A.pageName=arrpageName[0]+":"+arrpageName[1]+":"+arrpageName[2]}if(A.pageName.toLowerCase().indexOf("onlinecheckin:guestsummary:booking")>-1){arrpageName=A.pageName.split(":");A.pageName=arrpageName[0]+":"+arrpageName[1]+":"+arrpageName[2]}}A.setupFormAnalysis();if(!A.eVar26){A.eVar26=A.getQueryParam("icid")}if(!A.eVar26){A.eVar26=A.getQueryParam("WT.mc_id")}A.eVar26=A.getValOnce(A.eVar26,"icname",0);A.eVar18="No:";var r;try{r=document.getElementById("TopDynamic_TopTemplate_Header2007_lnkNotYou");if(r!=null){A.eVar18="Yes:"}}catch(l){}try{r=document.getElementById("TopDynamic_TopTemplate_Header2007_lnkRegLogout");if(r!=null&&r.innerHTML.toLowerCase().indexOf("logout")>-1){A.eVar18="Yes:"}}catch(l){}var y=document.getElementById("Table2");if(y!=null){var w=y.innerHTML.indexOf("Guest #:");if(w>-1){A.eVar18=A.eVar18+"Yes"}else{A.eVar18=A.eVar18+"No"}}else{A.eVar18=A.eVar18+"No"}A.eVar18=A.getValOnce(A.eVar18,"s_reg",0);if(!A.eVar35){A.eVar35=A.getQueryParam("bkno");if(A.eVar35!=""){A.events=A.apl(A.events,"event26:"+A.eVar35,",",1)}}if(A.getQueryParam("bkno")!=""){A.events=A.apl(A.events,"event27:"+A.getQueryParam("bkno"),",",1)}if(!A.eVar11){A.eVar11=A.getQueryParam("offid")}A.eVar35=A.getValOnce(A.eVar35,"bkname",0);if(A.eVar74){A.eVar74=A.getValOnce(A.eVar74,"fpname",0)}var h=new Date();h=(h.getMonth()+1)+"/"+h.getDate()+"/"+(h.getFullYear()+"").substring(2);var c="";if(!A.eVar11){A.channelManager("cid",":","0","","cm_dl","1");if(A._channel=="Natural Search"){A._channel="Organic Search";A.campaign="organic:"+A._partner;A.eVar44="organic:"+A._partner;A.eVar45="organic: "+A._keywords.replace(/\+/g," ");A.eVar24=A._channel;A.eVar9=A._channel;A.eVar47=A.crossVisitParticipation(A.campaign,"s_cpm","30","5",">","purchase",1);A.eVar48=A.crossVisitParticipation(A._channel,"s_cpmch","30","5",">","purchase,event26",1);c="OS";A.eVar55=A.crossVisitParticipation(c+":"+h,"s_cpmchd","30","5",">","purchase,event26",1)}else{if(A._channel=="Paid Search"){A.campaign=A._campaignID;A.eVar44="Paid Search: "+A._partner;if(A._keywords!="n/a"){A.eVar45="paid search: "+A._keywords.replace(/\+/g," ")}A.eVar24=A._channel;A.eVar9=A._channel;A.eVar14=A.getQueryParam("acp");A.eVar47=A.crossVisitParticipation(A.campaign,"s_cpm","30","5",">","purchase",1);A.eVar48=A.crossVisitParticipation(A._channel,"s_cpmch","30","5",">","purchase,event26",1);c="PS";A.eVar55=A.crossVisitParticipation(c+":"+h,"s_cpmchd","30","5",">","purchase,event26",1)}else{if(A._channel=="Direct Load"){A.campaign="Direct";A._channel="Direct";A._partner="";A.eVar24=A._channel;A.eVar9=A._channel;A.eVar47=A.crossVisitParticipation(A.campaign,"s_cpm","30","5",">","purchase",1);A.eVar48=A.crossVisitParticipation(A._channel,"s_cpmch","30","5",">","purchase,event26",1);c="D";A.eVar55=A.crossVisitParticipation(c+":"+h,"s_cpmchd","30","5",">","purchase,event26",1)}else{if(A._channel=="Affiliate"){A.campaign=A._campaignID;A._partner="";A.eVar24=A._channel;A.eVar9=A._channel;A.eVar47=A.crossVisitParticipation(A.campaign,"s_cpm","30","5",">","purchase",1);A.eVar48=A.crossVisitParticipation(A._channel,"s_cpmch","30","5",">","purchase,event26",1);c="AF";A.eVar55=A.crossVisitParticipation(c+":"+h,"s_cpmchd","30","5",">","purchase,event26",1)}else{if(A._channel=="Email"){A.campaign=A._campaignID;A._partner="";A.eVar24=A._channel;A.eVar9=A._channel;A.eVar47=A.crossVisitParticipation(A.campaign,"s_cpm","30","5",">","purchase",1);A.eVar48=A.crossVisitParticipation(A._channel,"s_cpmch","30","5",">","purchase,event26",1);c="E";A.eVar55=A.crossVisitParticipation(c+":"+h,"s_cpmchd","30","5",">","purchase,event26",1)}else{if(A._channel=="Social"){A.campaign=A._campaignID;A._partner="";A.eVar24=A._channel;A.eVar9=A._channel;A.eVar47=A.crossVisitParticipation(A.campaign,"s_cpm","30","5",">","purchase",1);A.eVar48=A.crossVisitParticipation(A._channel,"s_cpmch","30","5",">","purchase,event26",1);c="SO";A.eVar55=A.crossVisitParticipation(c+":"+h,"s_cpmchd","30","5",">","purchase,event26",1)}else{if(A._channel=="Display"){A.campaign=A._campaignID;A._partner="";A.eVar24=A._channel;A.eVar9=A._channel;A.eVar47=A.crossVisitParticipation(A.campaign,"s_cpm","30","5",">","purchase",1);A.eVar48=A.crossVisitParticipation(A._channel,"s_cpmch","30","5",">","purchase,event26",1);c="DI";A.eVar55=A.crossVisitParticipation(c+":"+h,"s_cpmchd","30","5",">","purchase,event26",1)}else{if(A._channel=="Direct Marketing"){A._partner="";A.campaign=A._campaignID;A.eVar24=A._channel;A.eVar9=A._channel;A.eVar47=A.crossVisitParticipation(A.campaign,"s_cpm","30","5",">","purchase",1);A.eVar48=A.crossVisitParticipation(A._channel,"s_cpmch","30","5",">","purchase,event26",1);c="DM";A.eVar55=A.crossVisitParticipation(c+":"+h,"s_cpmchd","30","5",">","purchase,event26",1)}else{if(A._channel=="Performance Media"){A.campaign=A._campaignID;A._partner="";A.eVar24=A._channel;A.eVar9=A._channel;A.eVar47=A.crossVisitParticipation(A.campaign,"s_cpm","30","5",">","purchase",1);A.eVar48=A.crossVisitParticipation(A._channel,"s_cpmch","30","5",">","purchase,event26",1);c="PM";A.eVar55=A.crossVisitParticipation(c+":"+h,"s_cpmchd","30","5",">","purchase,event26",1)}else{if(A._channel=="Video"){A.campaign=A._campaignID;A._partner="";A.eVar24=A._channel;A.eVar9=A._channel;A.eVar47=A.crossVisitParticipation(A.campaign,"s_cpm","30","5",">","purchase",1);A.eVar48=A.crossVisitParticipation(A._channel,"s_cpmch","30","5",">","purchase,event26",1);c="V";A.eVar55=A.crossVisitParticipation(c+":"+h,"s_cpmchd","30","5",">","purchase,event26",1)}else{if(A._channel=="Referrers"){if(!A._campaignID.indexOf("CC_")>-1){A._channel="Other Websites";A.campaign="Referrer: "+A._referringDomain;A._partner="";A.eVar24=A._channel;A.eVar9=A._channel;A.eVar47=A.crossVisitParticipation(A.campaign,"s_cpm","30","5",">","purchase",1);A.eVar48=A.crossVisitParticipation(A._channel,"s_cpmch","30","5",">","purchase,event26",1);c="OW";A.eVar55=A.crossVisitParticipation(c+":"+h,"s_cpmchd","30","5",">","purchase,event26",1)}}else{if(A._channel=="Paid Non-Search"){A._channel="";A._campaignID=""}else{A._channel="";A._campaignID=""}}}}}}}}}}}}}if(typeof A.eVar24!="undefined"){A.eVar12=A.eVar24+":"+A.pageName}A.bounceCheck(A.eVar12,"event54","event55");A.eVar46=A.getQueryParam("match");if(A.campaign!="undefined"){var u=A.getAndPersistValue(A.campaign,"s_cp_persist",0);A.prop19=u+"|"+A.pageName;var v=A.getAndPersistValue(A.eVar9,"s_var9_persist",0);A.prop22=v+"|"+A.pageName}if(!A.prop2){A.prop2=A.getQueryParam("startDate")}if(A.prop2==""){A.prop2=A.getQueryParam("endDate")}if(A.prop2==""){A.prop2=A.getQueryParam("dat")}if(A.prop2.length==10){A.prop2=A.prop2.substring(0,2)+A.prop2.substring(6,10)}A.prop2=A.prop2.replace("/","");function f(M,N,x){if(x){var k=new Date();k.setTime(k.getTime()+(x*24*60*60*1000));var L="; expires="+k.toGMTString()}else{var L=""}document.cookie=M+"="+N+L+"; path=/"}function z(M){var N=M+"=";var x=document.cookie.split(";");for(var L=0;L<x.length;L++){var k=x[L];while(k.charAt(0)==" "){k=k.substring(1,k.length)}if(k.indexOf(N)==0){return k.substring(N.length,k.length)}}return null}function j(k){f(k,"",-1)}var d="";if(c){var g=z("Channel");if(g){var a=g.split(",");var K=0;var q;if(a.length==10){a[10]="V:0"}while(K<a.length){if(a[K].split(":")[0]==c){q=parseInt(a[K].split(":")[1]);q++;d=d+a[K].split(":")[0]+":"+q}else{d=d+a[K]}K++;if(K<a.length){d=d+","}}}else{if(c=="D"){d="D:1,PS:0,E:0,OS:0,DM:0,DI:0,OW:0,AF:0,SO:0,PM:0,V:0"}else{if(c=="PS"){d="D:0,PS:1,E:0,OS:0,DM:0,DI:0,OW:0,AF:0,SO:0,PM:0,V:0"}else{if(c=="E"){d="D:0,PS:0,E:1,OS:0,DM:0,DI:0,OW:0,AF:0,SO:0,PM:0,V:0"}else{if(c=="OS"){d="D:0,PS:0,E:0,OS:1,DM:0,DI:0,OW:0,AF:0,SO:0,PM:0,V:0"}else{if(c=="DM"){d="D:0,PS:0,E:0,OS:0,DM:1,DI:0,OW:0,AF:0,SO:0,PM:0,V:0"}else{if(c=="DI"){d="D:0,PS:0,E:0,OS:0,DM:0,DI:1,OW:0,AF:0,SO:0,PM:0,V:0"}else{if(c=="OW"){d="D:0,PS:0,E:0,OS:0,DM:0,DI:0,OW:1,AF:0,SO:0,PM:0,V:0"}else{if(c=="AF"){d="D:0,PS:0,E:0,OS:0,DM:0,DI:0,OW:0,AF:1,SO:0,PM:0,V:0"}else{if(c=="SO"){d="D:0,PS:0,E:0,OS:0,DM:0,DI:0,OW:0,AF:0,SO:1,PM:0,V:0"}else{if(c=="PM"){d="D:0,PS:0,E:0,OS:0,DM:0,DI:0,OW:0,AF:0,SO:0,PM:1,V:0"}else{if(c=="V"){d="D:0,PS:0,E:0,OS:0,DM:0,DI:0,OW:0,AF:0,SO:0,PM:0,V:1"}else{d=""}}}}}}}}}}}}if(d!=""){f("Channel",d,30)}A.eVar8=d}if(typeof A.events!="undefined"&&typeof A.events=="string"){if(A.events.indexOf("purchase")>-1||A.events.indexOf("event26")>-1){j("Channel")}}else{A.events=""}var B=A.getQueryParam("sailDate");if(B){if(B.length<10){var C=B.split("/");if(C[0].length==1){B="0"+C[0]+"/"}else{B=C[0]+"/"}if(C[1].length==1){B=B+"0"+C[1]+"/"}else{B=B+C[1]+"/"}B=B+C[2]}}var i=new Date();if(A.pageName.toLowerCase().indexOf("cruise itinerary")>-1){var J=z("ccl_signup_form_email");var I=z("UserEmailAddress");if(J){A.prop36=J+"|"+A.getQueryParam("embkCode")+" "+A.getQueryParam("durDays")+" "+A.getQueryParam("subRegionCode")+" "+A.getQueryParam("shipCode")+" "+B+"|"+i.getHours()+":"+i.getMinutes()}else{if(I){A.prop36=I+"|"+A.getQueryParam("embkCode")+" "+A.getQueryParam("durDays")+" "+A.getQueryParam("subRegionCode")+" "+A.getQueryParam("shipCode")+" "+B+"|"+i.getHours()+":"+i.getMinutes()}}}if(A.pageName=="Booking Confirmation Page"){var J=z("ccl_signup_form_email");var I=z("UserEmailAddress");if(J){A.prop36=J+"|"+A.getQueryParam("embkCode")+" "+A.getQueryParam("durDays")+" "+A.getQueryParam("subRegionCode")+" XX "+B+"|"+i.getHours()+":"+i.getMinutes()}else{if(I){A.prop36=I+"|"+A.getQueryParam("embkCode")+" "+A.getQueryParam("durDays")+" "+A.getQueryParam("subRegionCode")+" XX "+B+"|"+i.getHours()+":"+i.getMinutes()}}}var e="prodView,purchase,event7,event12,event13,event14,event16,event19,event20,event26,event59,event60,event61,event63";var o="";var n=A.events.split(",");var p;var t=0;while(t<n.length){p=n[t];if(p.indexOf(":")!=-1){p=p.split(":");p=p[0]}if(e.indexOf(p)!=-1&&n[t]!="event1"&&n[t]!="event2"&&n[t]!="event5"&&n[t]!="event6"){if(p.indexOf("event")!=-1){o=o+p.substring(5)+","}else{if(p.indexOf("purchase")!=-1){o=o+"pch,"}else{if(p.indexOf("prodView")!=-1){o=o+"pv,"}}}}t++}if(o){event_stackingN=o.substring(0,o.length-1);var m=z("eventStacking");if(m){m=m+"|"+event_stackingN}else{m=event_stackingN}A.eVar20=m;f("eventStacking",m,30)}var E=A.getTimeParting("h","-5",new Date().getFullYear());var D=A.getTimeParting("d","-5",new Date().getFullYear());var F=A.getTimeParting("w","-5",new Date().getFullYear());if(E){A.prop12=F+" : "+D+" : "+E}A.eVar13=F+" : "+D+" : "+E;if(!A.prop8){A.prop8=A.getQueryParam("aspxerrorpath")}if(A.prop8&&!A.eVar22){A.eVar22=A.prop8}var G=document.location.href;G=G.toLowerCase();if(G.indexOf("errorhandlingid")>-1){G=G.substring(0,G.indexOf("errorhandlingid"));G+=document.location.href.substring(G.indexOf("&")+1)}else{if(A.pageName=="Search Results"){G=G.substring(0,G.indexOf("?"))}else{if(G.indexOf("/activities/storefront")>-1&&G.indexOf("booking")>-1){G=G.substring(0,G.indexOf("booking/")+7)}else{if(G.indexOf("/activities/excursion")>-1&&G.indexOf("booking")>-1){G=G.substring(0,G.indexOf("booking/")+7)}else{if(G.indexOf("/activities/spa/")>-1){if(G.indexOf("/activities/spa/booking/")>-1&&G.indexOf("detail")>-1){var b=G.split("detail");G=G.substring(0,G.indexOf("booking/")+7)+"/detail"+b[1]}else{if(G.indexOf("activities:spa:booking")==-1&&G.indexOf("booking")>-1&&G.indexOf("detail")==-1){G=G.substring(0,G.indexOf("booking/")+7)}}}else{if(G.indexOf("/activities/transfers/booking/")>-1){G=G.substring(0,G.indexOf("booking/")+7)}else{if(G.indexOf("/onlinecheckin/guestsummary/booking/")>-1){G=G.substring(0,G.indexOf("booking/")+7)}}}}}}}A.prop50=G;if(window.location.toString().indexOf("secure.carnival.com/BookingEngine/Guests")>-1){if(!A.products){A.products=""}A.tProducts=A.products.match(/^[^;]*;[^;]*;([^;]*)/);A.subRegionCode=(A.tProducts&&A.tProducts[1])?A.tProducts[1]:"none";A.guestEmailAddress=$("input[name=guest.EmailAddress]").attr("value");A.guestEmailAddress=(typeof(A.guestEmailAddress!="undefined")&&(A.guestEmailAddress!=""))?A.guestEmailAddress:"none";A.eVar16=A.subRegionCode+":"+A.guestEmailAddress;A.eVar16=A.getValOnce(A.eVar16,"v16",0)}if(A.events.indexOf("event21")>-1){A.prop71=A.eVar71="funpass|visit number|"+A.getVisitNum()}if(A.events.indexOf("event21")>-1){A.prop72=A.eVar72="funpass|days since last visit|"+A.getDaysSinceLastVisit()}if(A.events.indexOf("event21")>-1){A.ttc="start"}if(A.events.indexOf("event22")>-1){A.ttc="stop"}var H=A.getTimeToComplete(A.ttc,"ttc",0);if(A.ttc="stop"&&A.events.indexOf("event22")>-1){A.prop73=A.eVar73="funpass|time to complete|"+H}}s.doPlugins=s_doPlugins;s.getPageName=new Function("u","var s=this,v=u?u:''+s.wd.location,x=v.indexOf(':'),y=v.indexOf('/',x+4),z=v.indexOf('?'),c=s.pathConcatDelim,e=s.pathExcludeDelim,g=s.queryVarsList,d=s.siteID,n=d?d:'',q=z<0?'':v.substring(z+1),p=v.substring(y+1,q?z:v.length);z=p.indexOf('#');p=z<0?p:s.fl(p,z);x=e?p.indexOf(e):-1;p=x<0?p:s.fl(p,x);p+=!p||p.charAt(p.length-1)=='/'?s.defaultPage:'';y=c?c:'/';while(p){x=p.indexOf('/');x=x<0?p.length:x;z=s.fl(p,x);if(!s.pt(s.pathExcludeList,',','p_c',z))n+=n?y+z:z;p=p.substring(x+1)}y=c?c:'?';while(g){x=g.indexOf(',');x=x<0?g.length:x;z=s.fl(g,x);z=s.pt(q,'&','p_c',z);if(z){n+=n?y+z:z;y=c?c:'&'}g=g.substring(x+1)}return n");s.getQueryParam=new Function("p","d","u","var s=this,v='',i,t;d=d?d:'';u=u?u:(s.pageURL?s.pageURL:s.wd.location);if(u=='f')u=s.gtfs().location;while(p){i=p.indexOf(',');i=i<0?p.length:i;t=s.p_gpv(p.substring(0,i),u+'');if(t){t=t.indexOf('#')>-1?t.substring(0,t.indexOf('#')):t;}if(t)v+=v?d+t:t;p=p.substring(i==p.length?i:i+1)}return v");s.p_gpv=new Function("k","u","var s=this,v='',i=u.indexOf('?'),q;if(k&&i>-1){q=u.substring(i+1);v=s.pt(q,'&','p_gvf',k)}return v");s.p_gvf=new Function("t","k","if(t){var s=this,i=t.indexOf('='),p=i<0?t:t.substring(0,i),v=i<0?'True':t.substring(i+1);if(p.toLowerCase()==k.toLowerCase())return s.epa(v)}return ''");s.getValOnce=new Function("v","c","e","var s=this,a=new Date,v=v?v:v='',c=c?c:c='s_gvo',e=e?e:0,k=s.c_r(c);if(v){a.setTime(a.getTime()+e*86400000);s.c_w(c,v,e?a:0);}return v==k?'':v");s.getAndPersistValue=new Function("v","c","e","var s=this,a=new Date;e=e?e:0;a.setTime(a.getTime()+e*86400000);if(v)s.c_w(c,v,e?a:0);return s.c_r(c);");s.bounceCheck=new Function("v","e","b","c","var s=this,a,b,c=c?c:'bc';if(s.p_fo('bounceCheck')==1){a=s.events?s.events+',':'';if(v){s.events=a+e;if(s.c_r(c)){b=parseInt(s.c_r(c))+1;s.c_w(c,b,0);}else{s.c_w(c,1,0);}}else{if(s.c_r(c)>=1){s.c_w(c,0,0);s.events=a+b;}}}");s.p_fo=new Function("n","var s=this;if(!s.__fo){s.__fo=new Object;}if(!s.__fo[n]){s.__fo[n]=new Object;return 1;}else {return 0;}");s.getTimeParting=new Function("t","z","y","dc=new Date('1/1/2000');f=15;ne=8;if(dc.getDay()!=6||dc.getMonth()!=0){return'Data Not Available'}else{;z=parseInt(z);if(y=='2009'){f=8;ne=1};gmar=new Date('3/1/'+y);dsts=f-gmar.getDay();gnov=new Date('11/1/'+y);dste=ne-gnov.getDay();spr=new Date('3/'+dsts+'/'+y);fl=new Date('11/'+dste+'/'+y);cd=new Date();if(cd>spr&&cd<fl){z=z+1}else{z=z};utc=cd.getTime()+(cd.getTimezoneOffset()*60000);tz=new Date(utc + (3600000*z));thisy=tz.getFullYear();var days=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];if(thisy!=y){return'Data Not Available'}else{;thish=tz.getHours();thismin=tz.getMinutes();thisd=tz.getDay();var dow=days[thisd];var ap='AM';var dt='Weekday';var mint='00';if(thismin>30){mint='30'}if(thish>=12){ap='PM';thish=thish-12};if (thish==0){thish=12};if(thisd==6||thisd==0){dt='Weekend'};var timestring=thish+':'+mint+ap;var daystring=dow;var endstring=dt;if(t=='h'){return timestring}if(t=='d'){return daystring};if(t=='w'){return endstring}}};");s.setupFormAnalysis=new Function("var s=this;if(!s.fa){s.fa=new Object;var f=s.fa;f.ol=s.wd.onload;s.wd.onload=s.faol;f.uc=s.useCommerce;f.vu=s.varUsed;f.vl=f.uc?s.eventList:'';f.tfl=s.trackFormList;f.fl=s.formList;f.va=new Array('','','','')}");s.sendFormEvent=new Function("t","pn","fn","en","var s=this,f=s.fa;t=t=='s'?t:'e';f.va[0]=pn;f.va[1]=fn;f.va[3]=t=='s'?'Success':en;s.fasl(t);f.va[1]='';f.va[3]='';");s.faol=new Function("e","var s=s_c_il["+s._in+"],f=s.fa,r=true,fo,fn,i,en,t,tf;if(!e)e=s.wd.event;f.os=new Array;if(f.ol)r=f.ol(e);if(s.d.forms&&s.d.forms.length>0){for(i=s.d.forms.length-1;i>=0;i--){fo=s.d.forms[i];fn=fo.name;tf=f.tfl&&s.pt(f.fl,',','ee',fn)||!f.tfl&&!s.pt(f.fl,',','ee',fn);if(tf){f.os[fn]=fo.onsubmit;fo.onsubmit=s.faos;f.va[1]=fn;f.va[3]='No Data Entered';for(en=0;en<fo.elements.length;en++){el=fo.elements[en];t=el.type;if(t&&t.toUpperCase){t=t.toUpperCase();var md=el.onmousedown,kd=el.onkeydown,omd=md?md.toString():'',okd=kd?kd.toString():'';if(omd.indexOf('.fam(')<0&&okd.indexOf('.fam(')<0){el.s_famd=md;el.s_fakd=kd;el.onmousedown=s.fam;el.onkeydown=s.fam}}}}}f.ul=s.wd.onunload;s.wd.onunload=s.fasl;}return r;");s.faos=new Function("e","var s=s_c_il["+s._in+"],f=s.fa,su;if(!e)e=s.wd.event;if(f.vu){s[f.vu]='';f.va[1]='';f.va[3]='';}su=f.os[this.name];return su?su(e):true;");s.fasl=new Function("e","var s=s_c_il["+s._in+"],f=s.fa,a=f.va,l=s.wd.location,ip=s.trackPageName,p=s.pageName;if(a[1]!=''&&a[3]!=''){a[0]=!p&&ip?l.host+l.pathname:a[0]?a[0]:p;if(!f.uc&&a[3]!='No Data Entered'){if(e=='e')a[2]='Error';else if(e=='s')a[2]='Success';else a[2]='Abandon'}else a[2]='';var tp=ip?a[0]+':':'',t3=e!='s'?':('+a[3]+')':'',ym=!f.uc&&a[3]!='No Data Entered'?tp+a[1]+':'+a[2]+t3:tp+a[1]+t3,ltv=s.linkTrackVars,lte=s.linkTrackEvents,up=s.usePlugins;if(f.uc){s.linkTrackVars=ltv=='None'?f.vu+',events':ltv+',events,'+f.vu;s.linkTrackEvents=lte=='None'?f.vl:lte+','+f.vl;f.cnt=-1;if(e=='e')s.events=s.pt(f.vl,',','fage',2);else if(e=='s')s.events=s.pt(f.vl,',','fage',1);else s.events=s.pt(f.vl,',','fage',0)}else{s.linkTrackVars=ltv=='None'?f.vu:ltv+','+f.vu}s[f.vu]=ym;s.usePlugins=false;var faLink=new Object();faLink.href='#';s.tl(faLink,'o','Form Analysis');s[f.vu]='';s.usePlugins=up}return f.ul&&e!='e'&&e!='s'?f.ul(e):true;");s.fam=new Function("e","var s=s_c_il["+s._in+"],f=s.fa;if(!e) e=s.wd.event;var o=s.trackLastChanged,et=e.type.toUpperCase(),t=this.type.toUpperCase(),fn=this.form.name,en=this.name,sc=false;if(document.layers){kp=e.which;b=e.which}else{kp=e.keyCode;b=e.button}et=et=='MOUSEDOWN'?1:et=='KEYDOWN'?2:et;if(f.ce!=en||f.cf!=fn){if(et==1&&b!=2&&'BUTTONSUBMITRESETIMAGERADIOCHECKBOXSELECT-ONEFILE'.indexOf(t)>-1){f.va[1]=fn;f.va[3]=en;sc=true}else if(et==1&&b==2&&'TEXTAREAPASSWORDFILE'.indexOf(t)>-1){f.va[1]=fn;f.va[3]=en;sc=true}else if(et==2&&kp!=9&&kp!=13){f.va[1]=fn;f.va[3]=en;sc=true}if(sc){nface=en;nfacf=fn}}if(et==1&&this.s_famd)return this.s_famd(e);if(et==2&&this.s_fakd)return this.s_fakd(e);");s.ee=new Function("e","n","return n&&n.toLowerCase?e.toLowerCase()==n.toLowerCase():false;");s.fage=new Function("e","a","var s=this,f=s.fa,x=f.cnt;x=x?x+1:1;f.cnt=x;return x==a?e:'';");s.channelManager=new Function("a","b","c","d","e","f","var s=this,A,B,g,l,m,M,p,q,P,h,k,u,S,i,O,T,j,r,t,D,E,F,G,H,N,U,v=0,X,Y,W,n=new Date;n.setTime(n.getTime()+1800000);if(e){v=1;if(s.c_r(e))v=0;if(!s.c_w(e,1,n))s.c_w(e,1,0);if(!s.c_r(e))v=0;}g=s.referrer?s.referrer:document.referrer;g=g.toLowerCase();if(!g)h=1;i=g.indexOf('?')>-1?g.indexOf('?'):g.length;j=g.substring(0,i);k=s.linkInternalFilters.toLowerCase();k=s.split(k,',');l=k.length;for(m=0;m<l;m++){B=j.indexOf(k[m])==-1?'':g;if(B)O=B;}if(!O&&!h){p=g;U=g.indexOf('//');q=U>-1?U+2:0;Y=g.indexOf('/',q);r=Y>-1?Y:i;t=g.substring(q,r);t=t.toLowerCase();u=t;P='Referrers';S=s.seList+'>'+s._extraSearchEngines;if(d==1){j=s.repl(j,'oogle','%');j=s.repl(j,'ahoo','^');g=s.repl(g,'as_q','*');}A=s.split(S,'>');T=A.length;for(i=0;i<A.length;i++){D=A[i];D=s.split(D,'|');E=s.split(D[0],',');for(G=0;G<E.length;G++){H=j.indexOf(E[G]);if(H>-1){if(D[2])N=u=D[2];else N=t;if(d==1){N=s.repl(N,'#',' - ');g=s.repl(g,'*','as_q');N=s.repl(N,'^','ahoo');N=s.repl(N,'%','oogle');}i=s.split(D[1],',');for(k=0;k<i.length;k++){M=s.getQueryParam(i[k],'',g).toLowerCase();if(M)break;}}}}}if(!O||f!='1'){O=s.getQueryParam(a,b);if(O){u=O;if(M)P='Paid Search';else P='Paid Non-Search';}if(!O&&N){u=N;P='Natural Search'}}if(h==1&&!O&&v==1)u=P=t=p='Direct Load';X=M+u+t;c=c?c:'c_m';if(c!='0'){X=s.getValOnce(X,c,0);}g=s._channelDomain;if(g&&X){k=s.split(g,'>');l=k.length;for(m=0;m<l;m++){q=s.split(k[m],'|');r=s.split(q[1],',');S=r.length;for(T=0;T<S;T++){Y=r[T];Y=Y.toLowerCase();i=j.indexOf(Y);if(i>-1)P=q[0];}}}g=s._channelParameter;if(g&&X){k=s.split(g,'>');l=k.length;for(m=0;m<l;m++){q=s.split(k[m],'|');r=s.split(q[1],',');S=r.length;for(T=0;T<S;T++){U=s.getQueryParam(r[T]);if(U)P=q[0]}}}g=s._channelPattern;if(g&&X){k=s.split(g,'>');l=k.length;for(m=0;m<l;m++){q=s.split(k[m],'|');r=s.split(q[1],',');S=r.length;for(T=0;T<S;T++){Y=r[T];Y=Y.toLowerCase();i=O.toLowerCase();H=i.indexOf(Y);if(H==0)P=q[0];}}}if(X)M=M?M:N?'Keyword Unavailable':'n/a';p=X&&p?p:'';t=X&&t?t:'';N=X&&N?N:'';O=X&&O?O:'';u=X&&u?u:'';M=X&&M?M:'';P=X&&P?P:'';s._referrer=p;s._referringDomain=t;s._partner=N;s._campaignID=O;s._campaign=u;s._keywords=M;s._channel=P;");s.seList="search.com|qu|7search.com>search.about.com|terms|About.com>alltheweb.com|query,q|All The Web>altavista.co|q,r|AltaVista>ca.altavista.com|q|AltaVista - Canada>fr.altavista.com|q,r|AltaVista - France>it.altavista.com|q,r|AltaVista - Italy>nl.altavista.com|q|AltaVista - Netherlands>es.altavista.com|q,r|AltaVista - Spain>se.altavista.com|q,r|AltaVista - Sweden>uk.altavista.com|q,r|AltaVista - United Kingdom>aol.fr|q|AOL - France>suche.aol.de,suche.aolsvc.de|q|AOL - Germany>aol.co.uk,search.aol.co.uk|query|AOL - United Kingdom>search.aol.com,search.aol.ca|query,q|AOL.com Search>ask.com,ask.co.uk|ask,q|Ask Jeeves>www.baidu.com|wd|Baidu>business.com/search|query|Business.com>excite.co.jp|search,s|Excite - Japan>goo.ne.jp|MT|Goo (Jp.)>google.co,googlesyndication.com|q,as_q|Google>google.com.af|q,as_q|Google - Afghanistan>google.as|q,as_q|Google - American Samoa>google.com.ai|q,as_q|Google - Anguilla>google.com.ag|q,as_q|Google - Antigua and Barbuda>google.com.ar|q,as_q|Google - Argentina>google.am|q,as_q|Google - Armenia>google.com.au|q,as_q|Google - Australia>google.at|q,as_q|Google - Austria>google.az|q,as_q|Google - Azerbaijan>google.com.bh|q,as_q|Google - Bahrain>google.com.bd|q,as_q|Google - Bangladesh>google.com.by|q,as_q|Google - Belarus>google.be|q,as_q|Google - Belgium>google.com.bz|q,as_q|Google - Belize>google.com.bo|q,as_q|Google - Bolivia>google.ba|q,as_q|Google - Bosnia-Hercegovina>google.co.bw|q,as_q|Google - Botswana>google.com.br|q,as_q|Google - Brasil>google.vg|q,as_q|Google - British Virgin Islands>google.com.bn|q,as_q|Google - Brunei>google.bg|q,as_q|Google - Bulgaria>google.bi|q,as_q|Google - Burundi>google.com.kh|q,as_q|Google - Cambodia>google.ca|q,as_q|Google - Canada>google.cl|q,as_q|Google - Chile>google.cn|q,as_q|Google - China>google.com.co|q,as_q|Google - Colombia>google.co.ck|q,as_q|Google - Cook Islands>google.co.cr|q,as_q|Google - Costa Rica>google.ci|q,as_q|Google - Cote D'Ivoire>google.hr|q,as_q|Google - Croatia>google.com.cu|q,as_q|Google - Cuba>google.cz|q,as_q|Google - Czech Republic>google.dk|q,as_q|Google - Denmark>google.dj|q,as_q|Google - Djibouti>google.dm|q,as_q|Google - Dominica>google.com.do|q,as_q|Google - Dominican Republic>google.com.ec|q,as_q|Google - Ecuador>google.com.eg|q,as_q|Google - Egypt>google.com.sv|q,as_q|Google - El Salvador>google.ee|q,as_q|Google - Estonia>google.com.et|q,as_q|Google - Ethiopia>google.com.fj|q,as_q|Google - Fiji>google.fi|q,as_q|Google - Finland>google.fr|q,as_q|Google - France>google.de|q,as_q|Google - Germany>google.gr|q,as_q|Google - Greece>google.gl|q,as_q|Google - Greenland>google.gp|q,as_q|Google - Guadeloupe>google.com.gt|q,as_q|Google - Guatemala>google.gg|q,as_q|Google - Guernsey>google.gy|q,as_q|Google - Guyana>google.ht|q,as_q|Google - Haiti>google.hn|q,as_q|Google - Honduras>google.com.hk|q,as_q|Google - Hong Kong>google.hu|q,as_q|Google - Hungary>google.co.in|q,as_q|Google - India>google.co.id|q,as_q|Google - Indonesia>google.ie|q,as_q|Google - Ireland>google.is|q,as_q|Google - Island>google.com.gi|q,as_q|Google - Isle of Gibraltar>google.im|q,as_q|Google - Isle of Man>google.co.il|q,as_q|Google - Israel>google.it|q,as_q|Google - Italy>google.com.jm|q,as_q|Google - Jamaica>google.co.jp|q,as_q|Google - Japan>google.je|q,as_q|Google - Jersey>google.jo|q,as_q|Google - Jordan>google.kz|q,as_q|Google - Kazakhstan>google.co.ke|q,as_q|Google - Kenya>google.co.kr|q,as_q|Google - Korea>google.kg|q,as_q|Google - Kyrgyzstan>google.la|q,as_q|Google - Laos>google.lv|q,as_q|Google - Latvia>google.com.ly|q,as_q|Google - Libya>google.li|q,as_q|Google - Liechtenstein>google.lt|q,as_q|Google - Lithuania>google.lu|q,as_q|Google - Luxembourg>google.mw|q,as_q|Google - Malawi>google.com.my|q,as_q|Google - Malaysia>google.mv|q,as_q|Google - Maldives>google.com.mt|q,as_q|Google - Malta>google.mu|q,as_q|Google - Mauritius>google.com.mx|q,as_q|Google - Mexico>google.md|q,as_q|Google - Moldova>google.mn|q,as_q|Google - Mongolia>google.ms|q,as_q|Google - Montserrat>google.co.ma|q,as_q|Google - Morocco>google.com.na|q,as_q|Google - Namibia>google.com.np|q,as_q|Google - Nepal>google.nl|q,as_q|Google - Netherlands>google.co.nz|q,as_q|Google - New Zealand>google.com.ni|q,as_q|Google - Nicaragua>google.com.ng|q,as_q|Google - Nigeria>google.nu|q,as_q|Google - Niue>google.no|q,as_q|Google - Norway>google.com.om|q,as_q|Google - Oman>google.com.pk|q,as_q|Google - Pakistan>google.com.pa|q,as_q|Google - Panama>google.com.py|q,as_q|Google - Paraguay>google.com.pe|q,as_q|Google - Peru>google.com.ph|q,as_q|Google - Philippines>google.pl|q,as_q|Google - Poland>google.pt|q,as_q|Google - Portugal>google.com.pr|q,as_q|Google - Puerto Rico>google.com.qa|q,as_q|Google - Qatar>google.cd|q,as_q|Google - Rep. Dem. du Congo>google.cg|q,as_q|Google - Rep. du Congo>google.ge|q,as_q|Google - Repulic of Georgia>google.ro|q,as_q|Google - Romania>google.ru|q,as_q|Google - Russia>google.rw|q,as_q|Google - Rwanda>google.com.vc|q,as_q|Google - Saint Vincent and the Grenadine>google.ws|q,as_q|Google - Samoa>google.sm|q,as_q|Google - San Marino>google.st|q,as_q|Google - Sao Tome and Principe>google.com.sa|q,as_q|Google - Saudi Arabia>google.sn|q,as_q|Google - Senegal>google.sc|q,as_q|Google - Seychelles>google.com.sg|q,as_q|Google - Singapore>google.sk|q,as_q|Google - Slovakia>google.si|q,as_q|Google - Slovenia>google.com.sb|q,as_q|Google - Solomon Islands>google.co.za|q,as_q|Google - South Africa>google.es|q,as_q|Google - Spain>google.lk|q,as_q|Google - Sri Lanka>google.se|q,as_q|Google - Sweden>google.ch|q,as_q|Google - Switzerland>google.com.tw|q,as_q|Google - Taiwan>google.co.th|q,as_q|Google - Thailand>google.bs|q,as_q|Google - The Bahamas>google.gm|q,as_q|Google - The Gambia>google.to|q,as_q|Google - Tonga>google.tt|q,as_q|Google - Trinidad and Tobago>google.com.tr|q,as_q|Google - Turkey>google.co.ug|q,as_q|Google - Uganda>google.com.ua|q,as_q|Google - Ukraine>google.ae|q,as_q|Google - United Arab Emirates>google.co.uk|q,as_q|Google - United Kingdom>google.com.uy|q,as_q|Google - Uruguay>google.co.uz|q,as_q|Google - Uzbekiston>google.vu|q,as_q|Google - Vanuatu>google.co.ve|q,as_q|Google - Venezuela>google.com.vn|q,as_q|Google - Viet Nam>google.co.vi|q,as_q|Google - Virgin Islands>google.co.zm|q,as_q|Google - Zambia>google.co.zw|q,as_q|Google - Zimbabwe>infoseek.co.jp|qt|Infoseek - Japan>bing.com|q|Microsoft Bing>www.lycos.com,search.lycos.com|query|Lycos>lycos.es|query|Lycos - Spain>bing.com|q|Microsoft Bing>myway.com|searchfor|MyWay.com>nate.com,search.nate.com|query|Nate.com>netscape.com|query,search|Netscape Search>search.nifty.com|q|Nifty>reference.com|q|Reference.com>searchalot.com|query,q|Searchalot>usseek.com|string|Usseek>vinden.nl|query|Vinden>virgilio.it|qs|Virgilio>yahoo.com,search.yahoo.com|p|Yahoo!>ar.yahoo.com,ar.search.yahoo.com|p|Yahoo! - Argentina>asia.yahoo.com,asia.search.yahoo.com|p|Yahoo! - Asia>au.yahoo.com,au.search.yahoo.com|p|Yahoo! - Australia>br.yahoo.com,br.search.yahoo.com|p|Yahoo! - Brazil>ca.yahoo.com,ca.search.yahoo.com|p|Yahoo! - Canada>cn.yahoo.com,search.cn.yahoo.com|p|Yahoo! - China>dk.yahoo.com,dk.search.yahoo.com|p|Yahoo! - Denmark>fr.yahoo.com,fr.search.yahoo.com|p|Yahoo! - France>de.yahoo.com,de.search.yahoo.com|p|Yahoo! - Germany>hk.yahoo.com,hk.search.yahoo.com|p|Yahoo! - Hong Kong>in.yahoo.com,in.search.yahoo.com|p|Yahoo! - India>id.yahoo.com,id.search.yahoo.com|p|Yahoo! - Indonesia>it.yahoo.com,it.search.yahoo.com|p|Yahoo! - Italy>yahoo.co.jp,search.yahoo.co.jp|p,va|Yahoo! - Japan>kr.yahoo.com,kr.search.yahoo.com|p|Yahoo! - Korea>malaysia.yahoo.com,malaysia.search.yahoo.com|p|Yahoo! - Malaysia>mx.yahoo.com,mx.search.yahoo.com|p|Yahoo! - Mexico>nl.yahoo.com,nl.search.yahoo.com|p|Yahoo! - Netherlands>nz.yahoo.com,nz.search.yahoo.com|p|Yahoo! - New Zealand>no.yahoo.com,no.search.yahoo.com|p|Yahoo! - Norway>ph.yahoo.com,ph.search.yahoo.com|p|Yahoo! - Philippines>ru.yahoo.com,ru.search.yahoo.com|p|Yahoo! - Russia>sg.yahoo.com,sg.search.yahoo.com|p|Yahoo! - Singapore>es.yahoo.com,es.search.yahoo.com|p|Yahoo! - Spain>telemundo.yahoo.com,espanol.search.yahoo.com|p|Yahoo! - Spanish (US : Telemundo)>se.yahoo.com,se.search.yahoo.com|p|Yahoo! - Sweden>ch.search.yahoo.com|p|Yahoo! - Switzerland>tw.yahoo.com,tw.search.yahoo.com|p|Yahoo! - Taiwan>th.yahoo.com,th.search.yahoo.com|p|Yahoo! - Thailand>uk.yahoo.com,uk.search.yahoo.com|p|Yahoo! - UK and Ireland>vn.yahoo.com,vn.search.yahoo.com|p|Yahoo! - Viet Nam>search.cnn.com|query|CNN Web Search>search.earthlink.net|q|Earthlink Search>search.comcast.net|q|Comcast Search>search.rr.com|qs|RoadRunner Search>optimum.net|q|Optimum Search";s.crossVisitParticipation=new Function("v","cn","ex","ct","dl","ev","dv","var s=this,ce;if(typeof(dv)==='undefined')dv=0;if(s.events&&ev){var ay=s.split(ev,',');var ea=s.split(s.events,',');for(var u=0;u<ay.length;u++){for(var x=0;x<ea.length;x++){if(ay[u]==ea[x]){ce=1;}}}}if(!v||v==''){if(ce){s.c_w(cn,'');return'';}else return'';}v=escape(v);var arry=new Array(),a=new Array(),c=s.c_r(cn),g=0,h=new Array();if(c&&c!=''){arry=s.split(c,'],[');for(q=0;q<arry.length;q++){z=arry[q];z=s.repl(z,'[','');z=s.repl(z,']','');z=s.repl(z,\"'\",'');arry[q]=s.split(z,',')}}var e=new Date();e.setFullYear(e.getFullYear()+5);if(dv==0&&arry.length>0&&arry[arry.length-1][0]==v)arry[arry.length-1]=[v,new Date().getTime()];else arry[arry.length]=[v,new Date().getTime()];var start=arry.length-ct<0?0:arry.length-ct;var td=new Date();for(var x=start;x<arry.length;x++){var diff=Math.round((td.getTime()-arry[x][1])/86400000);if(diff<ex){h[g]=unescape(arry[x][0]);a[g]=[arry[x][0],arry[x][1]];g++;}}var data=s.join(a,{delim:',',front:'[',back:']',wrap:\"'\"});s.c_w(cn,data,e);var r=s.join(h,{delim:dl});if(ce)s.c_w(cn,'');return r;");s.getVisitNum=new Function("var s=this,e=new Date(),cval,cvisit,ct=e.getTime(),c='s_vnum',c2='s_invisit';e.setTime(ct+30*24*60*60*1000);cval=s.c_r(c);if(cval){var i=cval.indexOf('&vn='),str=cval.substring(i+4,cval.length),k;}cvisit=s.c_r(c2);if(cvisit){if(str){e.setTime(ct+30*60*1000);s.c_w(c2,'true',e);return str;}else return 'unknown visit number';}else{if(str){str++;k=cval.substring(0,i);e.setTime(k);s.c_w(c,k+'&vn='+str,e);e.setTime(ct+30*60*1000);s.c_w(c2,'true',e);return str;}else{s.c_w(c,ct+30*24*60*60*1000+'&vn=1',e);e.setTime(ct+30*60*1000);s.c_w(c2,'true',e);return 1;}}");s.getDaysSinceLastVisit=new Function("c","var s=this,e=new Date(),es=new Date(),cval,cval_s,cval_ss,ct=e.getTime(),day=24*60*60*1000,f1,f2,f3,f4,f5;e.setTime(ct+3*365*day);es.setTime(ct+30*60*1000);f0='Cookies Not Supported';f1='First Visit';f2='More than 30 days';f3='More than 7 days';f4='Less than 7 days';f5='Less than 1 day';cval=s.c_r(c);if(cval.length==0){s.c_w(c,ct,e);s.c_w(c+'_s',f1,es);}else{var d=ct-cval;if(d>30*60*1000){if(d>30*day){s.c_w(c,ct,e);s.c_w(c+'_s',f2,es);}else if(d<30*day+1 && d>7*day){s.c_w(c,ct,e);s.c_w(c+'_s',f3,es);}else if(d<7*day+1 && d>day){s.c_w(c,ct,e);s.c_w(c+'_s',f4,es);}else if(d<day+1){s.c_w(c,ct,e);s.c_w(c+'_s',f5,es);}}else{s.c_w(c,ct,e);cval_ss=s.c_r(c+'_s');s.c_w(c+'_s',cval_ss,es);}}cval_s=s.c_r(c+'_s');if(cval_s.length==0) return f0;else if(cval_s!=f1&&cval_s!=f2&&cval_s!=f3&&cval_s!=f4&&cval_s!=f5) return '';else return cval_s;");s.getTimeToComplete=new Function("v","cn","e","var s=this,d=new Date,x=d,k;if(!s.ttcr){e=e?e:0;if(v=='start'||v=='stop')s.ttcr=1;x.setTime(x.getTime()+e*86400000);if(v=='start'){s.c_w(cn,d.getTime(),e?x:0);return '';}if(v=='stop'){k=s.c_r(cn);if(!s.c_w(cn,'',d)||!k)return '';v=(d.getTime()-k)/1000;var td=86400,th=3600,tm=60,r=5,u,un;if(v>td){u=td;un='days';}else if(v>th){u=th;un='hours';}else if(v>tm){r=2;u=tm;un='minutes';}else{r=.2;u=1;un='seconds';}v=v*r/u;return (Math.round(v)/r)+' '+un;}}return '';");s.p_c=new Function("v","c","var x=v.indexOf('=');return c.toLowerCase()==v.substring(0,x<0?v.length:x).toLowerCase()?v:0");s.join=new Function("v","p","var s = this;var f,b,d,w;if(p){f=p.front?p.front:'';b=p.back?p.back:'';d=p.delim?p.delim:'';w=p.wrap?p.wrap:'';}var str='';for(var x=0;x<v.length;x++){if(typeof(v[x])=='object' )str+=s.join( v[x],p);else str+=w+v[x]+w;if(x<v.length-1)str+=d;}return f+str+b;");s.split=new Function("l","d","var i,x=0,a=new Array;while(l){i=l.indexOf(d);i=i>-1?i:l.length;a[x++]=l.substring(0,i);l=l.substring(i+d.length);}return a");s.apl=new Function("L","v","d","u","var s=this,m=0;if(!L)L='';if(u){var i,n,a=s.split(L,d);for(i=0;i<a.length;i++){n=a[i];m=m||(u==1?(n==v):(n.toLowerCase()==v.toLowerCase()));}}if(!m)L=L?L+d+v:v;return L");s.repl=new Function("x","o","n","var i=x.indexOf(o),l=n.length;while(x&&i>=0){x=x.substring(0,i)+n+x.substring(i+o.length);i=x.indexOf(o,i+l)}return x");s.loadModule("Media");s.Media.autoTrack=true;s.Media.trackWhilePlaying=true;s.Media.trackSeconds="10";s.Media.trackVars="";s.Media.trackEvents="";s.visitorNamespace="carnivalcruiselines";s.trackingServer="metrics.carnival.com";s.trackingServerSecure="smetrics.carnival.com";s.dc=122;s.m_Media_c="(`OWhilePlaying~='s_media_'+m._in+'_~unc^D(~;`E~m.ae(mn,l,\"'+p+'\",~){var m=this~o;w.percent=((w.off^e+1)/w`X)*100;w.percent=w.percent>1~o.'+f~=new ~o.Get~:Math.floor(w.percent);w.timePlayed=i.t~}`x p');p=tcf(o)~Time~x,x!=2?p:-1,o)}~if(~m.monitor)m.monitor(m.s,w)}~m.s.d.getElementsByTagName~ersionInfo~'^N_c_il['+m._in+'],~'o','var e,p=~else~i.to~=Math.floor(~}catch(e){p=~m.track~s.wd.addEventListener~.name~m.s.rep(~layState~||^8~Object~m.s.wd[f1]~^A+=i.t+d+i.s+d+~.length~parseInt(~Player '+~s.wd.attachEvent~'a','b',c~Media~pe='m~;o[f1]~m.s.isie~.current~);i.~p<p2||p-p2>5)~.event=~m.close~i.lo~vo.linkTrack~=v+',n,~.open~){w.off^e=~;n=m.cn(n);~){this.e(n,~v=e='None';~Quick~MovieName()~);o[f~out(\"'+v+';~return~1000~i.lx~m.ol~o.controls~m.s.ape(i.~load',m.as~)}};m.~script';x.~,t;try{t=~Version()~n==~'--**--',~pev3~o.id~i.ts~tion~){mn=~1;o[f7]=~();~(x==~){p='~&&m.l~l[n])~:'')+i.e~':'E')+o~var m=s~!p){tcf~xc=m.s.~Title()~()/~7+'~+1)/i.l~;i.e=''~3,p,o);~m.l[n]=~Date~5000~;if~i.lt~';c2='~tm.get~Events~set~Change~)};m~',f~(x!=~4+'=n;~~^N.m_i('`c');m.cn=f`2n`5;`x `Rm.s.rep(`Rn,\"\\n\",''),\"\\r\",''),^9''^g`o=f`2n,l,p,b`5,i`8`U,tm`8^X,a='',x`ql=`Yl)`3!l)l=1`3n&&p){`E!m.l)m.l`8`U`3m.^K`k(n)`3b&&b.id)a=b.id;for (x in m.l)`Em.l[x]^J[x].a==a)`k(m.l[x].n`hn=n;i.l=l;i.p=m.cn(p`ha=a;i.t=0;^C=0;i.s`M^c`C^R`y`hlx=0;^a=i.s;`l=0^U;`L=-1;^Wi}};`k=f`2n`r0,-1^g.play=f`2n,o`5,i;i=m.e(n,1,o`hm`8F`2`Ii`3m.l){i=m.l[\"'+`Ri.n,'\"','\\\\\"')+'\"]`3i){`E`z==1)m.e(i.n,3,-1`hmt=^e`Cout(i.m,^Y)}}'`hm(^g.stop=f`2n,o`r2,o)};`O=f`2n`5^Z `0) {m.e(n,4,-1^4e=f`2n,x,o`5,i,tm`8^X,ts`M^c`C^R`y),ti=`OSeconds,tp=`OMilestones,z`8Array,j,d=^9t=1,b,v=`OVars,e=`O^d,`dedia',^A,w`8`U,vo`8`U`qi=n^J&&m.l[n]?m.l[n]:0`3i){w`Q=n;w`X=i.l;w.playerName=i.p`3`L<0)w`j\"OPEN\";`K w`j^H1?\"PLAY\":^H2?\"STOP\":^H3?\"MONITOR\":\"CLOSE\")));w`o`C`8^X^Gw`o`C.^e`C(i.s*`y)`3x>2||^i`z&&^i2||`z==1))) {b=\"`c.\"+name;^A = ^2n)+d+i.l+d+^2p)+d`3x){`Eo<0&&^a>0){o=(ts-^a)+`l;o=o<i.l?o:i.l-1}o`Mo)`3x>=2&&`l<o){i.t+=o-`l;^C+=o-`l;}`Ex<=2){i.e+=^H1?'S^M;`z=x;}`K `E`z!=1)m.e(n,1,o`hlt=ts;`l=o;`W`0&&`L>=0?'L'+`L^L+^i2?`0?'L^M:'')^Z`0){b=0;`d_o'`3x!=4`p`600?100`A`3`F`E`L<0)`d_s';`K `Ex==4)`d_i';`K{t=0;`sti=ti?`Yti):0;z=tp?m.s.sp(tp,','):0`3ti&&^C>=ti)t=1;`K `Ez){`Eo<`L)`L=o;`K{for(j=0;j<z`X;j++){ti=z[j]?`Yz[j]):0`3ti&&((`L^T<ti/100)&&((o^T>=ti/100)){t=1;j=z`X}}}}}}}`K{m.e(n,2,-1)^Z`0`pi.l`600?100`A`3`F^W0`3i.e){`W`0&&`L>=0?'L'+`L^L^Z`0){`s`d_o'}`K{t=0;m.s.fbr(b)}}`K t=0;b=0}`Et){`mVars=v;`m^d=e;vo.pe=pe;vo.^A=^A;m.s.t(vo,b)^Z`0){^C=0;`L=o^U}}}}`x i};m.ae=f`2n,l,p,x,o,b){`En&&p`5`3!m.l||!m.^Km`o(n,l,p,b);m.e(n,x,o^4a=f`2o,t`5,i=^B?^B:o`Q,n=o`Q,p=0,v,c,c1,c2,^Ph,x,e,f1,f2`1oc^h3`1t^h4`1s^h5`1l^h6`1m^h7`1c',tcf,w`3!i){`E!m.c)m.c=0;i`1'+m.c;m.c++}`E!^B)^B=i`3!o`Q)o`Q=n=i`3!^0)^0`8`U`3^0[i])`x;^0[i]=o`3!xc)^Pb;tcf`8F`2`J0;try{`Eo.v`H&&o`g`c&&^1)p=1`N0`B`3^O`8F`2`J0^6`9`t`C^7`3t)p=2`N0`B`3^O`8F`2`J0^6`9V`H()`3t)p=3`N0`B}}v=\"^N_c_il[\"+m._in+\"],o=^0['\"+i+\"']\"`3p==1^IWindows `c `Zo.v`H;c1`np,l,x=-1,cm,c,mn`3o){cm=o`g`c;c=^1`3cm&&c^Ecm`Q?cm`Q:c.URL;l=cm.dura^D;p=c`gPosi^D;n=o.p`S`3n){`E^88)x=0`3^83)x=1`3^81`T2`T4`T5`T6)x=2;}^b`Ex>=0)`4`D}';c=c1+c2`3`f&&xc){x=m.s.d.createElement('script');x.language='j^5type='text/java^5htmlFor=i;x`j'P`S^f(NewState)';x.defer=true;x.text=c;xc.appendChild(x`v6]`8F`2c1+'`E^83){x=3;'+c2+'}^e`Cout(`76+',^Y)'`v6]()}}`Ep==2^I`t`C `Z(`9Is`t`CRegistered()?'Pro ':'')+`9`t`C^7;f1=f2;c`nx,t,l,p,p2,mn`3o^E`9`u?`9`u:`9URL^Gn=`9Rate^Gt=`9`CScale^Gl=`9Dura^D^Rt;p=`9`C^Rt;p2=`75+'`3n!=`74+'||`i{x=2`3n!=0)x=1;`K `Ep>=l)x=0`3`i`42,p2,o);`4`D`En>0&&`7^S>=10){`4^V`7^S=0}`7^S++;`7^j`75+'=p;^e`C`w`72+'(0,0)\",500)}'`e`8F`2`b`v4]=-^F0`e(0,0)}`Ep==3^IReal`Z`9V`H^Gf1=n+'_OnP`S^f';c1`nx=-1,l,p,mn`3o^E`9^Q?`9^Q:`9Source^Gn=`9P`S^Gl=`9Length^R`y;p=`9Posi^D^R`y`3n!=`74+'){`E^83)x=1`3^80`T2`T4`T5)x=2`3^80&&(p>=l||p==0))x=0`3x>=0)`4`D`E^83&&(`7^S>=10||!`73+')){`4^V`7^S=0}`7^S++;`7^j^b`E`72+')`72+'(o,n)}'`3`V)o[f2]=`V;`V`8F`2`b1+c2)`e`8F`2`b1+'^e`C`w`71+'(0,0)\",`73+'?500:^Y);'+c2`v4]=-1`3`f)o[f3]=^F0`e(0,0^4as`8F`2'e',`Il,n`3m.autoTrack&&`G){l=`G(`f?\"OBJECT\":\"EMBED\")`3l)for(n=0;n<l`X;n++)m.a(^K;}')`3`a)`a('on^3);`K `E`P)`P('^3,false)";s.m_i("Media");var s_code="",s_objectID;function s_gi(t,o,q){var d="s.version='H.23.6';s.an=s_an;s.logDebug=function(m){var s=this,tcf=new Function('var e;try{console.log(\"'+s.rep(s.rep(m,\"\\n\",\"\\\\n\"),\"\\\"\",\"\\\\\\\"\")+'\");}catch(e){}');tcf()};s.cls=function(x,c){var i,y='';if(!c)c=this.an;for(i=0;i<x.length;i++){n=x.substring(i,i+1);if(c.indexOf(n)>=0)y+=n}return y};s.fl=function(x,l){return x?(''+x).substring(0,l):x};s.co=function(o){if(!o)return o;var n=new Object,x;for(x in o)if(x.indexOf('select')<0&&x.indexOf('filter')<0)n[x]=o[x];return n};s.num=function(x){x=''+x;for(var p=0;p<x.length;p++)if(('0123456789').indexOf(x.substring(p,p+1))<0)return 0;return 1};s.rep=s_rep;s.sp=s_sp;s.jn=s_jn;s.ape=function(x){var s=this,h='0123456789ABCDEF',i,c=s.charSet,n,l,e,y='';c=c?c.toUpperCase():'';if(x){x=''+x;if(s.em==3)x=encodeURIComponent(x);else if(c=='AUTO'&&('').charCodeAt){for(i=0;i<x.length;i++){c=x.substring(i,i+1);n=x.charCodeAt(i);if(n>127){l=0;e='';while(n||l<4){e=h.substring(n%16,n%16+1)+e;n=(n-n%16)/16;l++}y+='%u'+e}else if(c=='+')y+='%2B';else y+=escape(c)}x=y}else x=escape(''+x);x=s.rep(x,'+','%2B');if(c&&c!='AUTO'&&s.em==1&&x.indexOf('%u')<0&&x.indexOf('%U')<0){i=x.indexOf('%');while(i>=0){i++;if(h.substring(8).indexOf(x.substring(i,i+1).toUpperCase())>=0)return x.substring(0,i)+'u00'+x.substring(i);i=x.indexOf('%',i)}}}return x};s.epa=function(x){var s=this;if(x){x=s.rep(''+x,'+',' ');return s.em==3?decodeURIComponent(x):unescape(x)}return x};s.pt=function(x,d,f,a){var s=this,t=x,z=0,y,r;while(t){y=t.indexOf(d);y=y<0?t.length:y;t=t.substring(0,y);r=s[f](t,a);if(r)return r;z+=y+d.length;t=x.substring(z,x.length);t=z<x.length?t:''}return ''};s.isf=function(t,a){var c=a.indexOf(':');if(c>=0)a=a.substring(0,c);c=a.indexOf('=');if(c>=0)a=a.substring(0,c);if(t.substring(0,2)=='s_')t=t.substring(2);return (t!=''&&t==a)};s.fsf=function(t,a){var s=this;if(s.pt(a,',','isf',t))s.fsg+=(s.fsg!=''?',':'')+t;return 0};s.fs=function(x,f){var s=this;s.fsg='';s.pt(x,',','fsf',f);return s.fsg};s.si=function(){var s=this,i,k,v,c=s_gi+'var s=s_gi(\"'+s.oun+'\");s.sa(\"'+s.un+'\");';for(i=0;i<s.va_g.length;i++){k=s.va_g[i];v=s[k];if(v!=undefined){if(typeof(v)!='number')c+='s.'+k+'=\"'+s_fe(v)+'\";';else c+='s.'+k+'='+v+';'}}c+=\"s.lnk=s.eo=s.linkName=s.linkType=s.wd.s_objectID=s.ppu=s.pe=s.pev1=s.pev2=s.pev3='';\";return c};s.c_d='';s.c_gdf=function(t,a){var s=this;if(!s.num(t))return 1;return 0};s.c_gd=function(){var s=this,d=s.wd.location.hostname,n=s.fpCookieDomainPeriods,p;if(!n)n=s.cookieDomainPeriods;if(d&&!s.c_d){n=n?parseInt(n):2;n=n>2?n:2;p=d.lastIndexOf('.');if(p>=0){while(p>=0&&n>1){p=d.lastIndexOf('.',p-1);n--}s.c_d=p>0&&s.pt(d,'.','c_gdf',0)?d.substring(p):d}}return s.c_d};s.c_r=function(k){var s=this;k=s.ape(k);var c=' '+s.d.cookie,i=c.indexOf(' '+k+'='),e=i<0?i:c.indexOf(';',i),v=i<0?'':s.epa(c.substring(i+2+k.length,e<0?c.length:e));return v!='[[B]]'?v:''};s.c_w=function(k,v,e){var s=this,d=s.c_gd(),l=s.cookieLifetime,t;v=''+v;l=l?(''+l).toUpperCase():'';if(e&&l!='SESSION'&&l!='NONE'){t=(v!=''?parseInt(l?l:0):-60);if(t){e=new Date;e.setTime(e.getTime()+(t*1000))}}if(k&&l!='NONE'){s.d.cookie=k+'='+s.ape(v!=''?v:'[[B]]')+'; path=/;'+(e&&l!='SESSION'?' expires='+e.toGMTString()+';':'')+(d?' domain='+d+';':'');return s.c_r(k)==v}return 0};s.eh=function(o,e,r,f){var s=this,b='s_'+e+'_'+s._in,n=-1,l,i,x;if(!s.ehl)s.ehl=new Array;l=s.ehl;for(i=0;i<l.length&&n<0;i++){if(l[i].o==o&&l[i].e==e)n=i}if(n<0){n=i;l[n]=new Object}x=l[n];x.o=o;x.e=e;f=r?x.b:f;if(r||f){x.b=r?0:o[e];x.o[e]=f}if(x.b){x.o[b]=x.b;return b}return 0};s.cet=function(f,a,t,o,b){var s=this,r,tcf;if(s.apv>=5&&(!s.isopera||s.apv>=7)){tcf=new Function('s','f','a','t','var e,r;try{r=s[f](a)}catch(e){r=s[t](e)}return r');r=tcf(s,f,a,t)}else{if(s.ismac&&s.u.indexOf('MSIE 4')>=0)r=s[b](a);else{s.eh(s.wd,'onerror',0,o);r=s[f](a);s.eh(s.wd,'onerror',1)}}return r};s.gtfset=function(e){var s=this;return s.tfs};s.gtfsoe=new Function('e','var s=s_c_il['+s._in+'],c;s.eh(window,\"onerror\",1);s.etfs=1;c=s.t();if(c)s.d.write(c);s.etfs=0;return true');s.gtfsfb=function(a){return window};s.gtfsf=function(w){var s=this,p=w.parent,l=w.location;s.tfs=w;if(p&&p.location!=l&&p.location.host==l.host){s.tfs=p;return s.gtfsf(s.tfs)}return s.tfs};s.gtfs=function(){var s=this;if(!s.tfs){s.tfs=s.wd;if(!s.etfs)s.tfs=s.cet('gtfsf',s.tfs,'gtfset',s.gtfsoe,'gtfsfb')}return s.tfs};s.mrq=function(u){var s=this,l=s.rl[u],n,r;s.rl[u]=0;if(l)for(n=0;n<l.length;n++){r=l[n];s.mr(0,0,r.r,r.t,r.u)}};s.flushBufferedRequests=function(){};s.mr=function(sess,q,rs,ta,u){var s=this,dc=s.dc,t1=s.trackingServer,t2=s.trackingServerSecure,tb=s.trackingServerBase,p='.sc',ns=s.visitorNamespace,un=s.cls(u?u:(ns?ns:s.fun)),r=new Object,l,imn='s_i_'+(un),im,b,e;if(!rs){if(t1){if(t2&&s.ssl)t1=t2}else{if(!tb)tb='2o7.net';if(dc)dc=(''+dc).toLowerCase();else dc='d1';if(tb=='2o7.net'){if(dc=='d1')dc='112';else if(dc=='d2')dc='122';p=''}t1=un+'.'+dc+'.'+p+tb}rs='http'+(s.ssl?'s':'')+'://'+t1+'/b/ss/'+s.un+'/'+(s.mobile?'5.1':'1')+'/'+s.version+(s.tcn?'T':'')+'/'+sess+'?AQB=1&ndh=1'+(q?q:'')+'&AQE=1';if(s.isie&&!s.ismac)rs=s.fl(rs,2047)}if(s.d.images&&s.apv>=3&&(!s.isopera||s.apv>=7)&&(s.ns6<0||s.apv>=6.1)){if(!s.rc)s.rc=new Object;if(!s.rc[un]){s.rc[un]=1;if(!s.rl)s.rl=new Object;s.rl[un]=new Array;setTimeout('if(window.s_c_il)window.s_c_il['+s._in+'].mrq(\"'+un+'\")',750)}else{l=s.rl[un];if(l){r.t=ta;r.u=un;r.r=rs;l[l.length]=r;return ''}imn+='_'+s.rc[un];s.rc[un]++}im=s.wd[imn];if(!im)im=s.wd[imn]=new Image;im.s_l=0;im.onload=new Function('e','this.s_l=1;var wd=window,s;if(wd.s_c_il){s=wd.s_c_il['+s._in+'];s.mrq(\"'+un+'\");s.nrs--;if(!s.nrs)s.m_m(\"rr\")}');if(!s.nrs){s.nrs=1;s.m_m('rs')}else s.nrs++;if(s.debugTracking){var d='AppMeasurement Debug: '+rs,dl=s.sp(rs,'&'),dln;for(dln=0;dln<dl.length;dln++)d+=\"\\n\\t\"+s.epa(dl[dln]);s.logDebug(d)}im.src=rs;if((!ta||ta=='_self'||ta=='_top'||(s.wd.name&&ta==s.wd.name))&&rs.indexOf('&pe=')>=0){b=e=new Date;while(!im.s_l&&e.getTime()-b.getTime()<500)e=new Date}return ''}return '<im'+'g sr'+'c=\"'+rs+'\" width=1 height=1 border=0 alt=\"\">'};s.gg=function(v){var s=this;if(!s.wd['s_'+v])s.wd['s_'+v]='';return s.wd['s_'+v]};s.glf=function(t,a){if(t.substring(0,2)=='s_')t=t.substring(2);var s=this,v=s.gg(t);if(v)s[t]=v};s.gl=function(v){var s=this;if(s.pg)s.pt(v,',','glf',0)};s.rf=function(x){var s=this,y,i,j,h,p,l=0,q,a,b='',c='',t;if(x&&x.length>255){y=''+x;i=y.indexOf('?');if(i>0){q=y.substring(i+1);y=y.substring(0,i);h=y.toLowerCase();j=0;if(h.substring(0,7)=='http://')j+=7;else if(h.substring(0,8)=='https://')j+=8;i=h.indexOf(\"/\",j);if(i>0){h=h.substring(j,i);p=y.substring(i);y=y.substring(0,i);if(h.indexOf('google')>=0)l=',q,ie,start,search_key,word,kw,cd,';else if(h.indexOf('yahoo.co')>=0)l=',p,ei,';if(l&&q){a=s.sp(q,'&');if(a&&a.length>1){for(j=0;j<a.length;j++){t=a[j];i=t.indexOf('=');if(i>0&&l.indexOf(','+t.substring(0,i)+',')>=0)b+=(b?'&':'')+t;else c+=(c?'&':'')+t}if(b&&c)q=b+'&'+c;else c=''}i=253-(q.length-c.length)-y.length;x=y+(i>0?p.substring(0,i):'')+'?'+q}}}}return x};s.s2q=function(k,v,vf,vfp,f){var s=this,qs='',sk,sv,sp,ss,nke,nk,nf,nfl=0,nfn,nfm;if(k==\"contextData\")k=\"c\";if(v){for(sk in v) {if((!f||sk.substring(0,f.length)==f)&&v[sk]&&(!vf||vf.indexOf(','+(vfp?vfp+'.':'')+sk+',')>=0)){nfm=0;if(nfl)for(nfn=0;nfn<nfl.length;nfn++)if(sk.substring(0,nfl[nfn].length)==nfl[nfn])nfm=1;if(!nfm){if(qs=='')qs+='&'+k+'.';sv=v[sk];if(f)sk=sk.substring(f.length);if(sk.length>0){nke=sk.indexOf('.');if(nke>0){nk=sk.substring(0,nke);nf=(f?f:'')+nk+'.';if(!nfl)nfl=new Array;nfl[nfl.length]=nf;qs+=s.s2q(nk,v,vf,vfp,nf)}else{if(typeof(sv)=='boolean'){if(sv)sv='true';else sv='false'}if(sv){if(vfp=='retrieveLightData'&&f.indexOf('.contextData.')<0){sp=sk.substring(0,4);ss=sk.substring(4);if(sk=='transactionID')sk='xact';else if(sk=='channel')sk='ch';else if(sk=='campaign')sk='v0';else if(s.num(ss)){if(sp=='prop')sk='c'+ss;else if(sp=='eVar')sk='v'+ss;else if(sp=='list')sk='l'+ss;else if(sp=='hier'){sk='h'+ss;sv=sv.substring(0,255)}}}qs+='&'+s.ape(sk)+'='+s.ape(sv)}}}}}}if(qs!='')qs+='&.'+k}return qs};s.hav=function(){var s=this,qs='',l,fv='',fe='',mn,i,e;if(s.lightProfileID){l=s.va_m;fv=s.lightTrackVars;if(fv)fv=','+fv+','+s.vl_mr+','}else{l=s.va_t;if(s.pe||s.linkType){fv=s.linkTrackVars;fe=s.linkTrackEvents;if(s.pe){mn=s.pe.substring(0,1).toUpperCase()+s.pe.substring(1);if(s[mn]){fv=s[mn].trackVars;fe=s[mn].trackEvents}}}if(fv)fv=','+fv+','+s.vl_l+','+s.vl_l2;if(fe){fe=','+fe+',';if(fv)fv+=',events,'}if (s.events2)e=(e?',':'')+s.events2}for(i=0;i<l.length;i++){var k=l[i],v=s[k],b=k.substring(0,4),x=k.substring(4),n=parseInt(x),q=k;if(!v)if(k=='events'&&e){v=e;e=''}if(v&&(!fv||fv.indexOf(k)>=0)&&k!='linkName'&&k!='linkType'){if(k=='timestamp')q='ts';else if(k=='dynamicVariablePrefix')q='D';else if(k=='visitorID')q='vid';else if(k=='pageURL'){q='g';v=s.fl(v,255)}else if(k=='referrer'){q='r';v=s.fl(s.rf(v),255)}else if(k=='vmk'||k=='visitorMigrationKey')q='vmt';else if(k=='visitorMigrationServer'){q='vmf';if(s.ssl&&s.visitorMigrationServerSecure)v=''}else if(k=='visitorMigrationServerSecure'){q='vmf';if(!s.ssl&&s.visitorMigrationServer)v=''}else if(k=='charSet'){q='ce';if(v.toUpperCase()=='AUTO')v='ISO8859-1';else if(s.em==2||s.em==3)v='UTF-8'}else if(k=='visitorNamespace')q='ns';else if(k=='cookieDomainPeriods')q='cdp';else if(k=='cookieLifetime')q='cl';else if(k=='variableProvider')q='vvp';else if(k=='currencyCode')q='cc';else if(k=='channel')q='ch';else if(k=='transactionID')q='xact';else if(k=='campaign')q='v0';else if(k=='resolution')q='s';else if(k=='colorDepth')q='c';else if(k=='javascriptVersion')q='j';else if(k=='javaEnabled')q='v';else if(k=='cookiesEnabled')q='k';else if(k=='browserWidth')q='bw';else if(k=='browserHeight')q='bh';else if(k=='connectionType')q='ct';else if(k=='homepage')q='hp';else if(k=='plugins')q='p';else if(k=='events'){if(e)v+=(v?',':'')+e;if(fe)v=s.fs(v,fe)}else if(k=='events2')v='';else if(k=='contextData'){qs+=s.s2q('c',s[k],fv,k,0);v=''}else if(k=='lightProfileID')q='mtp';else if(k=='lightStoreForSeconds'){q='mtss';if(!s.lightProfileID)v=''}else if(k=='lightIncrementBy'){q='mti';if(!s.lightProfileID)v=''}else if(k=='retrieveLightProfiles')q='mtsr';else if(k=='deleteLightProfiles')q='mtsd';else if(k=='retrieveLightData'){if(s.retrieveLightProfiles)qs+=s.s2q('mts',s[k],fv,k,0);v=''}else if(s.num(x)){if(b=='prop')q='c'+n;else if(b=='eVar')q='v'+n;else if(b=='list')q='l'+n;else if(b=='hier'){q='h'+n;v=s.fl(v,255)}}if(v)qs+='&'+s.ape(q)+'='+(k.substring(0,3)!='pev'?s.ape(v):v)}}return qs};s.ltdf=function(t,h){t=t?t.toLowerCase():'';h=h?h.toLowerCase():'';var qi=h.indexOf('?');h=qi>=0?h.substring(0,qi):h;if(t&&h.substring(h.length-(t.length+1))=='.'+t)return 1;return 0};s.ltef=function(t,h){t=t?t.toLowerCase():'';h=h?h.toLowerCase():'';if(t&&h.indexOf(t)>=0)return 1;return 0};s.lt=function(h){var s=this,lft=s.linkDownloadFileTypes,lef=s.linkExternalFilters,lif=s.linkInternalFilters;lif=lif?lif:s.wd.location.hostname;h=h.toLowerCase();if(s.trackDownloadLinks&&lft&&s.pt(lft,',','ltdf',h))return 'd';if(s.trackExternalLinks&&h.substring(0,1)!='#'&&(lef||lif)&&(!lef||s.pt(lef,',','ltef',h))&&(!lif||!s.pt(lif,',','ltef',h)))return 'e';return ''};s.lc=new Function('e','var s=s_c_il['+s._in+'],b=s.eh(this,\"onclick\");s.lnk=s.co(this);s.t();s.lnk=0;if(b)return this[b](e);return true');s.bc=new Function('e','var s=s_c_il['+s._in+'],f,tcf;if(s.d&&s.d.all&&s.d.all.cppXYctnr)return;s.eo=e.srcElement?e.srcElement:e.target;tcf=new Function(\"s\",\"var e;try{if(s.eo&&(s.eo.tagName||s.eo.parentElement||s.eo.parentNode))s.t()}catch(e){}\");tcf(s);s.eo=0');s.oh=function(o){var s=this,l=s.wd.location,h=o.href?o.href:'',i,j,k,p;i=h.indexOf(':');j=h.indexOf('?');k=h.indexOf('/');if(h&&(i<0||(j>=0&&i>j)||(k>=0&&i>k))){p=o.protocol&&o.protocol.length>1?o.protocol:(l.protocol?l.protocol:'');i=l.pathname.lastIndexOf('/');h=(p?p+'//':'')+(o.host?o.host:(l.host?l.host:''))+(h.substring(0,1)!='/'?l.pathname.substring(0,i<0?0:i)+'/':'')+h}return h};s.ot=function(o){var t=o.tagName;if(o.tagUrn||(o.scopeName&&o.scopeName.toUpperCase()!='HTML'))return '';t=t&&t.toUpperCase?t.toUpperCase():'';if(t=='SHAPE')t='';if(t){if((t=='INPUT'||t=='BUTTON')&&o.type&&o.type.toUpperCase)t=o.type.toUpperCase();else if(!t&&o.href)t='A';}return t};s.oid=function(o){var s=this,t=s.ot(o),p,c,n='',x=0;if(t&&!o.s_oid){p=o.protocol;c=o.onclick;if(o.href&&(t=='A'||t=='AREA')&&(!c||!p||p.toLowerCase().indexOf('javascript')<0))n=s.oh(o);else if(c){n=s.rep(s.rep(s.rep(s.rep(''+c,\"\\r\",''),\"\\n\",''),\"\\t\",''),' ','');x=2}else if(t=='INPUT'||t=='SUBMIT'){if(o.value)n=o.value;else if(o.innerText)n=o.innerText;else if(o.textContent)n=o.textContent;x=3}else if(o.src&&t=='IMAGE')n=o.src;if(n){o.s_oid=s.fl(n,100);o.s_oidt=x}}return o.s_oid};s.rqf=function(t,un){var s=this,e=t.indexOf('='),u=e>=0?t.substring(0,e):'',q=e>=0?s.epa(t.substring(e+1)):'';if(u&&q&&(','+u+',').indexOf(','+un+',')>=0){if(u!=s.un&&s.un.indexOf(',')>=0)q='&u='+u+q+'&u=0';return q}return ''};s.rq=function(un){if(!un)un=this.un;var s=this,c=un.indexOf(','),v=s.c_r('s_sq'),q='';if(c<0)return s.pt(v,'&','rqf',un);return s.pt(un,',','rq',0)};s.sqp=function(t,a){var s=this,e=t.indexOf('='),q=e<0?'':s.epa(t.substring(e+1));s.sqq[q]='';if(e>=0)s.pt(t.substring(0,e),',','sqs',q);return 0};s.sqs=function(un,q){var s=this;s.squ[un]=q;return 0};s.sq=function(q){var s=this,k='s_sq',v=s.c_r(k),x,c=0;s.sqq=new Object;s.squ=new Object;s.sqq[q]='';s.pt(v,'&','sqp',0);s.pt(s.un,',','sqs',q);v='';for(x in s.squ)if(x&&(!Object||!Object.prototype||!Object.prototype[x]))s.sqq[s.squ[x]]+=(s.sqq[s.squ[x]]?',':'')+x;for(x in s.sqq)if(x&&(!Object||!Object.prototype||!Object.prototype[x])&&s.sqq[x]&&(x==q||c<2)){v+=(v?'&':'')+s.sqq[x]+'='+s.ape(x);c++}return s.c_w(k,v,0)};s.wdl=new Function('e','var s=s_c_il['+s._in+'],r=true,b=s.eh(s.wd,\"onload\"),i,o,oc;if(b)r=this[b](e);for(i=0;i<s.d.links.length;i++){o=s.d.links[i];oc=o.onclick?\"\"+o.onclick:\"\";if((oc.indexOf(\"s_gs(\")<0||oc.indexOf(\".s_oc(\")>=0)&&oc.indexOf(\".tl(\")<0)s.eh(o,\"onclick\",0,s.lc);}return r');s.wds=function(){var s=this;if(s.apv>3&&(!s.isie||!s.ismac||s.apv>=5)){if(s.b&&s.b.attachEvent)s.b.attachEvent('onclick',s.bc);else if(s.b&&s.b.addEventListener)s.b.addEventListener('click',s.bc,false);else s.eh(s.wd,'onload',0,s.wdl)}};s.vs=function(x){var s=this,v=s.visitorSampling,g=s.visitorSamplingGroup,k='s_vsn_'+s.un+(g?'_'+g:''),n=s.c_r(k),e=new Date,y=e.getYear();e.setYear(y+10+(y<1900?1900:0));if(v){v*=100;if(!n){if(!s.c_w(k,x,e))return 0;n=x}if(n%10000>v)return 0}return 1};s.dyasmf=function(t,m){if(t&&m&&m.indexOf(t)>=0)return 1;return 0};s.dyasf=function(t,m){var s=this,i=t?t.indexOf('='):-1,n,x;if(i>=0&&m){var n=t.substring(0,i),x=t.substring(i+1);if(s.pt(x,',','dyasmf',m))return n}return 0};s.uns=function(){var s=this,x=s.dynamicAccountSelection,l=s.dynamicAccountList,m=s.dynamicAccountMatch,n,i;s.un=s.un.toLowerCase();if(x&&l){if(!m)m=s.wd.location.host;if(!m.toLowerCase)m=''+m;l=l.toLowerCase();m=m.toLowerCase();n=s.pt(l,';','dyasf',m);if(n)s.un=n}i=s.un.indexOf(',');s.fun=i<0?s.un:s.un.substring(0,i)};s.sa=function(un){var s=this;s.un=un;if(!s.oun)s.oun=un;else if((','+s.oun+',').indexOf(','+un+',')<0)s.oun+=','+un;s.uns()};s.m_i=function(n,a){var s=this,m,f=n.substring(0,1),r,l,i;if(!s.m_l)s.m_l=new Object;if(!s.m_nl)s.m_nl=new Array;m=s.m_l[n];if(!a&&m&&m._e&&!m._i)s.m_a(n);if(!m){m=new Object,m._c='s_m';m._in=s.wd.s_c_in;m._il=s._il;m._il[m._in]=m;s.wd.s_c_in++;m.s=s;m._n=n;m._l=new Array('_c','_in','_il','_i','_e','_d','_dl','s','n','_r','_g','_g1','_t','_t1','_x','_x1','_rs','_rr','_l');s.m_l[n]=m;s.m_nl[s.m_nl.length]=n}else if(m._r&&!m._m){r=m._r;r._m=m;l=m._l;for(i=0;i<l.length;i++)if(m[l[i]])r[l[i]]=m[l[i]];r._il[r._in]=r;m=s.m_l[n]=r}if(f==f.toUpperCase())s[n]=m;return m};s.m_a=new Function('n','g','e','if(!g)g=\"m_\"+n;var s=s_c_il['+s._in+'],c=s[g+\"_c\"],m,x,f=0;if(!c)c=s.wd[\"s_\"+g+\"_c\"];if(c&&s_d)s[g]=new Function(\"s\",s_ft(s_d(c)));x=s[g];if(!x)x=s.wd[\\'s_\\'+g];if(!x)x=s.wd[g];m=s.m_i(n,1);if(x&&(!m._i||g!=\"m_\"+n)){m._i=f=1;if((\"\"+x).indexOf(\"function\")>=0)x(s);else s.m_m(\"x\",n,x,e)}m=s.m_i(n,1);if(m._dl)m._dl=m._d=0;s.dlt();return f');s.m_m=function(t,n,d,e){t='_'+t;var s=this,i,x,m,f='_'+t,r=0,u;if(s.m_l&&s.m_nl)for(i=0;i<s.m_nl.length;i++){x=s.m_nl[i];if(!n||x==n){m=s.m_i(x);u=m[t];if(u){if((''+u).indexOf('function')>=0){if(d&&e)u=m[t](d,e);else if(d)u=m[t](d);else u=m[t]()}}if(u)r=1;u=m[t+1];if(u&&!m[f]){if((''+u).indexOf('function')>=0){if(d&&e)u=m[t+1](d,e);else if(d)u=m[t+1](d);else u=m[t+1]()}}m[f]=1;if(u)r=1}}return r};s.m_ll=function(){var s=this,g=s.m_dl,i,o;if(g)for(i=0;i<g.length;i++){o=g[i];if(o)s.loadModule(o.n,o.u,o.d,o.l,o.e,1);g[i]=0}};s.loadModule=function(n,u,d,l,e,ln){var s=this,m=0,i,g,o=0,f1,f2,c=s.h?s.h:s.b,b,tcf;if(n){i=n.indexOf(':');if(i>=0){g=n.substring(i+1);n=n.substring(0,i)}else g=\"m_\"+n;m=s.m_i(n)}if((l||(n&&!s.m_a(n,g)))&&u&&s.d&&c&&s.d.createElement){if(d){m._d=1;m._dl=1}if(ln){if(s.ssl)u=s.rep(u,'http:','https:');i='s_s:'+s._in+':'+n+':'+g;b='var s=s_c_il['+s._in+'],o=s.d.getElementById(\"'+i+'\");if(s&&o){if(!o.l&&s.wd.'+g+'){o.l=1;if(o.i)clearTimeout(o.i);o.i=0;s.m_a(\"'+n+'\",\"'+g+'\"'+(e?',\"'+e+'\"':'')+')}';f2=b+'o.c++;if(!s.maxDelay)s.maxDelay=250;if(!o.l&&o.c<(s.maxDelay*2)/100)o.i=setTimeout(o.f2,100)}';f1=new Function('e',b+'}');tcf=new Function('s','c','i','u','f1','f2','var e,o=0;try{o=s.d.createElement(\"script\");if(o){o.type=\"text/javascript\";'+(n?'o.id=i;o.defer=true;o.onload=o.onreadystatechange=f1;o.f2=f2;o.l=0;':'')+'o.src=u;c.appendChild(o);'+(n?'o.c=0;o.i=setTimeout(f2,100)':'')+'}}catch(e){o=0}return o');o=tcf(s,c,i,u,f1,f2)}else{o=new Object;o.n=n+':'+g;o.u=u;o.d=d;o.l=l;o.e=e;g=s.m_dl;if(!g)g=s.m_dl=new Array;i=0;while(i<g.length&&g[i])i++;g[i]=o}}else if(n){m=s.m_i(n);m._e=1}return m};s.voa=function(vo,r){var s=this,l=s.va_g,i,k,v,x;for(i=0;i<l.length;i++){k=l[i];v=vo[k];if(v||vo['!'+k]){if(!r&&(k==\"contextData\"||k==\"retrieveLightData\")&&s[k])for(x in s[k])if(!v[x])v[x]=s[k][x];s[k]=v}}};s.vob=function(vo){var s=this,l=s.va_g,i,k;for(i=0;i<l.length;i++){k=l[i];vo[k]=s[k];if(!vo[k])vo['!'+k]=1}};s.dlt=new Function('var s=s_c_il['+s._in+'],d=new Date,i,vo,f=0;if(s.dll)for(i=0;i<s.dll.length;i++){vo=s.dll[i];if(vo){if(!s.m_m(\"d\")||d.getTime()-vo._t>=s.maxDelay){s.dll[i]=0;s.t(vo)}else f=1}}if(s.dli)clearTimeout(s.dli);s.dli=0;if(f){if(!s.dli)s.dli=setTimeout(s.dlt,s.maxDelay)}else s.dll=0');s.dl=function(vo){var s=this,d=new Date;if(!vo)vo=new Object;s.vob(vo);vo._t=d.getTime();if(!s.dll)s.dll=new Array;s.dll[s.dll.length]=vo;if(!s.maxDelay)s.maxDelay=250;s.dlt()};s.track=s.t=function(vo){var s=this,trk=1,tm=new Date,sed=Math&&Math.random?Math.floor(Math.random()*10000000000000):tm.getTime(),sess='s'+Math.floor(tm.getTime()/10800000)%10+sed,y=tm.getYear(),vt=tm.getDate()+'/'+tm.getMonth()+'/'+(y<1900?y+1900:y)+' '+tm.getHours()+':'+tm.getMinutes()+':'+tm.getSeconds()+' '+tm.getDay()+' '+tm.getTimezoneOffset(),tcf,tfs=s.gtfs(),ta=-1,q='',qs='',code='',vb=new Object;s.gl(s.vl_g);s.uns();s.m_ll();if(!s.td){var tl=tfs.location,a,o,i,x='',c='',v='',p='',bw='',bh='',j='1.0',k=s.c_w('s_cc','true',0)?'Y':'N',hp='',ct='',pn=0,ps;if(String&&String.prototype){j='1.1';if(j.match){j='1.2';if(tm.setUTCDate){j='1.3';if(s.isie&&s.ismac&&s.apv>=5)j='1.4';if(pn.toPrecision){j='1.5';a=new Array;if(a.forEach){j='1.6';i=0;o=new Object;tcf=new Function('o','var e,i=0;try{i=new Iterator(o)}catch(e){}return i');i=tcf(o);if(i&&i.next)j='1.7'}}}}}if(s.apv>=4)x=screen.width+'x'+screen.height;if(s.isns||s.isopera){if(s.apv>=3){v=s.n.javaEnabled()?'Y':'N';if(s.apv>=4){c=screen.pixelDepth;bw=s.wd.innerWidth;bh=s.wd.innerHeight}}s.pl=s.n.plugins}else if(s.isie){if(s.apv>=4){v=s.n.javaEnabled()?'Y':'N';c=screen.colorDepth;if(s.apv>=5){bw=s.d.documentElement.offsetWidth;bh=s.d.documentElement.offsetHeight;if(!s.ismac&&s.b){tcf=new Function('s','tl','var e,hp=0;try{s.b.addBehavior(\"#default#homePage\");hp=s.b.isHomePage(tl)?\"Y\":\"N\"}catch(e){}return hp');hp=tcf(s,tl);tcf=new Function('s','var e,ct=0;try{s.b.addBehavior(\"#default#clientCaps\");ct=s.b.connectionType}catch(e){}return ct');ct=tcf(s)}}}else r=''}if(s.pl)while(pn<s.pl.length&&pn<30){ps=s.fl(s.pl[pn].name,100)+';';if(p.indexOf(ps)<0)p+=ps;pn++}s.resolution=x;s.colorDepth=c;s.javascriptVersion=j;s.javaEnabled=v;s.cookiesEnabled=k;s.browserWidth=bw;s.browserHeight=bh;s.connectionType=ct;s.homepage=hp;s.plugins=p;s.td=1}if(vo){s.vob(vb);s.voa(vo)}if((vo&&vo._t)||!s.m_m('d')){if(s.usePlugins)s.doPlugins(s);var l=s.wd.location,r=tfs.document.referrer;if(!s.pageURL)s.pageURL=l.href?l.href:l;if(!s.referrer&&!s._1_referrer){s.referrer=r;s._1_referrer=1}s.m_m('g');if(s.lnk||s.eo){var o=s.eo?s.eo:s.lnk,p=s.pageName,w=1,t=s.ot(o),n=s.oid(o),x=o.s_oidt,h,l,i,oc;if(s.eo&&o==s.eo){while(o&&!n&&t!='BODY'){o=o.parentElement?o.parentElement:o.parentNode;if(o){t=s.ot(o);n=s.oid(o);x=o.s_oidt}}if(o){oc=o.onclick?''+o.onclick:'';if((oc.indexOf('s_gs(')>=0&&oc.indexOf('.s_oc(')<0)||oc.indexOf('.tl(')>=0)o=0}}if(o){if(n)ta=o.target;h=s.oh(o);i=h.indexOf('?');h=s.linkLeaveQueryString||i<0?h:h.substring(0,i);l=s.linkName;t=s.linkType?s.linkType.toLowerCase():s.lt(h);if(t&&(h||l)){s.pe='lnk_'+(t=='d'||t=='e'?t:'o');q+='&pe='+s.pe+(h?'&pev1='+s.ape(h):'')+(l?'&pev2='+s.ape(l):'');}else trk=0;if(s.trackInlineStats){if(!p){p=s.pageURL;w=0}t=s.ot(o);i=o.sourceIndex;if(s.gg('objectID')){n=s.gg('objectID');x=1;i=1}if(p&&n&&t)qs='&pid='+s.ape(s.fl(p,255))+(w?'&pidt='+w:'')+'&oid='+s.ape(s.fl(n,100))+(x?'&oidt='+x:'')+'&ot='+s.ape(t)+(i?'&oi='+i:'')}}else trk=0}if(trk||qs){s.sampled=s.vs(sed);if(trk){if(s.sampled)code=s.mr(sess,(vt?'&t='+s.ape(vt):'')+s.hav()+q+(qs?qs:s.rq()),0,ta);qs='';s.m_m('t');if(s.p_r)s.p_r();s.referrer=s.lightProfileID=s.retrieveLightProfiles=s.deleteLightProfiles=''}s.sq(qs)}}else s.dl(vo);if(vo)s.voa(vb,1);s.lnk=s.eo=s.linkName=s.linkType=s.wd.s_objectID=s.ppu=s.pe=s.pev1=s.pev2=s.pev3='';if(s.pg)s.wd.s_lnk=s.wd.s_eo=s.wd.s_linkName=s.wd.s_linkType='';return code};s.trackLink=s.tl=function(o,t,n,vo){var s=this;s.lnk=s.co(o);s.linkType=t;s.linkName=n;s.t(vo)};s.trackLight=function(p,ss,i,vo){var s=this;s.lightProfileID=p;s.lightStoreForSeconds=ss;s.lightIncrementBy=i;s.t(vo)};s.setTagContainer=function(n){var s=this,l=s.wd.s_c_il,i,t,x,y;s.tcn=n;if(l)for(i=0;i<l.length;i++){t=l[i];if(t&&t._c=='s_l'&&t.tagContainerName==n){for(i=0;i<s.va_g.length;i++){x=s.va_g[i];if(t[x])s[x]=t[x]}if(t.lmq)for(i=0;i<t.lmq.length;i++){x=t.lmq[i];y='m_'+x.n;if(!s[y]&&!s[y+'_c']){s[y]=t[y];s[y+'_c']=t[y+'_c']}s.loadModule(x.n,x.u,x.d)}if(t.onLoad)t.onLoad(s);if(t.tq)for(i=0;i<t.tq.length;i++)s.t(t.tq[i]);t.s=s}}};s.wd=window;s.ssl=(s.wd.location.protocol.toLowerCase().indexOf('https')>=0);s.d=document;s.b=s.d.body;if(s.d.getElementsByTagName){s.h=s.d.getElementsByTagName('HEAD');if(s.h)s.h=s.h[0]}s.n=navigator;s.u=s.n.userAgent;s.ns6=s.u.indexOf('Netscape6/');var apn=s.n.appName,v=s.n.appVersion,ie=v.indexOf('MSIE '),o=s.u.indexOf('Opera '),i;if(v.indexOf('Opera')>=0||o>0)apn='Opera';s.isie=(apn=='Microsoft Internet Explorer');s.isns=(apn=='Netscape');s.isopera=(apn=='Opera');s.ismac=(s.u.indexOf('Mac')>=0);if(o>0)s.apv=parseFloat(s.u.substring(o+6));else if(ie>0){s.apv=parseInt(i=v.substring(ie+5));if(s.apv>3)s.apv=parseFloat(i)}else if(s.ns6>0)s.apv=parseFloat(s.u.substring(s.ns6+10));else s.apv=parseFloat(v);s.em=0;if(s.em.toPrecision)s.em=3;else if(String.fromCharCode){i=escape(String.fromCharCode(256)).toUpperCase();s.em=(i=='%C4%80'?2:(i=='%U0100'?1:0))}if(s.oun)s.sa(s.oun);s.sa(un);s.vl_l='dynamicVariablePrefix,visitorID,vmk,visitorMigrationKey,visitorMigrationServer,visitorMigrationServerSecure,ppu,charSet,visitorNamespace,cookieDomainPeriods,cookieLifetime,pageName,pageURL,referrer,currencyCode';s.va_l=s.sp(s.vl_l,',');s.vl_mr=s.vl_m='charSet,visitorNamespace,cookieDomainPeriods,cookieLifetime,contextData,lightProfileID,lightStoreForSeconds,lightIncrementBy';s.vl_t=s.vl_l+',variableProvider,channel,server,pageType,transactionID,purchaseID,campaign,state,zip,events,events2,products,linkName,linkType,contextData,lightProfileID,lightStoreForSeconds,lightIncrementBy,retrieveLightProfiles,deleteLightProfiles,retrieveLightData';var n;for(n=1;n<=75;n++){s.vl_t+=',prop'+n+',eVar'+n;s.vl_m+=',prop'+n+',eVar'+n}for(n=1;n<=5;n++)s.vl_t+=',hier'+n;for(n=1;n<=3;n++)s.vl_t+=',list'+n;s.va_m=s.sp(s.vl_m,',');s.vl_l2=',tnt,pe,pev1,pev2,pev3,resolution,colorDepth,javascriptVersion,javaEnabled,cookiesEnabled,browserWidth,browserHeight,connectionType,homepage,plugins';s.vl_t+=s.vl_l2;s.va_t=s.sp(s.vl_t,',');s.vl_g=s.vl_t+',trackingServer,trackingServerSecure,trackingServerBase,fpCookieDomainPeriods,disableBufferedRequests,mobile,visitorSampling,visitorSamplingGroup,dynamicAccountSelection,dynamicAccountList,dynamicAccountMatch,trackDownloadLinks,trackExternalLinks,trackInlineStats,linkLeaveQueryString,linkDownloadFileTypes,linkExternalFilters,linkInternalFilters,linkTrackVars,linkTrackEvents,linkNames,lnk,eo,lightTrackVars,_1_referrer,un';s.va_g=s.sp(s.vl_g,',');s.pg=pg;s.gl(s.vl_g);s.contextData=new Object;s.retrieveLightData=new Object;if(!ss)s.wds();if(pg){s.wd.s_co=function(o){s_gi(\"_\",1,1).co(o)};s.wd.s_gs=function(un){s_gi(un,1,1).t()};s.wd.s_dc=function(un){s_gi(un,1).t()}}",z=window,h=z.s_c_il,k=navigator,r=k.userAgent,y=k.appVersion,f=y.indexOf("MSIE "),j=r.indexOf("Netscape6/"),b,g,A,p;if(t){t=t.toLowerCase();if(h){for(g=0;g<h.length;g++){p=h[g];A=p._c;if((!A||A=="s_c"||A=="s_l")&&(p.oun==t||(p.fs&&p.sa&&p.fs(p.oun,t)))){if(p.sa){p.sa(t)}if(A=="s_c"){return p}}else{p=0}}}}z.s_an="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";z.s_sp=new Function("x","d","var a=new Array,i=0,j;if(x){if(x.split)a=x.split(d);else if(!d)for(i=0;i<x.length;i++)a[a.length]=x.substring(i,i+1);else while(i>=0){j=x.indexOf(d,i);a[a.length]=x.substring(i,j<0?x.length:j);i=j;if(i>=0)i+=d.length}}return a");z.s_jn=new Function("a","d","var x='',i,j=a.length;if(a&&j>0){x=a[0];if(j>1){if(a.join)x=a.join(d);else for(i=1;i<j;i++)x+=d+a[i]}}return x");z.s_rep=new Function("x","o","n","return s_jn(s_sp(x,o),n)");z.s_d=new Function("x","var t='`^@$#',l=s_an,l2=new Object,x2,d,b=0,k,i=x.lastIndexOf('~~'),j,v,w;if(i>0){d=x.substring(0,i);x=x.substring(i+2);l=s_sp(l,'');for(i=0;i<62;i++)l2[l[i]]=i;t=s_sp(t,'');d=s_sp(d,'~');i=0;while(i<5){v=0;if(x.indexOf(t[i])>=0) {x2=s_sp(x,t[i]);for(j=1;j<x2.length;j++){k=x2[j].substring(0,1);w=t[i]+k;if(k!=' '){v=1;w=d[b+l2[k]]}x2[j]=w+x2[j].substring(1)}}if(v)x=s_jn(x2,'');else{w=t[i]+' ';if(x.indexOf(w)>=0)x=s_rep(x,w,t[i]);i++;b+=62}}}return x");z.s_fe=new Function("c","return s_rep(s_rep(s_rep(c,'\\\\','\\\\\\\\'),'\"','\\\\\"'),\"\\n\",\"\\\\n\")");z.s_fa=new Function("f","var s=f.indexOf('(')+1,e=f.indexOf(')'),a='',c;while(s>=0&&s<e){c=f.substring(s,s+1);if(c==',')a+='\",\"';else if((\"\\n\\r\\t \").indexOf(c)<0)a+=c;s++}return a?'\"'+a+'\"':a");z.s_ft=new Function("c","c+='';var s,e,o,a,d,q,f,h,x;s=c.indexOf('=function(');while(s>=0){s++;d=1;q='';x=0;f=c.substring(s);a=s_fa(f);e=o=c.indexOf('{',s);e++;while(d>0){h=c.substring(e,e+1);if(q){if(h==q&&!x)q='';if(h=='\\\\')x=x?0:1;else x=0}else{if(h=='\"'||h==\"'\")q=h;if(h=='{')d++;if(h=='}')d--}if(d>0)e++}c=c.substring(0,s)+'new Function('+(a?a+',':'')+'\"'+s_fe(c.substring(o+1,e))+'\")'+c.substring(e+1);s=c.indexOf('=function(')}return c;");d=s_d(d);if(f>0){b=parseInt(g=y.substring(f+5));if(b>3){b=parseFloat(g)}}else{if(j>0){b=parseFloat(r.substring(j+10))}else{b=parseFloat(y)}}if(b<5||y.indexOf("Opera")>=0||r.indexOf("Opera")>=0){d=s_ft(d)}if(!p){p=new Object;if(!z.s_c_in){z.s_c_il=new Array;z.s_c_in=0}p._il=z.s_c_il;p._in=z.s_c_in;p._il[p._in]=p;z.s_c_in++}p._c="s_c";(new Function("s","un","pg","ss",d))(p,t,o,q);return p};if(typeof TeaLeaf==="undefined"){TeaLeaf={};TeaLeaf.Private={};TeaLeaf.tlStartLoad=new Date();if(!TeaLeaf.Configuration){TeaLeaf.Configuration={tlversion:"2012.06.01.1",tlSetGUID:false,tlGUIDCookie:{name:"TLGUID",valueLength:32,valueSet:"0123456789ABCDEF",path:"",domain:"",expires:0,secure:false},tlurl:"/CMS/javascript/tealeaf/TealeafTarget.aspx",tlsecureurl:"/CMS/javascript/tealeaf/TealeafTarget.aspx",xhrAsync:true,xhrAsyncOnUnload:false,tlDisableIfInactive:false,tlActivityTimeout:5,xd_CommonDomain:"",xd_iframeID:"",xd_iframeSrcURL:"",xd_iframeSrcURLSecure:""}}}if(window.TeaLeaf&&((typeof TeaLeaf.replay==="function")?!TeaLeaf.replay():!TeaLeaf.replay)&&!TeaLeaf.Event){TeaLeaf.Event={};TeaLeaf.Event.Configuration={tlinit:false,tlqueueevents:true,tlqueueeventstimer:60000,tlqueuemaxevents:30,tlshowexceptions:false,tleventcount:0,tlexceptioncount:0,tlpageid:"",tlinitflag:false,tlusetopqueue:false,tllastdwelltime:"",tlidoflastvisitedcontrol:"",tlcatcherrors:true,tlcatchpopups:false,tlCatchAlerts:false,tlignoresendfailure:true,tlasync:true,tlvisitorder:"",t1970:0,tlmaxeventcount:300,tlmaxeventexception:10,tlResolution:[{width:799,height:599,type:0,displayText:"small"},{width:800,height:600,type:1,displayText:"800x600"},{width:1024,height:760,type:2,displayText:"1024x760"},{width:1280,height:1024,type:3,displayText:"1280x1024"},{width:1000000,height:1000000,type:4,displayText:"large"}],tlHTTPRequestHeadersSet:[{tlreqhttpheadername:"X-TeaLeafType",tlsethttpheader:true,tlreqhttpheadervalue:"TeaLeaf.Event.tlEventType()"},{tlreqhttpheadername:"X-TeaLeafSubType",tlsethttpheader:true,tlreqhttpheadervalue:"TeaLeaf.Event.tlEventSubType()"},{tlreqhttpheadername:"X-TeaLeaf-Page-Url",tlsethttpheader:true,tlreqhttpheadervalue:"TeaLeaf.Event.tlGetUrlPath()"}],tlHTTPRequestHeadersEvalInit:[{tlreqhttpheadername:"X-TeaLeaf-Screen-Res",tlsethttpheader:true,tlreqhttpheadervalue:"TeaLeaf.Event.tlResolutionType(screen.width ,screen.height)"},{tlreqhttpheadername:"X-TeaLeaf-Browser-Res",tlsethttpheader:true,tlreqhttpheadervalue:"TeaLeaf.Event.tlResolutionTypeBrowser()"},{tlreqhttpheadername:"X-TeaLeaf-Page-Render",tlsethttpheader:true,tlreqhttpheadervalue:"(function () { var RENDER_TIME_CAP = 3600000, rt = TeaLeaf.Event.tlGetRenderTime(); return (rt > RENDER_TIME_CAP ? RENDER_TIME_CAP : rt); })()"},{tlreqhttpheadername:"X-TeaLeaf-Page-Objects",tlsethttpheader:true,tlreqhttpheadervalue:'TeaLeaf.Event.tlGetElementCount("object")'},{tlreqhttpheadername:"X-TeaLeaf-Page-Img-Fail",tlsethttpheader:true,tlreqhttpheadervalue:"TeaLeaf.Event.tlBadImageCount()"}],tlHTTPRequestHeadersEvalBeforeUnload:[{tlreqhttpheadername:"X-TeaLeaf-Page-Cui-Events",tlsethttpheader:true,tlreqhttpheadervalue:"TeaLeaf.Event.tlGetEventCount()"},{tlreqhttpheadername:"X-TeaLeaf-Page-Cui-Bytes",tlsethttpheader:true,tlreqhttpheadervalue:"TeaLeaf.Request.GetTotalDataLength()"},{tlreqhttpheadername:"X-TeaLeaf-Page-Cui-Exceptions",tlsethttpheader:true,tlreqhttpheadervalue:"TeaLeaf.Event.tlGetExceptionCount()"},{tlreqhttpheadername:"X-TeaLeaf-Alert-Count",tlsethttpheader:true,tlreqhttpheadervalue:"TeaLeaf.Event.tlGetAlertCount()"},{tlreqhttpheadername:"X-TeaLeaf-Page-Dwell",tlsethttpheader:true,tlreqhttpheadervalue:"TeaLeaf.Event.tlGetDwellTime()"},{tlreqhttpheadername:"X-TeaLeaf-Page-Last-Field",tlsethttpheader:true,tlreqhttpheadervalue:"TeaLeaf.Event.tlGetLastVisitedElementID()"},{tlreqhttpheadername:"X-TeaLeaf-Visit-Order",tlsethttpheader:true,tlreqhttpheadervalue:"TeaLeaf.Event.tlGetVisitOrder()"}]}}if(typeof TeaLeaf!=="undefined"&&((typeof TeaLeaf.replay==="function")?!TeaLeaf.replay():!TeaLeaf.replay)&&!TeaLeaf.Env){TeaLeaf.Env={};if(typeof TeaLeaf.Env.Configuration=="undefined"){TeaLeaf.Env.Configuration={tlinit:false,tlPlugins:[{tlIEplugin:"ShockwaveFlash.ShockwaveFlash.1",tlpluginname:"Shockwave Flash",tlversion:"1.0",tlenable:false},{tlIEplugin:"MediaPlayer.MediaPlayer.1",tlpluginname:"Windows Media Player",tlversion:"",tlenable:false},{tlIEplugin:"PDF.PdfCtrl.1",tlpluginname:"Adobe Acrobat",tlversion:"",tlenable:false},{tlIEplugin:"QuickTimeCheckObject.QuickTimeCheck.1",tlpluginname:"QuickTime",tlversion:"",tlenable:false}]}}}if(typeof TeaLeaf!=="undefined"&&((typeof TeaLeaf.replay==="function")?!TeaLeaf.replay():!TeaLeaf.replay)&&!TeaLeaf.Client){TeaLeaf.Client={};if(typeof TeaLeaf.Client.Configuration=="undefined"){TeaLeaf.Client.Configuration={tlinit:false,tlpassword:1,tlsendfocus:false,tlsendblur:false,attachToFrames:true,pinchOnly:true,tlactiontype:"No Submit",tlcontrolsattached:false,tlscanupdate:0,tlIEhref:false,tlEnableAttr:false,tlDiscardInvalidXPath:false,tlUniqueIDCheckEnabled:false,tlScrollOffsetX:0,tlScrollOffsetY:0,tlScrollX:0,tlScrollY:0,tlScrollXDirection:0,tlScrollYDirection:0,tlScrollDirection:"",tlScrollDirectionOrig:"",tlAndroidOrientation:0,tlScheduledScan:false,tlExcludeTags:true,tlUniversalAttach:false,tlStoreQueueInCookie:false,tlFieldBlock:[],tlPrivacyMask:{upperChar:"X",lowerChar:"x",numericChar:"9",symbolChar:"#"},tlWindowHandlers:[{domevent:"resize",load:false,tlhandler:"TeaLeaf.Client.tlQueueResize"},{domevent:"focus",load:true,tlhandler:"TeaLeaf.Client.tlSetFocusTime"},{domevent:"help",load:true,tlhandler:"TeaLeaf.Client.tlAddEvent"},{domevent:"scroll",load:false,tlhandler:"TeaLeaf.Client.tlSendScroll"},{domevent:"beforeprint",load:false,tlhandler:"TeaLeaf.Client.tlAddEvent"},{domevent:"afterprint",load:false,tlhandler:"TeaLeaf.Client.tlAddEvent"},{domevent:"devicemotion",load:false,tlhandler:"TeaLeaf.Client.tlMotionEvent"},{domevent:"deviceorientation",load:false,tlhandler:"TeaLeaf.Client.tlDeviceOrientationEvent"},{domevent:"orientationchange",load:true,tlhandler:"TeaLeaf.Client.tlOrientationChangeEvent"},{domevent:"pageshow",load:true,tlhandler:"TeaLeaf.PageSetup"},{domevent:"pagehide",load:true,tlhandler:"TeaLeaf.Event.tlUnload"},{domevent:"beforeunload",load:true,tlhandler:"TeaLeaf.Event.tlBeforeUnload"},{domevent:"unload",load:false,tlhandler:"TeaLeaf.Event.tlUnload"}],tlDocumentHandlers:[{domevent:"click",load:true,tlhandler:"TeaLeaf.Client.tlAddEvent"},{domevent:"dblclick",load:true,tlhandler:"TeaLeaf.Client.tlAddEvent"},{domevent:"keyup",load:true,tlhandler:"TeaLeaf.Client.tlQueueKey"},{domevent:"mousedown",load:true,tlhandler:"TeaLeaf.Client.tlAddEvent"},{domevent:"mouseup",load:false,tlhandler:"TeaLeaf.Client.tlAddEvent"},{domevent:"mouseover",load:false,tlhandler:"TeaLeaf.Client.tlAddEvent"},{domevent:"mouseout",load:false,tlhandler:"TeaLeaf.Client.tlAddEvent"},{domevent:"contextmenu",load:false,tlhandler:"TeaLeaf.Client.tlAddEvent"},{domevent:"gesturestart",load:false,tlhandler:"TeaLeaf.Client.tlAddGestureEvent"},{domevent:"gesturechange",load:false,tlhandler:"TeaLeaf.Client.tlAddGestureEvent"},{domevent:"gestureend",load:false,tlhandler:"TeaLeaf.Client.tlAddGestureEvent"},{domevent:"touchmove",load:false,tlhandler:"TeaLeaf.Client.tlAddTouchEvent"},{domevent:"touchstart",load:false,tlhandler:"TeaLeaf.Client.tlAddTouchEvent"},{domevent:"touchend",load:true,tlhandler:"TeaLeaf.Client.tlAddTouchEvent"},{domevent:"touchcancel",load:false,tlhandler:"TeaLeaf.Client.tlAddTouchEvent"},{domevent:"mousemove",load:false,tlhandler:"TeaLeaf.Client.tlUserMovement"}],tlSingleAttach:[{domelementID:"",domevent:"mousedown",tlhandler:"TeaLeaf.Client.tlAddEvent"},{domelementID:"",domevent:"mouseup",tlhandler:"TeaLeaf.Client.tlAddEvent"},{domelementID:"",domevent:"mouseover",tlhandler:"TeaLeaf.Client.tlAddEvent"},{domelementID:"",domevent:"mouseout",tlhandler:"TeaLeaf.Client.tlAddEvent"}],tlAttributeCapture:[{tltagname:"a",tlattributename:"href",tlevent:"click"},{tltagname:"button",tlattributename:"value",tlevent:"click"}],tlIDBlackList:[],tlIDWhiteList:[],tlNodeTags:{APPLET:true,ATTRIBUTE:true,B:true,BASE:true,BODY:true,BR:true,CENTER:true,COL:true,COLGROUP:true,COMMENT:true,DIV:true,DEFAULT:true,DEL:true,EVENT:true,FONT:true,FORM:true,HEAD:true,HISTORY:true,HR:true,HTML:true,I:true,INS:true,LINK:true,MAP:true,META:true,NAMESPACE:true,NAVIGGATOR:true,NOBR:true,OPTION:true,P:true,PARAM:true,S:true,SCRIPT:true,SMALL:true,STRIKE:true,STRONG:true,STYLE:true,SUB:true,SUP:true,TH:true,TITLE:true,THEAD:true,TFOOT:true,TR:true,U:true},tlSpecialChildNodeTags:{NOBR:true,P:true}};TeaLeaf.Client.Configuration.tlIdCounter=[]}};if(typeof TeaLeaf!=="undefined"&&((typeof TeaLeaf.replay==="function")?!TeaLeaf.replay():!TeaLeaf.replay)&&TeaLeaf.Configuration&&!TeaLeaf.setupComplete){TeaLeaf.setupComplete=true;if(!TeaLeaf.tlBrowser){TeaLeaf.tlBrowser={UNKNOWN:true}}if(!TeaLeaf.$C){TeaLeaf.$C=function(b){return b}}if(!Array.prototype.push){Array.prototype.stackEnd=0;Array.prototype.push=function(b){this[this.stackEnd]=b;this.stackEnd++}}if(!Array.prototype.pop){Array.prototype.pop=function(){this.stackEnd--;return this[this.stackEnd]}}TeaLeaf.trim=function(b){if(!b||!b.toString){return""}return b.toString().replace(/^\s+|\s+$/g,"")};TeaLeaf.ltrim=function(b){if(!b||!b.toString){return""}return b.toString().replace(/^\s+/,"")};TeaLeaf.rtrim=function(b){if(!b||!b.toString){return""}return b.toString().replace(/\s+$/,"")};TeaLeaf.extend=function(e,f){var d;if(!f||typeof f!=="object"){f={}}if(!e||typeof e!=="object"){return f}for(d in e){if(e.hasOwnProperty(d)){if(typeof e[d]!=="object"||e[d]===null){f[d]=e[d]}else{f[d]=(Object.prototype.toString.call(e[d])==="[object Array]")?[]:{};TeaLeaf.extend(e[d],f[d])}}}return f};TeaLeaf.serializeEventsToXML=(function(){var d=1,c=function(b,p){var i,m=[],n=0,o,a=[],l;if(!b||typeof p!=="object"){return""}b=TeaLeaf.Event.tlFormatXMLName(b);a.push("<"+b);for(o in p){if(!p.hasOwnProperty(o)||p[o]===l||p[o]===""||p[o]===null){continue}if(typeof p[o]==="object"){m.push(c(o,p[o]))}else{a.push(TeaLeaf.Event.tlFormatXMLName(o)+'="'+TeaLeaf.Event.tlFormatXMLValue(p[o].toString())+'"')}}n=m.length;if(n){a.push(">");for(i=0;i<n;i++){a.push(m[i])}a.push("</"+b+">")}else{a.push("/>")}return a.join(" ")};return function(g){var h,a=TeaLeaf.Event.tlGetPageId(),b=[];b.push('<ClientEventSet PostTimeStamp="'+(new Date()).getTime()+'">');while(!g.isEmpty()){h=g.dequeue();if(typeof h!=="object"){continue}h.count=d++;h.PageID=a;b.push(c("ClientEvent",h))}b.push("</ClientEventSet>");return b.join("\n")}}());TeaLeaf.XHRFactory=(function(){var c,d;d=30000;c=function(a){if((a>=200&&a<300)||a===304){return true}return false};return{createXHRObject:function(){var b,a,h;a=[function(){return new XMLHttpRequest()},function(){return new ActiveXObject("Msxml2.XMLHTTP.6.0")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];for(b=0;b<a.length;b++){try{h=a[b]()}catch(e){continue}if(h){this.createXHRObject=a[b];return h}}return null},xhrRequest:function(o,q,a,p,t,r,s){var e,b;if(!o||!q){return null}o=o.toUpperCase();if(!s){s=this.createXHRObject()}if(!s){return null}if(t){s.onreadystatechange=function(){var f,j;try{switch(s.readyState){case 0:break;case 1:break;case 2:if(r&&r.loaded){try{f=s.status;j=s.statusText}catch(h){if(!f){f=0}if(!j){j="None"}}finally{r.loaded(f,j)}}break;case 3:break;case 4:TeaLeaf.XHRFactory.deleteXHRObj(s);if(c(s.status)){if(r&&r.success){r.success(s.responseText,s.responseXML)}}else{if(r&&r.failure){r.failure(s.status,s.statusText)}}break;default:break}}catch(g){}}}s.open(o,q,t);if(a){for(e=0;e<a.length;e++){s.setRequestHeader(a[e].name,a[e].value)}}if(o!=="POST"||!p){p=null}if(t){try{b=setTimeout(function(){TeaLeaf.XHRFactory.deleteXHRObj(s)},d);s.timeoutID=b}catch(i){}}s.send(p);return s},deleteXHRObj:function(a){a.onreadystatechange=function(){};if(a&&a.readyState!==4){if(a.abort){a.abort()}}if(a.timeoutID){clearTimeout(a.timeoutID);a.timeoutID=null}}}}());TeaLeaf.Queue=function(){if(!(this instanceof TeaLeaf.Queue)){return new TeaLeaf.Queue()}this._q=[];this.size=0};TeaLeaf.Queue.prototype={enqueue:function(b){if(typeof b==="undefined"){return this.size}this.size=this._q.push(b);return this.size},dequeue:function(){var b=this._q.shift();this.size=this._q.length;return b},isEmpty:function(){return !this.size}};TeaLeaf.eventQ=new TeaLeaf.Queue();TeaLeaf.Request=function(){var f,g,h,e;f=g=e=null;h="POST";this.getUrl=function(){var j,c,b,d,a;if(e){return e}j=TeaLeaf.Configuration;d=window.location;a=d.protocol;b=a+"//"+d.host;if(a==="http:"){c=j.tlurl}else{c=j.tlsecureurl}if(c.substr(0,1)==="/"){b+=c}else{b+=d.pathname.substr(0,d.pathname.lastIndexOf("/")+1)+c}return b};this.setUrl=function(a){e=a};this.getMethod=function(){return h};this.setMethod=function(a){h=a};this.getData=function(){return f};this.setData=function(a){var b;f=a;if(f){b=TeaLeaf.Request.totalDataLength||0;b+=f.length;TeaLeaf.Request.totalDataLength=b}};this.getHeaders=function(){return g};this.setHeaders=function(a){g=a};this.clear=function(){f=g=e=null}};TeaLeaf.Request.prototype={send:function(p){var e,k,j,l,o,n;o=TeaLeaf.Configuration;if(!o.xd_iframeID){n=TeaLeaf.XHRFactory.xhrRequest(this.getMethod(),this.getUrl(),this.getHeaders(),this.getData(),o.xhrAsync,p);if(!n){if(p&&p.failure){p.failure(0,"XHR request failed!")}return}}else{try{e=document.getElementById(o.xd_iframeID);if(!e||!e.contentWindow){if(p&&p.failure){p.failure(0,"Could not retrive cross-domain iframe target!")}return}k=e.contentWindow;if(k.postMessage&&window.JSON&&0){}else{l=k.TeaLeaf;if(l&&l.Request){j=new l.Request();j.clear();this.setUrl(j.getUrl());j.setHeaders(this.getHeaders());j.setData(this.getData());j.send(p)}}}catch(m){if(p&&p.failure){p.failure(0,(m.name?(m.name+": "+m.message):m.toString()))}return}}}};TeaLeaf.Request.GetTotalDataLength=function(){var b;b=TeaLeaf.Request.totalDataLength||0;return b};TeaLeaf.sendData=function(k,n){var i=window.TeaLeaf,m,l,j,h;if(!k){return -1}n=n||"text/plain";j=new i.Request();if(!j){return -1}j.clear();j.setData(k);h="ClientEvent";l=[{name:"X-TeaLeaf",value:h},{name:"Content-Type",value:n}];l=l.concat(i.Event.tlGetHTTPHeaders(i.Event.Configuration.tlHTTPRequestHeadersSet));if(!i.initHeadersSent){l=l.concat(i.Event.tlGetHTTPHeaders(i.Event.Configuration.tlHTTPRequestHeadersEvalInit));i.initHeadersSent=true}if(i.Event.SendUnloadHeaders&&!i.Event.UnloadHeadersSent){l=l.concat(i.Event.tlGetHTTPHeaders(i.Event.Configuration.tlHTTPRequestHeadersEvalBeforeUnload));i.Event.UnloadHeadersSent=true}j.setHeaders(l);m={loaded:function(a,b){if(i.tlGetCookieValue("tlQueuedXML")){i.tlEraseCookie("tlQueuedXML")}},failure:function(a,b){if(a<200&&!i.Event.Configuration.tlignoresendfailure){i.Event.Configuration.tlignoresendfailure=true;i.Event.tlErrorHandler("XHR failure - Status "+a+": "+b,j.getUrl())}},success:function(a,b){i.Event.Configuration.tlignoresendfailure=false}};i.Event.Configuration.tlignoresendfailure=true;j.send(m);return 0};TeaLeaf.makeRandomString=function(i,h){var g,f,j;if(!i||i<=0){return}if(!h){h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890~!@$-"}j="";for(g=0;g<i;g++){f=Math.floor(Math.random()*h.length);j+=h.charAt(f)}return j};TeaLeaf.getNodeType=function(e){var f,d;if(!e){return""}f=e.nodeName?e.nodeName.toLowerCase():"";d="";if(f==="input"||f==="object"||f==="script"){d=e.type?e.type.toLowerCase():""}return d};TeaLeaf.tLoadObjs=[];TeaLeaf.addOnLoad=function(d,c){if(arguments.length===1){TeaLeaf.tLoadObjs.push(d)}else{if(arguments.length>1){TeaLeaf.tLoadObjs.push(d[c])}}};TeaLeaf.tlSetCookie=function(h,j,g,l,i,k){if(!h){return}document.cookie=h+"="+j+(g?(";expires="+g.toUTCString()):"")+";path="+(l||"/")+(i?(";domain="+i):"")+(k?";secure":"")};TeaLeaf.tlGetCookieValue=function(c){var h,l,i,j,k;k=c+"=";j=null;i=document.cookie.split(";");for(h=0;h<i.length;h++){l=TeaLeaf.ltrim(i[h]);if(l.indexOf(k)===0){j=l.substring(k.length,l.length);break}}return j};TeaLeaf.tlEraseCookie=function(d){var c;c=new Date(1970,1,1);TeaLeaf.tlSetCookie(d,"",c)};TeaLeaf.tlBrowserIsIE=function(){var b;b=TeaLeaf.tlBrowser;if(b){return !!b.MSIE}return false};TeaLeaf.tlBrowserIsMozilla=function(){var b;b=TeaLeaf.tlBrowser;if(b){return !!b.MOZILLA}return false};TeaLeaf.tlBrowserIsWebKit=function(){var b;b=TeaLeaf.tlBrowser;if(b){return !!b.WEBKIT}return false};TeaLeaf.tlBrowserIsAndroid=function(){var b;b=TeaLeaf.tlBrowser;if(b){return !!b.ANDROID}return false};TeaLeaf.tlBrowserIsOpera=function(){var b;b=TeaLeaf.tlBrowser;if(b){return !!b.OPERA}return false};TeaLeaf.tlBrowserIsUnknown=function(){var b;b=TeaLeaf.tlBrowser;if(b){return !!b.UNKNOWN}return false};(function(){var j=TeaLeaf,r=j.Client,n=j.Configuration,o=j.Event,l=null,p=true,k=false,q=o?o.Configuration.tlmaxeventcount:300,m=false;j.tlDisable=function(){p=false;if((m||n.tlDisableIfInactive)&&!k){try{o.tlFlushQueue(true);r.tlDetachFromAllControls();TeaLeaf.Event.tlRemoveHandler(window,"beforeunload",TeaLeaf.Event.tlBeforeUnload,false);TeaLeaf.Event.tlRemoveHandler(window,"unload",TeaLeaf.Event.tlUnload,false)}catch(a){}k=true}};j.activitySinceDisabled=function(){return p};j.tlKeepAlive=function(){if(l){window.clearTimeout(l);l=null}if(m||j.Event.getEventCount()>=q){m=true;j.tlDisable();j.tlKeepAlive=function(){};return}if(!k&&n.tlActivityTimeout){l=window.setTimeout(function(){j.tlDisable()},(n.tlActivityTimeout*60000))}if(!p){p=true}}}());TeaLeaf.PageSetup=function(s){var q,x,o,t,w,i,p,v,r,e;if(document.readyState&&document.readyState!=="complete"){return}p=TeaLeaf;v=p.Configuration;r=v.tlGUIDCookie;if(p.PageSetup.Complete){return}p.PageSetup.Complete=true;p.Event.UnloadHeadersSent=false;p.unloadSent=false;if(p.PageSetup.Cleanup){p.PageSetup.Cleanup()}p.initialOrientation=window.orientation||0;p.tlBrowser.UNKNOWN=false;e=navigator.userAgent.toLowerCase();if(/opera|presto/i.test(e)){p.tlBrowser.OPERA=true}else{if(/android/i.test(e)){p.tlBrowser.ANDROID=true}else{if(/(apple)?webkit|safari|chrome/i.test(e)){p.tlBrowser.WEBKIT=true}else{if(/msie|trident/i.test(e)){p.tlBrowser.MSIE=true}else{if(/mozilla|gecko|firefox/i.test(e)){p.tlBrowser.MOZILLA=true}else{p.tlBrowser.UNKNOWN=true}}}}}if(v.xd_CommonDomain){try{document.domain=v.xd_CommonDomain}catch(s){}}if(v.xd_iframeID){try{t=document.getElementById(v.xd_iframeID);if(!t){w=((window.location.protocol==="http:")?v.xd_iframeSrcURL:v.xd_iframeSrcURLSecure);if(w){t=document.createElement("IFRAME");if(t){t.id=v.xd_iframeID;t.src=w;t.style.display="none";t.style.visibility="hidden";document.body.appendChild(t)}}}}catch(u){}}if(v.tlSetGUID){if(!r||!r.name){}else{if(!r.valueLength){r.valueLength=32}if(!r.valueSet){r.valueSet="0123456789ABCDEF"}x=p.tlGetCookieValue(r.name);if(!x){i=new Date();x=p.makeRandomString(r.valueLength,r.valueSet);o=r.expires?new Date(i.getTime()+r.expires*60*1000):null;p.tlSetCookie(r.name,x,o,r.path,r.domain,r.secure)}}}for(q=0;q<p.tLoadObjs.length;q++){p.tLoadObjs[q]()}p.EndLoad=new Date()};if(document.readyState==="complete"){TeaLeaf.PageSetup()}else{if(document.addEventListener){document.addEventListener("DOMContentLoaded",TeaLeaf.PageSetup,false);window.addEventListener("load",TeaLeaf.PageSetup,false);TeaLeaf.PageSetup.Cleanup=function(){var b;b=TeaLeaf;document.removeEventListener("DOMContentLoaded",b.PageSetup,false);window.removeEventListener("load",b.PageSetup,false)}}else{if(document.attachEvent){document.attachEvent("onreadystatechange",TeaLeaf.PageSetup);window.attachEvent("onload",TeaLeaf.PageSetup);TeaLeaf.PageSetup.Cleanup=function(){var b;b=TeaLeaf;document.detachEvent("onreadystatechange",b.PageSetup);window.detachEvent("onload",b.PageSetup)}}else{if(typeof window.onload==="function"){TeaLeaf.OnLoad=window.onload}else{TeaLeaf.OnLoad=null}window.onload=function(){var b;b=TeaLeaf;b.PageSetup();window.onload=b.OnLoad;if(b.OnLoad){b.OnLoad()}}}}}}if(window.TeaLeaf&&((typeof TeaLeaf.replay==="function")?!TeaLeaf.replay():!TeaLeaf.replay)&&TeaLeaf.Event&&!TeaLeaf.Event.setupComplete){TeaLeaf.Event.setupComplete=true;TeaLeaf.Event.tlQueuedXML="";TeaLeaf.Event.tlWindowObjects=[{tlWindowName:"",tlWindowObject:""}];TeaLeaf.Event.queuedEventTypes={};(function(){var b=0;TeaLeaf.Event.setEventCount=function(a){if(typeof a==="number"){b=a}return b};TeaLeaf.Event.getEventCount=function(){return b}}());TeaLeaf.Event.createBaseEvent=function(d,f){var e;e={type:(d?d.toString():null),subType:(f?f.toString():null),timeDuration:0};return e};TeaLeaf.Event.createExceptionEvent=(function(){var b;b=TeaLeaf.Event.createBaseEvent(TeaLeaf.$C("INFO"),TeaLeaf.$C("EXCEPTION"));return function(g,e,a){var h;h=TeaLeaf.extend(b,{message:g,url:e,line:a});h.timeDuration=TeaLeaf.Event.tlDateDiff(new Date());TeaLeaf.Event.queuedEventTypes.EXCEPTION=true;return h}}());TeaLeaf.Event.createCustomEvent=function(f,d){var e;e=TeaLeaf.Event.createBaseEvent("UIEventAppInfo",f);e.timeDuration=TeaLeaf.Event.tlDateDiff(new Date());TeaLeaf.Event.queuedEventTypes.CUSTOM=true;return TeaLeaf.extend(d,e)};TeaLeaf.Event.createPerformanceEvent=function(e,d){var f;f=TeaLeaf.Event.createBaseEvent("PERFORMANCE",e);f.timeDuration=TeaLeaf.Event.tlDateDiff(new Date());TeaLeaf.Event.queuedEventTypes.PERFORMANCE=true;return TeaLeaf.extend(d,f)};TeaLeaf.Event.createGuiEvent=function(h,g){var f=window.TeaLeaf,e;e=f.Event.createBaseEvent("GUI",h);e.timeDuration=f.Event.tlDateDiff(new Date());f.Event.queuedEventTypes.GUI=true;return f.extend(g,e)};TeaLeaf.Event.tlGetTeaLeafXEvent=function(){var b=TeaLeaf.$C("ClientEvent");return b};TeaLeaf.Event.tlEventType=function(){var e,f="",d;if(typeof TeaLeaf.Event.queuedEventTypes!=="object"){return""}d=TeaLeaf.Event.queuedEventTypes;for(e in d){if(d.hasOwnProperty(e)){f+=e+"; "}}TeaLeaf.Event.queuedEventTypes={};return f};TeaLeaf.Event.tlEventSubType=function(){var b;b=TeaLeaf.Event.SetSubType;TeaLeaf.Event.SetSubType="";return b};TeaLeaf.Event.tlGetUrlPath=function(){var b=window.location.pathname;return b};TeaLeaf.Event.tlGetJSVersion=function(){return TeaLeaf.Configuration.tlversion};TeaLeaf.Event.tlResolutionType=function(h,e){var g,f=TeaLeaf.Event.Configuration.tlResolution;for(g=0;g<f.length;g++){if(h<=f[g].width||e<=f[g].height){return f[g].type}}return f[f.length-1].type};TeaLeaf.Event.tlResolutionTypeBrowser=function(){var g,h,f=0,e=0;if(window.innerWidth){f=window.innerWidth;e=window.innerHeight}else{if(document.documentElement&&document.documentElement.clientWidth){f=document.documentElement.clientWidth;e=document.documentElement.clientHeight}else{if(document.body&&document.body.clientWidth){f=document.body.clientWidth;e=document.body.clientHeight}else{g=document.getElementsByTagName("body");if(g.length>0){f=g[0].clientWidth;e=g[0].clientHeight}}}}h=TeaLeaf.Event.tlResolutionType(f,e);return h};TeaLeaf.Event.tlGetRenderTime=function(){return TeaLeaf.Event.PageLoadMilliSecs};TeaLeaf.Event.tlGetElementCount=function(b){return document.getElementsByName(b).length};TeaLeaf.Event.tlBadImageCount=function(){var h,j,i,f,g;j=0;i=document.images;g=i.length;for(h=0;h<g;h++){f=i[h];if((!f)||(typeof f.complete==="boolean"&&!f.complete)||(typeof f.naturalWidth!=="undefined"&&f.naturalWidth===0)){j++;continue}}return j};TeaLeaf.Event.tlFlashSend=function(l,i,r,m){var j=window.TeaLeaf,p,o,n=j.Event.createBaseEvent(l,i),q=r.split(m);n.timeDuration=j.Event.tlDateDiff(new Date());for(p=0,o=q.length-1;p<o;p+=2){n[q[p]]=q[p+1]}j.eventQ.enqueue(n);j.tlKeepAlive()};TeaLeaf.Event.tlShowFlashDebug=function(e,h){var g,f;h+="<BR>";for(g=0;g<TeaLeaf.Event.tlWindowObjects.length;g++){if(TeaLeaf.Event.tlWindowObjects[g].tlWindowName===e){if(TeaLeaf.Event.tlWindowObjects[g].tlWindowObject.closed){TeaLeaf.Event.tlWindowObjects[g].tlWindowObject=window.open("",e,"width=600,height=300,scrollbars=yes,resizable=yes")}TeaLeaf.Event.tlWindowObjects[g].tlWindowObject.document.writeln(h.fontsize(2));TeaLeaf.Event.tlWindowObjects[g].tlWindowObject.scrollTo(0,50000);return}}f=window.open("",e,"width=600,height=300,scrollbars=yes,resizable=yes");TeaLeaf.Event.tlWindowObjects.push({tlWindowName:e,tlWindowObject:f});f.document.writeln(h.fontsize(2))};TeaLeaf.Event.tlSetEventCount=function(b){TeaLeaf.Event.Configuration.tleventcount+=b};TeaLeaf.Event.tlGetEventCount=function(){return TeaLeaf.Event.Configuration.tleventcount};TeaLeaf.Event.tlGetExceptionCount=function(){return(TeaLeaf.Event.Configuration.tlcatcherrors?TeaLeaf.Event.Configuration.tlexceptioncount:null)};TeaLeaf.Event.tlGetDwellTime=function(){return TeaLeaf.Event.tlDateDiff(TeaLeaf.Event.Configuration.tllastdwelltime)};TeaLeaf.Event.tlGetLastVisitedElementID=function(){return TeaLeaf.Event.Configuration.tlidoflastvisitedcontrol};TeaLeaf.Event.tlDateDiff=function(f,e){var d=TeaLeaf.tlStartLoad.getTime();f=f||d;e=e||d;return Math.abs(f-e)};TeaLeaf.Event.tlGetVisitOrder=function(){return TeaLeaf.Event.Configuration.tlvisitorder};TeaLeaf.Event.tlFormatXMLValue=function(b){if(b&&typeof b==="string"){if(b.replace){return b.replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}return b}return""};TeaLeaf.Event.tlGetHTTPHeaders=function(tlheaderconfig){var i,headers,value;headers=[];for(i=0;i<tlheaderconfig.length;i++){if(tlheaderconfig[i].tlsethttpheader){value=eval(tlheaderconfig[i].tlreqhttpheadervalue);if(value){headers.push({name:tlheaderconfig[i].tlreqhttpheadername,value:value})}}}return headers};TeaLeaf.Event.tlGetPageId=function(){if(TeaLeaf.Event.Configuration.tlpageid){return TeaLeaf.Event.Configuration.tlpageid}if(window.TeaLeaf_PageID){TeaLeaf.Event.Configuration.tlpageid=TeaLeaf_PageID;return TeaLeaf.Event.Configuration.tlpageid}TeaLeaf.Event.Configuration.tlpageid="ID"+TeaLeaf.tlStartLoad.getHours()+"H"+TeaLeaf.tlStartLoad.getMinutes()+"M"+TeaLeaf.tlStartLoad.getSeconds()+"S"+TeaLeaf.tlStartLoad.getMilliseconds()+"R"+Math.random();return TeaLeaf.Event.Configuration.tlpageid};TeaLeaf.Event.tlAddHandler=function(e,j,h,g){try{if(!e){return}if(e.addEventListener){e.addEventListener(j,h,g)}else{if(e.attachEvent){e.attachEvent("on"+j,h)}}}catch(i){}};TeaLeaf.Event.tlRemoveHandler=function(e,j,h,g){try{if(!e){return}if(e.removeEventListener){e.removeEventListener(j,h,g)}else{if(e.detachEvent){e.detachEvent("on"+j,h)}}}catch(i){}};TeaLeaf.Event.tlFlushQueue=(function(){var f,d=1,e=(typeof TeaLeaf.Event.Configuration.jsonSerializer==="function")?true:false;f=e?"application/json":"text/xml";return function(i){var a=window.TeaLeaf,c={messageVersion:"1.0.0.0",serialNumber:d,sessions:[{id:a.Event.tlGetPageId(),startTime:a.tlStartLoad.getTime(),timezoneOffset:a.tlStartLoad.getTimezoneOffset(),messages:[],meta:{libVersion:a.Event.tlGetJSVersion(),page:window.location.href,windowId:a.Env.getWindowId(),screen:{width:window.screen.width,height:window.screen.height,orientation:a.initialOrientation}}}]},j=a.eventQ.size,b="";if(a.eventQ.isEmpty()){return}i=i||!a.Event.Configuration.tlqueueevents;if(!i&&j<a.Event.Configuration.tlqueuemaxevents){return}if(e){while(!a.eventQ.isEmpty()){c.sessions[0].messages.push(a.eventQ.dequeue())}b=a.Event.Configuration.jsonSerializer(c)}else{b=a.serializeEventsToXML(a.eventQ)}a.Event.tlSetEventCount(j);a.sendData(b,f);d+=1}}());TeaLeaf.Event.tlGetAlertCount=function(){var e,f,d;e=TeaLeaf;f=e.Event;d=f.getAlertCount?f.getAlertCount():0;return d};TeaLeaf.Event.tlErrorHandler=function(i,h,e){try{var k=TeaLeaf.Event.Configuration,l;k.tlexceptioncount+=1;if(k.tlexceptioncount>k.tlmaxeventexception){return false}if((typeof i!=="string")&&!h){return false}e=e||0;l=TeaLeaf.Event.createExceptionEvent(i,h,e);TeaLeaf.eventQ.enqueue(l)}catch(j){}return false};(function(){var k,m,h,j,n,l,i;k=TeaLeaf;m=k.Configuration;h=k.Client;j=h.Configuration;n=k.Event;l=n.Configuration;i=function(b){var d,c=new Date(),a;if(k.unloadSent){return}if(!k.activitySinceDisabled()){return}if(j.tlIEhref){j.tlIEhref=false;return}h.tlSendKeys();h.tlSendResize();h.tlSendScroll(null,true);if(!m.xhrAsyncOnUnload){m.xhrAsync=false}if(j.tlStoreQueueInCookie){c.setTime(c.getTime()+300000);d=n.tlQueuedXML.replace(/(\r|\n)/g,"").replace(/;/g,"%3B");k.tlSetCookie("tlQueuedXML",d,c,"/")}l.tllastdwelltime=new Date();n.queuedEventTypes.PERFORMANCE=true;if(!n.SetSubType){n.SetSubType=b}else{n.SetSubType+="; "+b}n.SendUnloadHeaders=true;a=TeaLeaf.Event.createPerformanceEvent(b,{MouseMove:h.tlHasUserMovement?"True":"False",Action:j.tlactiontype,VisitOrder:l.tlvisitorder,Alerts:n.tlGetAlertCount()});k.eventQ.enqueue(a);n.tlFlushQueue(true);setTimeout(function(){k.unloadSent=false;m.xhrAsync=true;n.SendUnloadHeaders=false},1000);k.PageSetup.Complete=false;k.unloadSent=true};n.tlBeforeUnload=function(){i(k.$C("BEFOREUNLOAD"))};n.tlUnload=function(a){if(!a.persisted){h.tlDetachFromAllControls()}i(k.$C("UNLOAD"))}}());TeaLeaf.Event.EventSetup=function(){var d,f,e;d=TeaLeaf;f=d.Event;e=f.Configuration;if(e.tlCatchAlerts){(function(){var a,b,h,c;a=0;if(window.alert&&window.alert.apply){b=window.alert;window.alert=function(){var g;g=b.apply(window,arguments);a++;return g}}if(window.confirm&&window.confirm.apply){h=window.confirm;window.confirm=function(){var g;g=h.apply(window,arguments);a++;return g}}if(window.prompt&&window.prompt.apply){c=window.prompt;window.prompt=function(){var g;g=c.apply(window,arguments);a++;return g}}f.getAlertCount=function(){return a}}())}if(TeaLeaf.Event.Configuration.tlcatcherrors){if(typeof window.onerror!=="function"){window.onerror=TeaLeaf.Event.tlErrorHandler}}TeaLeaf.Event.setupTimerRoutine();TeaLeaf.Event.Loaded=true};TeaLeaf.Event.setupTimerRoutine=function(b){if(TeaLeaf.Event.Configuration.tlqueueevents){b=b||TeaLeaf.Event.Configuration.tlqueueeventstimer}else{b=1000}b=(b>999)?b:1000;setTimeout(function(){TeaLeaf.Event.tlFlushQueue();TeaLeaf.Event.setupTimerRoutine()},b)};TeaLeaf.Event.tlAddCustomEvent=function(d,e){var f;if(!d||typeof d!=="string"){d="custom"}if(!e||typeof e!=="object"){return}f=TeaLeaf.Event.createCustomEvent(d,e);TeaLeaf.eventQ.enqueue(f)};if(!TeaLeaf.Event.Configuration.tlinit){TeaLeaf.Event.Configuration.tlinit=true;TeaLeaf.addOnLoad(TeaLeaf.Event.EventSetup)}}if(window.TeaLeaf&&((typeof TeaLeaf.replay==="function")?!TeaLeaf.replay():!TeaLeaf.replay)&&TeaLeaf.Env&&!TeaLeaf.Env.setupComplete){TeaLeaf.Env.setupComplete=true;TeaLeaf.Env.tlSendPageSummary=function(){var g=window.TeaLeaf,e=g.Env,h,f={document:e.getDocumentInfo(),window:e.getWindowInfo(),screen:e.getScreenInfo()};g.Event.queuedEventTypes.PERFORMANCE=true;g.Event.SetSubType="INIT";h=g.Event.createPerformanceEvent("INIT",f);g.Event.PageLoadMilliSecs=h.timeDuration;g.eventQ.enqueue(h)};TeaLeaf.Env.getDocumentInfo=function(c){var d=TeaLeaf;c=c||window.document;return{title:c.title,referer:c.referrer,contentType:c.contentType,lastModified:c.lastModified,characterSet:c.characterSet,width:c.width,height:c.height,anchors:c.anchors.length,embeds:(c.embeds?c.embeds.length:0),forms:c.forms.length,links:c.links.length,images:c.images.length,badImages:(d.tlBrowserIsWebKit()?0:d.Event.tlBadImageCount()),plugins:(c.plugins?c.plugins.length:0)}};TeaLeaf.Env.getWindowInfo=(function(){var b;TeaLeaf.Env.getWindowId=function(){if(typeof window.sessionStorage==="object"){try{b=sessionStorage.TLTWID;if(!b){b=TeaLeaf.makeRandomString(6);sessionStorage.TLTWID=b}}catch(a){b=null}}return b};return function(){var e=TeaLeaf,a=window.location,f;if(window.innerHeight&&window.innerWidth){f=window.innerWidth+"x"+window.innerHeight}else{if(document.body&&document.body.clientWidth&&document.body.clientHeight){f=document.body.clientHeight+"x"+document.body.clientWidth}}return{initialOrientation:e.initialOrientation,WindowHref:escape(a.href),protocol:a.protocol,hostName:a.hostname,port:a.port,pathName:a.pathname,frames:window.frames.length}}}());TeaLeaf.Env.getScreenInfo=function(){var b=window.screen;return{width:b.width,height:b.height,deviceXDPI:b.deviceXDPI,deviceYDPI:b.deviceYDPI,logicalXDPI:b.logicalXDPI,logicalYDPI:b.logicalYDPI}};TeaLeaf.addOnLoad(TeaLeaf.Env.tlSendPageSummary)}if(window.TeaLeaf&&((typeof TeaLeaf.replay==="function")?!TeaLeaf.replay():!TeaLeaf.replay)&&TeaLeaf.Client&&!TeaLeaf.Client.setupComplete){TeaLeaf.Client.setupComplete=true;TeaLeaf.Client.tlTimeoutID=-1;TeaLeaf.Client.tlHasUserMovement=false;TeaLeaf.Client.tlUserMovement=function(){TeaLeaf.Client.tlHasUserMovement=true;TeaLeaf.Event.tlRemoveHandler(document,"mousemove",TeaLeaf.Client.tlUserMovement,false)};TeaLeaf.Client.EmptyMask=function(){return""};TeaLeaf.Client.BasicMask=function(b){if(!b||!b.value){return null}return"XXXXXX"};TeaLeaf.Client.PreserveMask=function(e){var d,f;if(!e||!e.value){return null}d=TeaLeaf.Client.Configuration.tlPrivacyMask;f=e.value;f=f.replace(/[A-Z]/g,d.upperChar);f=f.replace(/[a-z]/g,d.lowerChar);f=f.replace(/[0-9]/g,d.numericChar);f=f.replace(/[^A-Za-z0-9]/g,d.symbolChar);return f};TeaLeaf.Client.getFieldBlockMatch=function(h){var g,j,i,f;i=TeaLeaf.Client.Configuration.tlFieldBlock;if(typeof h==="string"){h=document.getElementById(h)}if(!h){return null}for(g=0;g<i.length;g++){f=i[g];if(f.id){if(!f.idRE){f.idRE=new RegExp(f.id,(f.caseinsensitive?"i":""))}if(f.idRE.test(h.id)){return f}}if(f.name){if(!f.nameRE){f.nameRE=new RegExp(f.name,(f.caseinsensitive?"i":""))}if(f.nameRE.test(h.name)){return f}}if(f.className){if(!f.classRE){f.classRE=new RegExp(f.className,(f.caseinsensitive?"i":""))}if(f.classRE.test(h.className)){return f}}if(f.attributeName&&f.attributeValue){j=h.getAttribute(f.attributeName);if(j){if(!f.attributeRE){f.attributeRE=new RegExp(f.attributeValue,(f.caseinsensitive?"i":""))}if(f.attributeRE.test(j)){return f}}}}return null};TeaLeaf.Client.tlIsReplace=function(b){if(typeof b==="string"){b=document.getElementById(b)}if(!b){return false}if(TeaLeaf.Client.getFieldBlockMatch(b)){return true}if(TeaLeaf.getNodeType(b)==="password"){return TeaLeaf.Client.Configuration.tlpassword===2}return false};TeaLeaf.Client.tlReplaceValue=function(c){var d;if(typeof c==="string"){c=document.getElementById(c)}if(!c){return null}d=TeaLeaf.Client.getFieldBlockMatch(c);if(d){return d.mask(c)}return c.value};TeaLeaf.Client.tlIsExcluded=function(c){var d;if(typeof c==="string"){c=document.getElementById(c)}if(!c){return false}d=TeaLeaf.Client.getFieldBlockMatch(c);if(d){return d.exclude}if(TeaLeaf.getNodeType(c)==="password"){return TeaLeaf.Client.Configuration.tlpassword===2}return false};TeaLeaf.Client.tlGetName=function(f){if(!f){return null}var e=f.id,d=f.name;if(e){return e}if(d){return d}return null};TeaLeaf.Client.tlGetEventSource=function(d){var c;c=null;if(!d){return null}if(d.srcElement){c=d.srcElement}else{c=d.target;if(!c){c=d.explicitOriginalTarget}if(!c){c=d.originalTarget}}if(c&&c.tagName==="HTML"){return null}if(c&&!c.name){if(c.parentNode&&c.parentNode.tagName){if(c.parentNode.tagName==="A"||c.parentNode.tagName==="LINK"){c=c.parentNode}}}if(!c||!c.tagName){c=window.document.body}return c};TeaLeaf.Client.tlGetAnchor=function(f,e){if(!f){return null}if(f.name){return null}var d;for(d=0;d<document.anchors.length;d++){if(document.anchors[d]===f){if(e){return"<AnchorElement>"+d+"</AnchorElement>\r\n"}else{return"Anchor-"+d}}}for(d=0;d<document.links.length;d++){if(document.links[d]===f){if(e){return"<LinkElement>"+d+"</LinkElement>\r\n"}else{return"Link-"+d}}}return null};TeaLeaf.Client.checkIsInput=function(b){if(typeof b==="string"){b=document.getElementById(b)}switch(b.tagName){case"INPUT":case"SELECT":case"TEXTAREA":return true}return false};TeaLeaf.Event.tlFormatXMLName=function(h){if(!h||h.length<=0){return null}var g,e,f="";if(!TeaLeaf.Event.tlNameStartChar(h.charCodeAt(0))){f="_"}e=h.length;for(g=0;g<e;g++){if(TeaLeaf.Event.tlNameChar(h.charCodeAt(g))){f=f+h.charAt(g)}else{f=f+"_"}}return f};TeaLeaf.Event.tlNameStartChar=function(b){return(b>=65&&b<=90)||b===95||(b>=97&&b<=122)||(b>=192&&b<=214)||(b>=216&&b<=246)||(b>=248&&b<=767)||(b>=880&&b<=893)||(b>=895&&b<=8191)||(b>=8204&&b<=8205)||(b>=8304&&b<=8591)||(b>=11264&&b<=12271)||(b>=12289&&b<=55295)||(b>=63744&&b<=64975)||(b>=65008&&b<=65533)};TeaLeaf.Event.tlNameChar=function(b){return TeaLeaf.Event.tlNameStartChar(b)||b===45||b===46||(b>=48&&b<=57)||b===183||(b>=768&&b<=879)||(b>=8255&&b<=8256)};TeaLeaf.Client.tlQueuedKeys="";TeaLeaf.Client.getNormalizedKeyCode=function(d){var c;if(!d||!d.keyCode||(d.keyCode<32&&d.keyCode!==8&&d.keyCode!==20)){return null}c="";if(d.ctrlKey){c+="c-"}if(d.altKey){c+="a-"}if(d.shiftKey){c+="s-"}if(!TeaLeaf.tlBrowserIsIE()){switch(d.keyCode){case 59:c+=186;break;default:c+=d.keyCode;break}}else{c+=d.keyCode}return c};TeaLeaf.Client.tlQueueKey=function(n){var l,k,m,j,h,i;j=TeaLeaf;h=j.Client;i=h.Configuration;h.tlSendResize();h.tlSendScroll(null,true);if(!n){n=window.event}if(!h.tlQueuedKeysCount){h.tlQueuedKeys="";h.tlQueuedKeysCount=0}k=h.tlGetEventSource(n);if(!k){return}if(!k.TeaLeafFocusTime){k.TeaLeafFocusTime=new Date()}if(h.tlQueuedKeySource){if(h.tlQueuedKeySource!==k){if(h.tlQueuedKeys&&h.tlQueuedKeys.length>0){h.tlSendKeys()}h.tlQueuedKeySource=k}}else{h.tlQueuedKeySource=k}l=h.tlGetName(k);if(!l){l=h.tlGetXPathFromNode(k);if(!l){if(!h.tlGetAnchor(k,false)){h.tlQueuedKeySource=null}return}else{h.tlQueuedKeySource=k}}else{if(h.tlIsReplace(k)){h.tlQueuedKeysCount++;return}if(h.tlIsExcluded(k)){h.tlQueuedKeys="";h.tlQueuedKeysCount++;return}}m=h.getNormalizedKeyCode(n);if(m){if(h.tlQueuedKeys&&h.tlQueuedKeys.length>0){h.tlQueuedKeys+=";"}h.tlQueuedKeys+=m;h.tlQueuedKeysCount++}};TeaLeaf.Client.tlSendKeys=function(){var p=window.TeaLeaf,z=p.Client,v,x,y,w,o,B,u,t,s,r,q,A;if(!z.tlQueuedKeySource||(!z.tlQueuedKeys&&!z.tlQueuedKeysCount)){return}t=z.tlQueuedKeySource;u=z.tlQueuedKeys;B=z.tlQueuedKeysCount;z.tlQueuedKeySource=null;z.tlQueuedKeys="";z.tlQueuedKeysCount=0;s=z.tlGetXPathFromNode(t);if(!s&&z.Configuration.tlDiscardInvalidXPath){return}A=!!z.tlIsReplace(t);v=!!z.tlIsExcluded(t);if(A||v){u=null;B=0}o=p.Client.tlGetName(t);q=t.id;if(!p.Client.CheckIfIdValid(t)){q=""}y={Name:t.name,Id:q,ElementType:p.getNodeType(t),TagName:t.tagName,XPath:s,KeyCount:B};w={};r=p.Event.tlFormatXMLName(o);if(A){if(!w[r]){w={ValueIn:r};w[r]=z.tlReplaceValue(t)}}else{if(!r){r=s;r=p.Event.tlFormatXMLName(r)}w={KeyCode:u};if(t.value){w.ValueIn=r;w[r]=t.value}}x=p.Event.createGuiEvent("KeyUp",p.extend(w,y));p.eventQ.enqueue(x);p.tlKeepAlive()};TeaLeaf.Client.tlSendResize=function(){var e=window.TeaLeaf,f=e.Client,d;if(!f.ResizeClientX&&!f.ResizeClientY){return}d=e.Event.createGuiEvent("Resize",{clientX:f.ResizeClientX,clientY:f.ResizeClientY,screenX:f.ResizeScreenX,screenY:f.ResizeScreenY});e.eventQ.enqueue(d);f.ResizeClientX=null;f.ResizeClientY=null;f.ResizeScreenX=null;f.ResizeScreenY=null};TeaLeaf.Client.tlCheckScroll=function(){var d,c=TeaLeaf.Client.Configuration.tlWindowHandlers;for(d=0;d<c.length;d++){if(c[d].domevent==="scroll"&&c[d].load){return true}}return false};TeaLeaf.Client.tlSendScroll=function(l,m){var i,n,k=0,h=0,j;l=l||window.event;if(!TeaLeaf.Client.tlCheckScroll()){return}if(typeof window.pageYOffset==="number"){h=window.pageYOffset;k=window.pageXOffset}else{if(document.body&&(document.body.scrollLeft||document.body.scrollTop)){h=document.body.scrollTop;k=document.body.scrollLeft}else{if(document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)){h=document.documentElement.scrollTop;k=document.documentElement.scrollLeft}}}if(TeaLeaf.Client.Configuration.tlScrollOffsetX===0){TeaLeaf.Client.Configuration.tlScrollOffsetX=k}else{if(k>TeaLeaf.Client.Configuration.tlScrollOffsetX){TeaLeaf.Client.Configuration.tlScrollDirection="right"}else{if(k<TeaLeaf.Client.Configuration.tlScrollOffsetX){TeaLeaf.Client.Configuration.tlScrollDirection="left"}}}if(TeaLeaf.Client.Configuration.tlScrollOffsetY===0){TeaLeaf.Client.Configuration.tlScrollOffsetY=h}else{if(h>TeaLeaf.Client.Configuration.tlScrollOffsetY){TeaLeaf.Client.Configuration.tlScrollDirection="down"}else{if(h<TeaLeaf.Client.Configuration.tlScrollOffsetY){TeaLeaf.Client.Configuration.tlScrollDirection="up"}}}if(k>0){TeaLeaf.Client.Configuration.tlScrollX=k}if(h>0){TeaLeaf.Client.Configuration.tlScrollY=h}if(TeaLeaf.Client.Configuration.tlScrollOffsetX===TeaLeaf.Client.Configuration.tlScrollX&&TeaLeaf.Client.Configuration.tlScrollOffsetY===TeaLeaf.Client.Configuration.tlScrollY){return}if(m||(TeaLeaf.Client.Configuration.tlScrollDirectionOrig!==TeaLeaf.Client.Configuration.tlScrollDirection)){n={ClientX:TeaLeaf.Client.ScrollClientX,ClientY:TeaLeaf.Client.ScrollClientY,ScreenX:TeaLeaf.Client.ScrollScreenX,ScreenY:TeaLeaf.Client.ScrollScreenY,ScrollHeight:TeaLeaf.Client.ScrollHeight,ScrollWidth:TeaLeaf.Client.ScrollWidth,ScrollTop:TeaLeaf.Client.ScrollTop,ScrollLeft:TeaLeaf.Client.ScrollLeft,OrigX:TeaLeaf.Client.Configuration.tlScrollOffsetX.toString(),OrigY:TeaLeaf.Client.Configuration.tlScrollOffsetY.toString(),CurrX:TeaLeaf.Client.Configuration.tlScrollX.toString(),CurrY:TeaLeaf.Client.Configuration.tlScrollY.toString(),OrigDirection:TeaLeaf.Client.Configuration.tlScrollDirectionOrig,CurrDirection:TeaLeaf.Client.Configuration.tlScrollDirection};i=TeaLeaf.Event.createGuiEvent("scroll",n);TeaLeaf.eventQ.enqueue(i);TeaLeaf.tlKeepAlive()}TeaLeaf.Client.Configuration.tlScrollOffsetX=TeaLeaf.Client.Configuration.tlScrollX;TeaLeaf.Client.Configuration.tlScrollOffsetY=TeaLeaf.Client.Configuration.tlScrollY;TeaLeaf.Client.Configuration.tlScrollDirectionOrig=TeaLeaf.Client.Configuration.tlScrollDirection};TeaLeaf.Client.tlFindAncestorByTag=function(e,d){var f;if(!e||!d){return null}for(f=e.parentNode;f&&f!==window.document;f=f.parentNode){if(f.nodeType===1&&f.tagName===d){break}}return f};TeaLeaf.Client.tlCheckBlackList=function(e){var h,g,f;if(!TeaLeaf.Client.Configuration.tlIDBlackList||!TeaLeaf.Client.Configuration.tlIDBlackList.length){return false}if(e){for(h=0;h<TeaLeaf.Client.Configuration.tlIDBlackList.length;h++){f=new RegExp(TeaLeaf.Client.Configuration.tlIDBlackList[h],"g");g=e.match(f);if(g){return true}}}return false};TeaLeaf.Client.tlCheckWhiteList=function(e){var h,g,f;if(!TeaLeaf.Client.Configuration.tlIDWhiteList||!TeaLeaf.Client.Configuration.tlIDWhiteList.length){return true}if(e){for(h=0;h<TeaLeaf.Client.Configuration.tlIDWhiteList.length;h++){f=new RegExp(TeaLeaf.Client.Configuration.tlIDWhiteList[h],"g");g=e.match(f);if(g){return true}}}return false};TeaLeaf.Client.tlGetXPathFromNode=function(i){var n,l,q,m=false,p=null,r=null,j=[],o=[];if(!i||TeaLeaf.Client.CheckIfIdValid(i)){return null}q=i;for(n in TeaLeaf.Client.Configuration.tlSpecialChildNodeTags){if(q.tagName.toString()===n){q=q.parentNode}}for(m=TeaLeaf.Client.CheckIfIdValid(q);q!==window.document&&!m;m=TeaLeaf.Client.CheckIfIdValid(q)){p=null;r=null;switch(q.tagName){case"TD":r=TeaLeaf.Client.tlFindAncestorByTag(q,"TR");if(r){p=r.cells}break;case"TR":r=TeaLeaf.Client.tlFindAncestorByTag(q,"TABLE");if(r){p=r.rows}break;case"OPTION":r=TeaLeaf.Client.tlFindAncestorByTag(q,"SELECT");if(r){p=r.options}break;default:r=q.parentNode;if(!r){r=window.document}p=r.childNodes;break}if(!p){return null}for(n=0,l=0;n<p.length;n++){if(p[n].nodeType===1&&p[n].tagName===q.tagName){if(p[n]===q){o[o.length]=[q.tagName.toUpperCase(),l];break}l++}}q=r}if(m){o[o.length]=[q.id]}if(!o.length){return null}for(n=o.length-1,j=[];n>=0;n--){if(o[n].length>1){j[j.length]="['"+o[n][0]+"',"+o[n][1]+"]"}else{j[j.length]="['"+o[n][0].toString().replace(/'/g,"\\'")+"']"}}return("["+j.join(",")+"]")};TeaLeaf.Client.CheckIfIdValid=function(d){var f;if(!d||!d.id||typeof d.id!=="string"){return false}if(TeaLeaf.Client.tlCheckBlackList(d.id)===true){return false}if(TeaLeaf.Client.tlCheckWhiteList(d.id)===false){return false}if(!TeaLeaf.Client.Configuration.tlUniqueIDCheckEnabled){return true}f=d.id;d.id=(new Date()).getTime()+"_TeaLeaf";try{if(!document.getElementById(f)){d.id=f;return true}else{d.id=f;return false}}catch(e){return false}finally{d.id=f}};TeaLeaf.Private.setLastProcessedEvent=function(g){var h=TeaLeaf.Private,f=null,e;if(!g){return}if(!h.tlPrevEvent){h.tlPrevEvent={}}h.tlPrevEvent.type=g.type;h.tlPrevEvent.button=g.button;h.tlPrevEvent.clientX=g.clientX;h.tlPrevEvent.clientY=g.clientY;if(g.keyCode!==e){h.tlPrevEvent.keyCode=g.keyCode}else{h.tlPrevEvent.keyCode=f}if(g.charCode!==e){h.tlPrevEvent.charCode=g.charCode}else{h.tlPrevEvent.charCode=f}if(g.timeStamp!==e){if(g.timeStamp.getTime){h.tlPrevEvent.timeStamp=g.timeStamp.getTime()}else{h.tlPrevEvent.timeStamp=g.timeStamp}}else{h.tlPrevEvent.timeStamp=new Date().getTime()}if(g.target!==e){h.tlPrevEvent.target=g.target}else{h.tlPrevEvent.target=f}if(g.srcElement!==e){h.tlPrevEvent.srcElement=g.srcElement}else{h.tlPrevEvent.srcElement=f}};TeaLeaf.Private.getLastProcessedEvent=function(){return TeaLeaf.Private.tlPrevEvent};TeaLeaf.Client.isDuplicateEvent=function(e){var h=TeaLeaf.Private,f,g=h.getLastProcessedEvent();if(!g||!e){h.setLastProcessedEvent(e);return false}if(typeof e.timeStamp!=="undefined"){f=e.timeStamp.getTime?e.timeStamp.getTime():e.timeStamp;if(g.timeStamp!==f){h.setLastProcessedEvent(e);return false}}else{e.timeStamp=new Date().getTime();if(Math.abs(e.timeStamp-g.timeStamp)>300){h.setLastProcessedEvent(e);return false}}if(g.type!==e.type){h.setLastProcessedEvent(e);return false}if(("target" in e)&&(g.target!==e.target)){h.setLastProcessedEvent(e);return false}if(("srcElement" in e)&&(g.srcElement!==e.srcElement)){h.setLastProcessedEvent(e);return false}if(g.button!==e.button){h.setLastProcessedEvent(e);return false}if(g.clientX!==e.clientX||g.clientY!==e.clientY){h.setLastProcessedEvent(e);return false}if(("keyCode" in e)&&(g.keyCode!==e.keyCode)){h.setLastProcessedEvent(e);return false}h.setLastProcessedEvent(e);return true};TeaLeaf.Client.tlCheckAttributes=function(n,m){var k,j,o,p={},i=TeaLeaf.Client.Configuration.tlAttributeCapture,l;for(k=0;k<i.length;k++){if(i[k].tltagname.toLowerCase()===n.tagName.toLowerCase()&&i[k].tlevent===m.type.toLowerCase()){j=i[k].tlattributename;o=n.getAttribute(j);if(o!==l){p[j]=o}}}return p};TeaLeaf.Client.tlOrientationChangeEvent=function(h){var g=window.TeaLeaf,f,e;h=h||window.event;if(g.tlBrowserIsAndroid()){e=g.Client.Configuration.tlAndroidOrientation+window.orientation;if(e===270){e=-90;g.Client.Configuration.tlAndroidOrientation=90}else{if(e===360){e=0;g.Client.Configuration.tlAndroidOrientation=0}else{g.Client.Configuration.tlAndroidOrientation+=e}}}else{e=window.orientation}f=g.Event.createGuiEvent(h.type,{ClientSize:(window.innerWidth+"x"+window.innerHeight),orientation:e});g.eventQ.enqueue(f);g.tlKeepAlive()};TeaLeaf.Client.tlMotionEvent=function(h){var g=window.TeaLeaf,e,f;h=h||window.event;e={accelerationIncludingGravity:h.accelerationIncludingGravity};if(h.acceleration){e.acceleration=h.acceleration}if(h.interval){e.interval=h.interval}if(h.rotationRate){e.rotationRate=h.rotationRate}f=g.Event.createGuiEvent(h.type,{target:{currState:e}});g.eventQ.enqueue(f);g.tlKeepAlive()};TeaLeaf.Client.tlDeviceOrientationEvent=function(f){var e=window.TeaLeaf,d;f=f||window.event;d=e.Event.createGuiEvent(f.type,{target:{currState:{alpha:f.alpha,beta:f.beta,gamma:f.gamma}}});e.eventQ.enqueue(d);e.tlKeepAlive()};TeaLeaf.Client.tlAddTouchEvent=(function(){var f={scale:0,timestamp:0};function d(b){var a=false;if(f.scale===b.scale&&Math.abs((new Date()).getTime()-f.timestamp)<500){a=true}return a}function e(a){f.scale=a.scale;f.timestamp=(new Date()).getTime()}return function(c){var b=window.TeaLeaf,h=b.Client,a;c=c||window.event;if(h.Configuration.pinchOnly&&(!c.scale||c.scale===1)){return}a={rotation:c.rotation?c.rotation.toFixed(2):0,scale:c.scale?c.scale.toFixed(2):1};if(h.Configuration.pinchOnly&&d(a)){return}e(a);if(typeof c.touches==="object"){a.touchCount=c.touches.length||0}h.tlAddEvent(c,a)}}());TeaLeaf.Client.tlAddEvent=function(V,aa,T){var L=window.TeaLeaf,Y=L.Client,K=Y.Configuration,S=false,X,I,G,D=0,J,N,ab,R=false,ac,M,ad,P,Q,U,Z,F,O,E,i,H,W;if(!V){V=window.event}ac=Y.tlGetEventSource(V);if(!ac){return}G=V.type.toLowerCase();if(G==="mousedown"&&ac.tagName==="BODY"){return}M=L.getNodeType(ac);W=Y.tlGetXPathFromNode(ac);if(!W&&K.tlDiscardInvalidXPath){return}if(K.tlEnableAttr){I=Y.tlCheckAttributes(ac,V)}Y.tlSendKeys();Y.tlSendResize();Y.tlSendScroll(null,true);if(!ac.TeaLeafFocusTime){switch(G){case"keyup":case"change":case"click":case"dblclick":case"mousedown":ac.TeaLeafFocusTime=new Date();break}}if(G==="blur"&&M==="application/x-shockwave-flash"){return}if(G==="click"&&Y.checkIsInput(ac)){L.Event.Configuration.tlidoflastvisitedcontrol=Y.tlGetName(ac)}if(G==="click"&&(ac.tagName.toUpperCase()==="A")&&L.tlBrowserIsIE()){K.tlIEhref=false;Z=ac.href;if(Z==="#"){K.tlIEhref=true}else{F="javascript:";U=Z.substr(0,F.length);if(U.toLowerCase()===F){K.tlIEhref=true}}}E=Y.tlGetName(ac);i=ac.id;if(!Y.CheckIfIdValid(ac)){i=""}if((G==="blur"||G==="change")&&ac.TeaLeafFocusTime){D=L.Event.tlDateDiff(new Date(),ac.TeaLeafFocusTime);ac.TeaLeafFocusTime=null}H=null;O=null;Q=[];if(!Y.tlIsExcluded(ac)){if(!ac.value&&G==="change"&&ac.tagName.toUpperCase()==="SELECT"){ab=ac.selectedIndex;if(ab>=0&&ab<ac.options.length){H=escape(ac.options[ab].text)}}else{H=Y.tlReplaceValue(ac)}if(H){O=L.Event.tlFormatXMLName(E);if(!O){O=W;O=L.Event.tlFormatXMLName(O)}}if(M==="checkbox"||M==="radio"){S=true;R=!!ac.checked}}P={Name:ac.name,Id:i,ElementType:M,TagName:ac.tagName,XPath:W,TimeInControl:D};N=P;if(O&&H){N.ValueIn=O;N[O]=H}if(S){N.Checked=R?"True":"False"}J=L.Event.createGuiEvent(V.type,N);if(typeof T==="object"){J=L.extend(T,J)}if(typeof aa==="object"){J=L.extend(aa,J)}if(K.tlEnableAttr&&I){J=L.extend(I,J)}L.eventQ.enqueue(J);L.tlKeepAlive()};TeaLeaf.Client.tlQueueResize=function(b){TeaLeaf.Client.tlSendKeys();TeaLeaf.Client.tlSendScroll(null,true);if(!b){b=window.event}if(b.clientX){TeaLeaf.ResizeClientX=b.clientX;TeaLeaf.ResizeClientY=b.clientY;TeaLeaf.ResizeScreenX=b.screenX;TeaLeaf.ResizeScreenY=b.screenY}else{TeaLeaf.ResizeClientX=b.target.width;TeaLeaf.ResizeClientY=b.target.height}};TeaLeaf.Client.tlAttachToAllControls=function(){TeaLeaf.Client.Configuration.tlcontrolsattached=true;TeaLeaf.Client.tlAttachToControls(window);if(TeaLeaf.Client.Configuration.attachToFrames){try{var c;for(c=0;c<window.frames.length;c++){if(window===window.frames[c]){continue}TeaLeaf.Client.tlAttachToControls(window.frames[c])}}catch(d){}}};TeaLeaf.Client.tlSingleAttach=function(){var i,func,tldomsingleelements=TeaLeaf.Client.Configuration.tlSingleAttach,tlelement;for(i=0;i<tldomsingleelements.length;i++){if(tldomsingleelements[i].domelementID){tlelement=document.getElementById(tldomsingleelements[i].domelementID);if(tlelement){func=eval(tldomsingleelements[i].tlhandler);TeaLeaf.Event.tlAddHandler(tlelement,tldomsingleelements[i].domevent,func,false)}}}};TeaLeaf.Client.tlAttachToControls=function(win){try{var i,func,handlers=TeaLeaf.Client.Configuration.tlWindowHandlers;for(i=0;i<handlers.length;i++){if(handlers[i].load){func=eval(handlers[i].tlhandler);TeaLeaf.Event.tlAddHandler(win,handlers[i].domevent,func,false)}}handlers=TeaLeaf.Client.Configuration.tlDocumentHandlers;for(i=0;i<handlers.length;i++){if(handlers[i].load){func=eval(handlers[i].tlhandler);TeaLeaf.Event.tlAddHandler(win.document,handlers[i].domevent,func,false)}}TeaLeaf.Client.tlProcessNode(win.document.body)}catch(e){}};TeaLeaf.Client.tlCheckAttach=function(control){var i,handlers;if(control.TeaLeaf||control.TeaLeafExclude){return}control.TeaLeaf=true;control.TealeafVC=0;switch(control.tagName){case"INPUT":case"SELECT":case"TEXTAREA":TeaLeaf.Event.tlAddHandler(control,"focus",TeaLeaf.Client.tlSetFocusTime,false);TeaLeaf.Event.tlAddHandler(control,"blur",TeaLeaf.Client.tlHandleBlur,false);TeaLeaf.Event.tlAddHandler(control,"change",TeaLeaf.Client.tlAddEvent,false);break}if(TeaLeaf.Client.Configuration.tlUniversalAttach){handlers=TeaLeaf.Client.Configuration.tlDocumentHandlers;for(i=0;i<handlers.length;i++){if(handlers[i].load){TeaLeaf.Event.tlAddHandler(control,handlers[i].domevent,eval(handlers[i].tlhandler),false)}}}};TeaLeaf.Client.tlProcessNode=function(n,j){var l,i,k,e;if(typeof(n)==="string"){n=document.getElementById(n)}if(!n){n=window.document.body}try{switch(n.tagName){case"INPUT":case"SELECT":case"TEXTAREA":TeaLeaf.Client.tlCheckAttach(n);break;default:if(TeaLeaf.Client.Configuration.tlUniversalAttach&&TeaLeaf.Client.tlTagNameAllowed(n.tagName)){TeaLeaf.Client.tlCheckAttach(n)}break}if(!j){k=["INPUT","SELECT","TEXTAREA"];for(l=0;l<k.length;l++){e=n.getElementsByTagName(k[l]);for(i=0;i<e.length;i++){TeaLeaf.Client.tlCheckAttach(e[i])}}if(TeaLeaf.Client.Configuration.tlUniversalAttach){if(TeaLeaf.Client.Configuration.tlExcludeTags){e=n.getElementsByTagName("*");for(l=0;l<e.length;l++){if(TeaLeaf.Client.tlTagNameAllowed(e[l].tagName)){TeaLeaf.Client.tlCheckAttach(e[l])}}}else{for(l in TeaLeaf.Client.Configuration.tlNodeTags){e=n.getElementsByTagName(l);for(i=0;i<e.length;i++){TeaLeaf.Client.tlCheckAttach(e[i])}}}}}}catch(m){}};(function(d){var c={};d.parseTarget=function(n){var i=0,a="",b=0,l={},m=TeaLeaf.getNodeType(n),k="";if(!n||d.tlIsExcluded(n)){return{}}a=d.CheckIfIdValid(n)?n.id:"";if(!a){a=d.tlGetXPathFromNode(n);b=-2}else{b=-1}switch(m){case"radio":case"checkbox":l.checked=n.checked;default:if(n.tagName.toUpperCase()==="SELECT"){i=n.selectedIndex;if(i>=0&&i<n.options.length){k=escape(n.options[i].text)}}else{k=n.value?d.tlReplaceValue(n):""}break}l.value=k;return{id:a,idType:b,state:l}};d.saveTargetState=function(b){var a=d.parseTarget(b);if(c.id===a.id){return}c=a;c.timestamp=(new Date()).getTime();b.TealeafVC=b.TealeafVC||0;b.TealeafVC+=1;c.visitCount=b.TealeafVC};d.getSavedTargetState=function(){return c};d.clearSavedTargetState=function(){c={}}}(TeaLeaf.Client));TeaLeaf.Client.tlSetFocusTime=function(h){var f,e;if(!h){h=window.event}f=TeaLeaf.Client.tlGetEventSource(h);e=TeaLeaf.getNodeType(f);if(!f||e==="application/x-shockwave-flash"){return}try{TeaLeaf.Client.saveTargetState(f);if(!f.TeaLeafFocusTime){f.TeaLeafFocusTime=new Date()}}catch(g){}if(TeaLeaf.Client.Configuration.tlsendfocus){TeaLeaf.Client.tlAddEvent(h)}};TeaLeaf.Client.tlHandleBlur=function(f){var e,d;if(!f){f=window.event}e=TeaLeaf.Client.tlGetEventSource(f);d=TeaLeaf.getNodeType(e);if(!e||d==="application/x-shockwave-flash"){return}TeaLeaf.Client.tlEndVisit(e);if(TeaLeaf.Client.checkIsInput(e)){TeaLeaf.Event.Configuration.tlidoflastvisitedcontrol=TeaLeaf.Client.tlGetName(e)}if(TeaLeaf.Client.Configuration.tlsendblur){TeaLeaf.Client.tlAddEvent(f)}e.TeaLeafFocusTime=null};TeaLeaf.Client.tlEndVisit=function(g){var h,f,e;if(g.TeaLeafFocusTime){e=TeaLeaf.Client.tlGetName(g);if(!e){e=TeaLeaf.Client.tlGetAnchor(g,false);if(e){e="LEVEL"+e}else{e="unnamed"}}h=TeaLeaf.Event.tlDateDiff(g.TeaLeafFocusTime,new Date());f=e+":"+h;if(TeaLeaf.Event.Configuration.tlvisitorder){TeaLeaf.Event.Configuration.tlvisitorder=TeaLeaf.Event.Configuration.tlvisitorder+";"+f}else{TeaLeaf.Event.Configuration.tlvisitorder=f}}};TeaLeaf.Client.tlDetachFromAllControls=function(){TeaLeaf.Client.Configuration.tlcontrolsattached=false;TeaLeaf.Client.tlDetachFromControls(window);try{var e,d;for(e=0;e<window.frames.length;e++){d=window.frames[e];TeaLeaf.Client.tlDetachFromControls(d)}}catch(f){}};TeaLeaf.Client.tlDetachFromControls=function(win){try{var i,func,handlers=TeaLeaf.Client.Configuration.tlWindowHandlers,items;for(i=0;i<handlers.length;i++){func=eval(handlers[i].tlhandler);TeaLeaf.Event.tlRemoveHandler(win,handlers[i].domevent,func,false)}handlers=TeaLeaf.Client.Configuration.tlDocumentHandlers;for(i=0;i<handlers.length;i++){func=eval(handlers[i].tlhandler);TeaLeaf.Event.tlRemoveHandler(win.document,handlers[i].domevent,func,false)}items=win.document.getElementsByTagName("INPUT");for(i=0;i<items.length;i++){TeaLeaf.Event.tlRemoveHandler(items[i],"change",TeaLeaf.Client.tlAddEvent,false);TeaLeaf.Event.tlRemoveHandler(items[i],"blur",TeaLeaf.Client.tlHandleBlur,false);items[i].TeaLeaf=false}items=win.document.getElementsByTagName("SELECT");for(i=0;i<items.length;i++){TeaLeaf.Event.tlRemoveHandler(items[i],"change",TeaLeaf.Client.tlAddEvent,false);TeaLeaf.Event.tlRemoveHandler(items[i],"blur",TeaLeaf.Client.tlHandleBlur,false);items[i].TeaLeaf=false}}catch(e){}};TeaLeaf.Client.tlAttachToControl=function(domelement,eventtype,eventHandler){if(eventHandler){TeaLeaf.Event.tlAddHandler(domelement,eventtype,eventHandler,false)}else{TeaLeaf.Event.tlAddHandler(domelement,eventtype,eval(TeaLeaf.Client.tlAddEvent),false)}};TeaLeaf.Client.tlDetachFromControl=function(domelement,eventtype,eventHandler){if(eventHandler){TeaLeaf.Event.tlRemoveHandler(domelement,eventtype,eventHandler,false)}else{TeaLeaf.Event.tlRemoveHandler(domelement,eventtype,eval(TeaLeaf.Client.tlAddEvent),false)}};TeaLeaf.Client.tlScanForAdditions=function(){var e,d;if(!TeaLeaf.Client.Configuration.tlScheduledScan){return}TeaLeaf.Client.tlProcessNode(document.body);try{for(e=0;e<window.frames.length;e++){d=window.frames[e];TeaLeaf.Client.tlProcessNode(d.document.body)}}catch(f){}window.clearTimeout(TeaLeaf.Client.tlTimeoutID);TeaLeaf.Client.tlTimeoutID=window.setTimeout(TeaLeaf.Client.tlScanForAdditions,TeaLeaf.Client.Configuration.tlscanupdate)};TeaLeaf.Client.tlTagNameAllowed=function(c){if(!c){return false}var d=TeaLeaf.Client.Configuration.tlNodeTags[c];if(!d){d=false}if(TeaLeaf.Client.Configuration.tlExcludeTags){return !d}return d};TeaLeaf.Client.tlSetup=function(){var b=TeaLeaf.tlGetCookieValue("tlQueuedXML");if(b){TeaLeaf.Event.tlQueuedXML+=b.replace(/%3B/g,";")}TeaLeaf.Client.tlAttachToAllControls();TeaLeaf.Client.tlSingleAttach();if(TeaLeaf.Event.Configuration.tlcatchpopups){TeaLeaf.SavedWindowOpen=window.open;window.open=function(n,m,p,o){var l,j="blocked",k;if(typeof TeaLeaf.SavedWindowOpen==="function"){k=TeaLeaf.SavedWindowOpen.apply(this,arguments)}else{n=n||"";m=m||"";p=p||"";k=TeaLeaf.SavedWindowOpen(n,m,p,o)}try{if(!k.closed){j="visible"}}catch(a){}l=TeaLeaf.Event.createGuiEvent("WindowOpen",{status:j,url:escape(n),name:m,features:p,replace:o});TeaLeaf.eventQ.enqueue(l);return k}}window.clearTimeout(TeaLeaf.Client.tlTimeoutID);if(TeaLeaf.Client.Configuration.tlscanupdate>0){TeaLeaf.Client.tlTimeoutID=window.setTimeout(TeaLeaf.Client.tlScanForAdditions,TeaLeaf.Client.Configuration.tlscanupdate)}};TeaLeaf.Client.CallInit=function(){TeaLeaf.addOnLoad(TeaLeaf.Client.tlSetup)};if(!TeaLeaf.Client.Configuration.tlinit){TeaLeaf.Client.Configuration.tlinit=true;TeaLeaf.Client.CallInit()}};Carnival.LoginComponent=function(o){var g=$("#"+o.userNameTextBoxId);var f=$("#"+o.passwordTextBoxId);var c=$("#"+o.loginButtonId);var d=$("#"+o.logOutButtonId);var a=$("#"+o.errorLabelId);var b=$("#"+o.formId);if(!o.secureHost&&b.length>0){var k=b.attr("action").toString().toLocation();o.secureHost="https://"+k.hostname}var m=o.secureHost+"/bookedguest/guestmanagement/mycarnival/logon";if(g.length==0||f.length==0||c.length==0){alert("Error initializing login component");return}var p=$.query.get("errors");if(p&&p.length>0&&a.length>0){a.text(p)}var q=$.query.get("isPostback");if(q&&q.length>0){if(o.isInsideIFrame){try{parent.document.location=parent.document.location}catch(j){alert("Unable to access parent document.")}}}var n=m.toLocation();var l=document.location.protocol!=n.protocol||document.location.host!=n.host;var t;if(o.formId&&o.useJQueryValidation){g.attr("name",o.userNameTextBoxId);f.attr("name",o.passwordTextBoxId);var s={};s.rules={};s.rules[o.userNameTextBoxId]={required:true};s.rules[o.passwordTextBoxId]={required:true};s.messages={};s.messages[o.userNameTextBoxId]={required:function(e,u){return"Email address is required"}};s.messages[o.passwordTextBoxId]={required:function(e,u){return"Password is required"}};s.errorPlacement=function(u,e){};b.validate(s)}c.click(r);function r(){var u="";var v="";jQuery.validator.messages.required=false;if(!o.useJQueryValidation){if(g.val().length==0||g.val()=="Email / Username"){u+="Please enter a user name. "}if(f.val().length==0){v+="Please enter a password."}if(u.length>0||v.length>0){if(o.errorLabelId){a.html(u+v)}else{if(u.length>0){g.addClass("error")}if(v.length>0){f.addClass("error")}}return false}}else{if(!b.valid()){return false}}var x={UserNameOrLoyaltyNum:g.val(),Password:f.val(),IsUsingLoyaltyNum:false,IsAjax:o.isAjax?o.isAjax:false,ReturnUrlSuccess:o.returnUrlSuccess?o.returnUrlSuccess:"",ReturnUrlFailure:o.returnUrlFailure?o.returnUrlFailure:"",IsCrossDomain:l};if(!o.ReturnUrlSuccess||o.ReturnUrlSuccess.length==0){x.ReturnUrlSuccess=$.query.get("ReturnUrl")}if(!o.ReturnUrlSuccess||o.ReturnUrlSuccess.length==0){var e=document.location.href;x.ReturnUrlSuccess=e}if(!o.isAjax&&(!o.ReturnUrlFailure||o.ReturnUrlFailure.length==0)&&!o.isInsideIFrame){x.ReturnUrlFailure="/bookedguest/guestmanagement/mycarnival/logon"}if(!x.IsAjax){var w=i(x);document.body.appendChild(w);w.submit()}else{if(!l){$.ajax({url:m,type:"POST",data:x,success:h})}else{alert("Cross Domain requests not supported. Set isAjax flag to false and do a regular post.")}}return false}function i(u){var x=document.createElement("form");x.action=m;x.method="POST";x.style.display="none";for(var w in u){var v=document.createElement("input");v.setAttribute("type","hidden");v.setAttribute("name",w);v.setAttribute("value",u[w]);try{x.appendChild(v)}catch(e){}}return x}function h(u){if(o.ajaxSuccessCallbackFunc){o.ajaxSuccessCallbackFunc(u)}if(!u.success){if(o.errorLabelId){a.html("Errors: "+u.errors.toString().replace(";","\n"))}else{alert(u.errors)}if(o.returnUrlFailure){document.location.href=o.returnUrlFailure}return}if(u.returnUrl){if(o.isInsideIFrame){try{parent.document.location.href=u.ReturnUrl}catch(v){alert("Unable to access parent document.")}}else{document.location.href=u.ReturnUrl}}}};String.prototype.toLocation=function(){var b=document.createElement("a");b.href=this;return b};/*
 * jQuery Cycle Plugin (with Transition Definitions)
 * Examples and documentation at: http://jquery.malsup.com/cycle/
 * Copyright (c) 2007-2010 M. Alsup
 * Version: 2.88 (08-JUN-2010)
 * Dual licensed under the MIT and GPL licenses.
 * http://jquery.malsup.com/license.html
 * Requires: jQuery v1.2.6 or later
 */
(function($){var ver="2.88";if($.support==undefined){$.support={opacity:!($.browser.msie)};}function debug(s){if($.fn.cycle.debug){log(s);}}function log(){if(window.console&&window.console.log){window.console.log("[cycle] "+Array.prototype.join.call(arguments," "));}}$.fn.cycle=function(options,arg2){var o={s:this.selector,c:this.context};if(this.length===0&&options!="stop"){if(!$.isReady&&o.s){log("DOM not ready, queuing slideshow");$(function(){$(o.s,o.c).cycle(options,arg2);});return this;}log("terminating; zero elements found by selector"+($.isReady?"":" (DOM not ready)"));return this;}return this.each(function(){var opts=handleArguments(this,options,arg2);if(opts===false){return;}opts.updateActivePagerLink=opts.updateActivePagerLink||$.fn.cycle.updateActivePagerLink;if(this.cycleTimeout){clearTimeout(this.cycleTimeout);}this.cycleTimeout=this.cyclePause=0;var $cont=$(this);var $slides=opts.slideExpr?$(opts.slideExpr,this):$cont.children();var els=$slides.get();if(els.length<2){log("terminating; too few slides: "+els.length);return;}var opts2=buildOptions($cont,$slides,els,opts,o);if(opts2===false){return;}var startTime=opts2.continuous?10:getTimeout(els[opts2.currSlide],els[opts2.nextSlide],opts2,!opts2.rev);if(startTime){startTime+=(opts2.delay||0);if(startTime<10){startTime=10;}debug("first timeout: "+startTime);this.cycleTimeout=setTimeout(function(){go(els,opts2,0,(!opts2.rev&&!opts.backwards));},startTime);}});};function handleArguments(cont,options,arg2){if(cont.cycleStop==undefined){cont.cycleStop=0;}if(options===undefined||options===null){options={};}if(options.constructor==String){switch(options){case"destroy":case"stop":var opts=$(cont).data("cycle.opts");if(!opts){return false;}cont.cycleStop++;if(cont.cycleTimeout){clearTimeout(cont.cycleTimeout);}cont.cycleTimeout=0;$(cont).removeData("cycle.opts");if(options=="destroy"){destroy(opts);}return false;case"toggle":cont.cyclePause=(cont.cyclePause===1)?0:1;checkInstantResume(cont.cyclePause,arg2,cont);return false;case"pause":cont.cyclePause=1;return false;case"resume":cont.cyclePause=0;checkInstantResume(false,arg2,cont);return false;case"prev":case"next":var opts=$(cont).data("cycle.opts");if(!opts){log('options not found, "prev/next" ignored');return false;}$.fn.cycle[options](opts);return false;default:options={fx:options};}return options;}else{if(options.constructor==Number){var num=options;options=$(cont).data("cycle.opts");if(!options){log("options not found, can not advance slide");return false;}if(num<0||num>=options.elements.length){log("invalid slide index: "+num);return false;}options.nextSlide=num;if(cont.cycleTimeout){clearTimeout(cont.cycleTimeout);cont.cycleTimeout=0;}if(typeof arg2=="string"){options.oneTimeFx=arg2;}go(options.elements,options,1,num>=options.currSlide);return false;}}return options;function checkInstantResume(isPaused,arg2,cont){if(!isPaused&&arg2===true){var options=$(cont).data("cycle.opts");if(!options){log("options not found, can not resume");return false;}if(cont.cycleTimeout){clearTimeout(cont.cycleTimeout);cont.cycleTimeout=0;}go(options.elements,options,1,(!opts.rev&&!opts.backwards));}}}function removeFilter(el,opts){if(!$.support.opacity&&opts.cleartype&&el.style.filter){try{el.style.removeAttribute("filter");}catch(smother){}}}function destroy(opts){if(opts.next){$(opts.next).unbind(opts.prevNextEvent);}if(opts.prev){$(opts.prev).unbind(opts.prevNextEvent);}if(opts.pager||opts.pagerAnchorBuilder){$.each(opts.pagerAnchors||[],function(){this.unbind().remove();});}opts.pagerAnchors=null;if(opts.destroy){opts.destroy(opts);}}function buildOptions($cont,$slides,els,options,o){var opts=$.extend({},$.fn.cycle.defaults,options||{},$.metadata?$cont.metadata():$.meta?$cont.data():{});if(opts.autostop){opts.countdown=opts.autostopCount||els.length;}var cont=$cont[0];$cont.data("cycle.opts",opts);opts.$cont=$cont;opts.stopCount=cont.cycleStop;opts.elements=els;opts.before=opts.before?[opts.before]:[];opts.after=opts.after?[opts.after]:[];opts.after.unshift(function(){opts.busy=0;});if(!$.support.opacity&&opts.cleartype){opts.after.push(function(){removeFilter(this,opts);});}if(opts.continuous){opts.after.push(function(){go(els,opts,0,(!opts.rev&&!opts.backwards));});}saveOriginalOpts(opts);if(!$.support.opacity&&opts.cleartype&&!opts.cleartypeNoBg){clearTypeFix($slides);}if($cont.css("position")=="static"){$cont.css("position","relative");}if(opts.width){$cont.width(opts.width);}if(opts.height&&opts.height!="auto"){$cont.height(opts.height);}if(opts.startingSlide){opts.startingSlide=parseInt(opts.startingSlide);}else{if(opts.backwards){opts.startingSlide=els.length-1;}}if(opts.random){opts.randomMap=[];for(var i=0;i<els.length;i++){opts.randomMap.push(i);}opts.randomMap.sort(function(a,b){return Math.random()-0.5;});opts.randomIndex=1;opts.startingSlide=opts.randomMap[1];}else{if(opts.startingSlide>=els.length){opts.startingSlide=0;}}opts.currSlide=opts.startingSlide||0;var first=opts.startingSlide;$slides.css({position:"absolute",top:0,left:0}).hide().each(function(i){var z;if(opts.backwards){z=first?i<=first?els.length+(i-first):first-i:els.length-i;}else{z=first?i>=first?els.length-(i-first):first-i:els.length-i;}$(this).css("z-index",z);});$(els[first]).css("opacity",1).show();removeFilter(els[first],opts);if(opts.fit&&opts.width){$slides.width(opts.width);}if(opts.fit&&opts.height&&opts.height!="auto"){$slides.height(opts.height);}var reshape=opts.containerResize&&!$cont.innerHeight();if(reshape){var maxw=0,maxh=0;for(var j=0;j<els.length;j++){var $e=$(els[j]),e=$e[0],w=$e.outerWidth(),h=$e.outerHeight();if(!w){w=e.offsetWidth||e.width||$e.attr("width");}if(!h){h=e.offsetHeight||e.height||$e.attr("height");}maxw=w>maxw?w:maxw;maxh=h>maxh?h:maxh;}if(maxw>0&&maxh>0){$cont.css({width:maxw+"px",height:maxh+"px"});}}if(opts.pause){$cont.hover(function(){this.cyclePause++;},function(){this.cyclePause--;});}if(supportMultiTransitions(opts)===false){return false;}var requeue=false;options.requeueAttempts=options.requeueAttempts||0;$slides.each(function(){var $el=$(this);this.cycleH=(opts.fit&&opts.height)?opts.height:($el.height()||this.offsetHeight||this.height||$el.attr("height")||0);this.cycleW=(opts.fit&&opts.width)?opts.width:($el.width()||this.offsetWidth||this.width||$el.attr("width")||0);if($el.is("img")){var loadingIE=($.browser.msie&&this.cycleW==28&&this.cycleH==30&&!this.complete);var loadingFF=($.browser.mozilla&&this.cycleW==34&&this.cycleH==19&&!this.complete);var loadingOp=($.browser.opera&&((this.cycleW==42&&this.cycleH==19)||(this.cycleW==37&&this.cycleH==17))&&!this.complete);var loadingOther=(this.cycleH==0&&this.cycleW==0&&!this.complete);if(loadingIE||loadingFF||loadingOp||loadingOther){if(o.s&&opts.requeueOnImageNotLoaded&&++options.requeueAttempts<100){log(options.requeueAttempts," - img slide not loaded, requeuing slideshow: ",this.src,this.cycleW,this.cycleH);setTimeout(function(){$(o.s,o.c).cycle(options);},opts.requeueTimeout);requeue=true;return false;}else{log("could not determine size of image: "+this.src,this.cycleW,this.cycleH);}}}return true;});if(requeue){return false;}opts.cssBefore=opts.cssBefore||{};opts.animIn=opts.animIn||{};opts.animOut=opts.animOut||{};$slides.not(":eq("+first+")").css(opts.cssBefore);if(opts.cssFirst){$($slides[first]).css(opts.cssFirst);}if(opts.timeout){opts.timeout=parseInt(opts.timeout);if(opts.speed.constructor==String){opts.speed=$.fx.speeds[opts.speed]||parseInt(opts.speed);}if(!opts.sync){opts.speed=opts.speed/2;}var buffer=opts.fx=="shuffle"?500:250;while((opts.timeout-opts.speed)<buffer){opts.timeout+=opts.speed;}}if(opts.easing){opts.easeIn=opts.easeOut=opts.easing;}if(!opts.speedIn){opts.speedIn=opts.speed;}if(!opts.speedOut){opts.speedOut=opts.speed;}opts.slideCount=els.length;opts.currSlide=opts.lastSlide=first;if(opts.random){if(++opts.randomIndex==els.length){opts.randomIndex=0;}opts.nextSlide=opts.randomMap[opts.randomIndex];}else{if(opts.backwards){opts.nextSlide=opts.startingSlide==0?(els.length-1):opts.startingSlide-1;}else{opts.nextSlide=opts.startingSlide>=(els.length-1)?0:opts.startingSlide+1;}}if(!opts.multiFx){var init=$.fn.cycle.transitions[opts.fx];if($.isFunction(init)){init($cont,$slides,opts);}else{if(opts.fx!="custom"&&!opts.multiFx){log("unknown transition: "+opts.fx,"; slideshow terminating");return false;}}}var e0=$slides[first];if(opts.before.length){opts.before[0].apply(e0,[e0,e0,opts,true]);}if(opts.after.length>1){opts.after[1].apply(e0,[e0,e0,opts,true]);}if(opts.next){$(opts.next).bind(opts.prevNextEvent,function(){return advance(opts,opts.rev?-1:1);});}if(opts.prev){$(opts.prev).bind(opts.prevNextEvent,function(){return advance(opts,opts.rev?1:-1);});}if(opts.pager||opts.pagerAnchorBuilder){buildPager(els,opts);}exposeAddSlide(opts,els);return opts;}function saveOriginalOpts(opts){opts.original={before:[],after:[]};opts.original.cssBefore=$.extend({},opts.cssBefore);opts.original.cssAfter=$.extend({},opts.cssAfter);opts.original.animIn=$.extend({},opts.animIn);opts.original.animOut=$.extend({},opts.animOut);$.each(opts.before,function(){opts.original.before.push(this);});$.each(opts.after,function(){opts.original.after.push(this);});}function supportMultiTransitions(opts){var i,tx,txs=$.fn.cycle.transitions;if(opts.fx.indexOf(",")>0){opts.multiFx=true;opts.fxs=opts.fx.replace(/\s*/g,"").split(",");for(i=0;i<opts.fxs.length;i++){var fx=opts.fxs[i];tx=txs[fx];if(!tx||!txs.hasOwnProperty(fx)||!$.isFunction(tx)){log("discarding unknown transition: ",fx);opts.fxs.splice(i,1);i--;}}if(!opts.fxs.length){log("No valid transitions named; slideshow terminating.");return false;}}else{if(opts.fx=="all"){opts.multiFx=true;opts.fxs=[];for(p in txs){tx=txs[p];if(txs.hasOwnProperty(p)&&$.isFunction(tx)){opts.fxs.push(p);}}}}if(opts.multiFx&&opts.randomizeEffects){var r1=Math.floor(Math.random()*20)+30;for(i=0;i<r1;i++){var r2=Math.floor(Math.random()*opts.fxs.length);opts.fxs.push(opts.fxs.splice(r2,1)[0]);}debug("randomized fx sequence: ",opts.fxs);}return true;}function exposeAddSlide(opts,els){opts.addSlide=function(newSlide,prepend){var $s=$(newSlide),s=$s[0];if(!opts.autostopCount){opts.countdown++;}els[prepend?"unshift":"push"](s);if(opts.els){opts.els[prepend?"unshift":"push"](s);}opts.slideCount=els.length;$s.css("position","absolute");$s[prepend?"prependTo":"appendTo"](opts.$cont);if(prepend){opts.currSlide++;opts.nextSlide++;}if(!$.support.opacity&&opts.cleartype&&!opts.cleartypeNoBg){clearTypeFix($s);}if(opts.fit&&opts.width){$s.width(opts.width);}if(opts.fit&&opts.height&&opts.height!="auto"){$slides.height(opts.height);}s.cycleH=(opts.fit&&opts.height)?opts.height:$s.height();s.cycleW=(opts.fit&&opts.width)?opts.width:$s.width();$s.css(opts.cssBefore);if(opts.pager||opts.pagerAnchorBuilder){$.fn.cycle.createPagerAnchor(els.length-1,s,$(opts.pager),els,opts);}if($.isFunction(opts.onAddSlide)){opts.onAddSlide($s);}else{$s.hide();}};}$.fn.cycle.resetState=function(opts,fx){fx=fx||opts.fx;opts.before=[];opts.after=[];opts.cssBefore=$.extend({},opts.original.cssBefore);opts.cssAfter=$.extend({},opts.original.cssAfter);opts.animIn=$.extend({},opts.original.animIn);opts.animOut=$.extend({},opts.original.animOut);opts.fxFn=null;$.each(opts.original.before,function(){opts.before.push(this);});$.each(opts.original.after,function(){opts.after.push(this);});var init=$.fn.cycle.transitions[fx];if($.isFunction(init)){init(opts.$cont,$(opts.elements),opts);}};function go(els,opts,manual,fwd){if(manual&&opts.busy&&opts.manualTrump){debug("manualTrump in go(), stopping active transition");$(els).stop(true,true);opts.busy=false;}if(opts.busy){debug("transition active, ignoring new tx request");return;}var p=opts.$cont[0],curr=els[opts.currSlide],next=els[opts.nextSlide];if(p.cycleStop!=opts.stopCount||p.cycleTimeout===0&&!manual){return;}if(!manual&&!p.cyclePause&&!opts.bounce&&((opts.autostop&&(--opts.countdown<=0))||(opts.nowrap&&!opts.random&&opts.nextSlide<opts.currSlide))){if(opts.end){opts.end(opts);}return;}var changed=false;if((manual||!p.cyclePause)&&(opts.nextSlide!=opts.currSlide)){changed=true;var fx=opts.fx;curr.cycleH=curr.cycleH||$(curr).height();curr.cycleW=curr.cycleW||$(curr).width();next.cycleH=next.cycleH||$(next).height();next.cycleW=next.cycleW||$(next).width();if(opts.multiFx){if(opts.lastFx==undefined||++opts.lastFx>=opts.fxs.length){opts.lastFx=0;}fx=opts.fxs[opts.lastFx];opts.currFx=fx;}if(opts.oneTimeFx){fx=opts.oneTimeFx;opts.oneTimeFx=null;}$.fn.cycle.resetState(opts,fx);if(opts.before.length){$.each(opts.before,function(i,o){if(p.cycleStop!=opts.stopCount){return;}o.apply(next,[curr,next,opts,fwd]);});}var after=function(){$.each(opts.after,function(i,o){if(p.cycleStop!=opts.stopCount){return;}o.apply(next,[curr,next,opts,fwd]);});};debug("tx firing; currSlide: "+opts.currSlide+"; nextSlide: "+opts.nextSlide);opts.busy=1;if(opts.fxFn){opts.fxFn(curr,next,opts,after,fwd,manual&&opts.fastOnEvent);}else{if($.isFunction($.fn.cycle[opts.fx])){$.fn.cycle[opts.fx](curr,next,opts,after,fwd,manual&&opts.fastOnEvent);}else{$.fn.cycle.custom(curr,next,opts,after,fwd,manual&&opts.fastOnEvent);}}}if(changed||opts.nextSlide==opts.currSlide){opts.lastSlide=opts.currSlide;if(opts.random){opts.currSlide=opts.nextSlide;if(++opts.randomIndex==els.length){opts.randomIndex=0;}opts.nextSlide=opts.randomMap[opts.randomIndex];if(opts.nextSlide==opts.currSlide){opts.nextSlide=(opts.currSlide==opts.slideCount-1)?0:opts.currSlide+1;}}else{if(opts.backwards){var roll=(opts.nextSlide-1)<0;if(roll&&opts.bounce){opts.backwards=!opts.backwards;opts.nextSlide=1;opts.currSlide=0;}else{opts.nextSlide=roll?(els.length-1):opts.nextSlide-1;opts.currSlide=roll?0:opts.nextSlide+1;}}else{var roll=(opts.nextSlide+1)==els.length;if(roll&&opts.bounce){opts.backwards=!opts.backwards;opts.nextSlide=els.length-2;opts.currSlide=els.length-1;}else{opts.nextSlide=roll?0:opts.nextSlide+1;opts.currSlide=roll?els.length-1:opts.nextSlide-1;}}}}if(changed&&opts.pager){opts.updateActivePagerLink(opts.pager,opts.currSlide,opts.activePagerClass);}var ms=0;if(opts.timeout&&!opts.continuous){ms=getTimeout(els[opts.currSlide],els[opts.nextSlide],opts,fwd);}else{if(opts.continuous&&p.cyclePause){ms=10;}}if(ms>0){p.cycleTimeout=setTimeout(function(){go(els,opts,0,(!opts.rev&&!opts.backwards));},ms);}}$.fn.cycle.updateActivePagerLink=function(pager,currSlide,clsName){$(pager).each(function(){$(this).children().removeClass(clsName).eq(currSlide).addClass(clsName);});};function getTimeout(curr,next,opts,fwd){if(opts.timeoutFn){var t=opts.timeoutFn.call(curr,curr,next,opts,fwd);while((t-opts.speed)<250){t+=opts.speed;}debug("calculated timeout: "+t+"; speed: "+opts.speed);if(t!==false){return t;}}return opts.timeout;}$.fn.cycle.next=function(opts){advance(opts,opts.rev?-1:1);};$.fn.cycle.prev=function(opts){advance(opts,opts.rev?1:-1);};function advance(opts,val){var els=opts.elements;var p=opts.$cont[0],timeout=p.cycleTimeout;if(timeout){clearTimeout(timeout);p.cycleTimeout=0;}if(opts.random&&val<0){opts.randomIndex--;if(--opts.randomIndex==-2){opts.randomIndex=els.length-2;}else{if(opts.randomIndex==-1){opts.randomIndex=els.length-1;}}opts.nextSlide=opts.randomMap[opts.randomIndex];}else{if(opts.random){opts.nextSlide=opts.randomMap[opts.randomIndex];}else{opts.nextSlide=opts.currSlide+val;if(opts.nextSlide<0){if(opts.nowrap){return false;}opts.nextSlide=els.length-1;}else{if(opts.nextSlide>=els.length){if(opts.nowrap){return false;}opts.nextSlide=0;}}}}var cb=opts.onPrevNextEvent||opts.prevNextClick;if($.isFunction(cb)){cb(val>0,opts.nextSlide,els[opts.nextSlide]);}go(els,opts,1,val>=0);return false;}function buildPager(els,opts){var $p=$(opts.pager);$.each(els,function(i,o){$.fn.cycle.createPagerAnchor(i,o,$p,els,opts);});opts.updateActivePagerLink(opts.pager,opts.startingSlide,opts.activePagerClass);}$.fn.cycle.createPagerAnchor=function(i,el,$p,els,opts){var a;if($.isFunction(opts.pagerAnchorBuilder)){a=opts.pagerAnchorBuilder(i,el);debug("pagerAnchorBuilder("+i+", el) returned: "+a);}else{a='<a href="#">'+(i+1)+"</a>";}if(!a){return;}var $a=$(a);if($a.parents("body").length===0){var arr=[];if($p.length>1){$p.each(function(){var $clone=$a.clone(true);$(this).append($clone);arr.push($clone[0]);});$a=$(arr);}else{$a.appendTo($p);}}opts.pagerAnchors=opts.pagerAnchors||[];opts.pagerAnchors.push($a);$a.bind(opts.pagerEvent,function(e){e.preventDefault();opts.nextSlide=i;var p=opts.$cont[0],timeout=p.cycleTimeout;if(timeout){clearTimeout(timeout);p.cycleTimeout=0;}var cb=opts.onPagerEvent||opts.pagerClick;if($.isFunction(cb)){cb(opts.nextSlide,els[opts.nextSlide]);}go(els,opts,1,opts.currSlide<i);});if(!/^click/.test(opts.pagerEvent)&&!opts.allowPagerClickBubble){$a.bind("click.cycle",function(){return false;});}if(opts.pauseOnPagerHover){$a.hover(function(){opts.$cont[0].cyclePause++;},function(){opts.$cont[0].cyclePause--;});}};$.fn.cycle.hopsFromLast=function(opts,fwd){var hops,l=opts.lastSlide,c=opts.currSlide;if(fwd){hops=c>l?c-l:opts.slideCount-l;}else{hops=c<l?l-c:l+opts.slideCount-c;}return hops;};function clearTypeFix($slides){debug("applying clearType background-color hack");function hex(s){s=parseInt(s).toString(16);return s.length<2?"0"+s:s;}function getBg(e){for(;e&&e.nodeName.toLowerCase()!="html";e=e.parentNode){var v=$.css(e,"background-color");if(v.indexOf("rgb")>=0){var rgb=v.match(/\d+/g);return"#"+hex(rgb[0])+hex(rgb[1])+hex(rgb[2]);}if(v&&v!="transparent"){return v;}}return"#ffffff";}$slides.each(function(){$(this).css("background-color",getBg(this));});}$.fn.cycle.commonReset=function(curr,next,opts,w,h,rev){$(opts.elements).not(curr).hide();opts.cssBefore.opacity=1;opts.cssBefore.display="block";if(w!==false&&next.cycleW>0){opts.cssBefore.width=next.cycleW;}if(h!==false&&next.cycleH>0){opts.cssBefore.height=next.cycleH;}opts.cssAfter=opts.cssAfter||{};opts.cssAfter.display="none";$(curr).css("zIndex",opts.slideCount+(rev===true?1:0));$(next).css("zIndex",opts.slideCount+(rev===true?0:1));};$.fn.cycle.custom=function(curr,next,opts,cb,fwd,speedOverride){var $l=$(curr),$n=$(next);var speedIn=opts.speedIn,speedOut=opts.speedOut,easeIn=opts.easeIn,easeOut=opts.easeOut;$n.css(opts.cssBefore);if(speedOverride){if(typeof speedOverride=="number"){speedIn=speedOut=speedOverride;}else{speedIn=speedOut=1;}easeIn=easeOut=null;}var fn=function(){$n.animate(opts.animIn,speedIn,easeIn,cb);};$l.animate(opts.animOut,speedOut,easeOut,function(){if(opts.cssAfter){$l.css(opts.cssAfter);}if(!opts.sync){fn();}});if(opts.sync){fn();}};$.fn.cycle.transitions={fade:function($cont,$slides,opts){$slides.not(":eq("+opts.currSlide+")").css("opacity",0);opts.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts);opts.cssBefore.opacity=0;});opts.animIn={opacity:1};opts.animOut={opacity:0};opts.cssBefore={top:0,left:0};}};$.fn.cycle.ver=function(){return ver;};$.fn.cycle.defaults={fx:"fade",timeout:4000,timeoutFn:null,continuous:0,speed:1000,speedIn:null,speedOut:null,next:null,prev:null,onPrevNextEvent:null,prevNextEvent:"click.cycle",pager:null,onPagerEvent:null,pagerEvent:"click.cycle",allowPagerClickBubble:false,pagerAnchorBuilder:null,before:null,after:null,end:null,easing:null,easeIn:null,easeOut:null,shuffle:null,animIn:null,animOut:null,cssBefore:null,cssAfter:null,fxFn:null,height:"auto",startingSlide:0,sync:1,random:0,fit:0,containerResize:1,pause:0,pauseOnPagerHover:0,autostop:0,autostopCount:0,delay:0,slideExpr:null,cleartype:!$.support.opacity,cleartypeNoBg:false,nowrap:0,fastOnEvent:0,randomizeEffects:1,rev:0,manualTrump:true,requeueOnImageNotLoaded:true,requeueTimeout:250,activePagerClass:"activeSlide",updateActivePagerLink:null,backwards:false};})(jQuery);
/*
 * jQuery Cycle Plugin Transition Definitions
 * This script is a plugin for the jQuery Cycle Plugin
 * Examples and documentation at: http://malsup.com/jquery/cycle/
 * Copyright (c) 2007-2010 M. Alsup
 * Version:	 2.72
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 */
(function($){$.fn.cycle.transitions.none=function($cont,$slides,opts){opts.fxFn=function(curr,next,opts,after){$(next).show();$(curr).hide();after();};};$.fn.cycle.transitions.scrollUp=function($cont,$slides,opts){$cont.css("overflow","hidden");opts.before.push($.fn.cycle.commonReset);var h=$cont.height();opts.cssBefore={top:h,left:0};opts.cssFirst={top:0};opts.animIn={top:0};opts.animOut={top:-h};};$.fn.cycle.transitions.scrollDown=function($cont,$slides,opts){$cont.css("overflow","hidden");opts.before.push($.fn.cycle.commonReset);var h=$cont.height();opts.cssFirst={top:0};opts.cssBefore={top:-h,left:0};opts.animIn={top:0};opts.animOut={top:h};};$.fn.cycle.transitions.scrollLeft=function($cont,$slides,opts){$cont.css("overflow","hidden");opts.before.push($.fn.cycle.commonReset);var w=$cont.width();opts.cssFirst={left:0};opts.cssBefore={left:w,top:0};opts.animIn={left:0};opts.animOut={left:0-w};};$.fn.cycle.transitions.scrollRight=function($cont,$slides,opts){$cont.css("overflow","hidden");opts.before.push($.fn.cycle.commonReset);var w=$cont.width();opts.cssFirst={left:0};opts.cssBefore={left:-w,top:0};opts.animIn={left:0};opts.animOut={left:w};};$.fn.cycle.transitions.scrollHorz=function($cont,$slides,opts){$cont.css("overflow","hidden").width();opts.before.push(function(curr,next,opts,fwd){$.fn.cycle.commonReset(curr,next,opts);opts.cssBefore.left=fwd?(next.cycleW-1):(1-next.cycleW);opts.animOut.left=fwd?-curr.cycleW:curr.cycleW;});opts.cssFirst={left:0};opts.cssBefore={top:0};opts.animIn={left:0};opts.animOut={top:0};};$.fn.cycle.transitions.scrollVert=function($cont,$slides,opts){$cont.css("overflow","hidden");opts.before.push(function(curr,next,opts,fwd){$.fn.cycle.commonReset(curr,next,opts);opts.cssBefore.top=fwd?(1-next.cycleH):(next.cycleH-1);opts.animOut.top=fwd?curr.cycleH:-curr.cycleH;});opts.cssFirst={top:0};opts.cssBefore={left:0};opts.animIn={top:0};opts.animOut={left:0};};$.fn.cycle.transitions.slideX=function($cont,$slides,opts){opts.before.push(function(curr,next,opts){$(opts.elements).not(curr).hide();$.fn.cycle.commonReset(curr,next,opts,false,true);opts.animIn.width=next.cycleW;});opts.cssBefore={left:0,top:0,width:0};opts.animIn={width:"show"};opts.animOut={width:0};};$.fn.cycle.transitions.slideY=function($cont,$slides,opts){opts.before.push(function(curr,next,opts){$(opts.elements).not(curr).hide();$.fn.cycle.commonReset(curr,next,opts,true,false);opts.animIn.height=next.cycleH;});opts.cssBefore={left:0,top:0,height:0};opts.animIn={height:"show"};opts.animOut={height:0};};$.fn.cycle.transitions.shuffle=function($cont,$slides,opts){var i,w=$cont.css("overflow","visible").width();$slides.css({left:0,top:0});opts.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts,true,true,true);});if(!opts.speedAdjusted){opts.speed=opts.speed/2;opts.speedAdjusted=true;}opts.random=0;opts.shuffle=opts.shuffle||{left:-w,top:15};opts.els=[];for(i=0;i<$slides.length;i++){opts.els.push($slides[i]);}for(i=0;i<opts.currSlide;i++){opts.els.push(opts.els.shift());}opts.fxFn=function(curr,next,opts,cb,fwd){var $el=fwd?$(curr):$(next);$(next).css(opts.cssBefore);var count=opts.slideCount;$el.animate(opts.shuffle,opts.speedIn,opts.easeIn,function(){var hops=$.fn.cycle.hopsFromLast(opts,fwd);for(var k=0;k<hops;k++){fwd?opts.els.push(opts.els.shift()):opts.els.unshift(opts.els.pop());}if(fwd){for(var i=0,len=opts.els.length;i<len;i++){$(opts.els[i]).css("z-index",len-i+count);}}else{var z=$(curr).css("z-index");$el.css("z-index",parseInt(z)+1+count);}$el.animate({left:0,top:0},opts.speedOut,opts.easeOut,function(){$(fwd?this:curr).hide();if(cb){cb();}});});};opts.cssBefore={display:"block",opacity:1,top:0,left:0};};$.fn.cycle.transitions.turnUp=function($cont,$slides,opts){opts.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts,true,false);opts.cssBefore.top=next.cycleH;opts.animIn.height=next.cycleH;});opts.cssFirst={top:0};opts.cssBefore={left:0,height:0};opts.animIn={top:0};opts.animOut={height:0};};$.fn.cycle.transitions.turnDown=function($cont,$slides,opts){opts.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts,true,false);opts.animIn.height=next.cycleH;opts.animOut.top=curr.cycleH;});opts.cssFirst={top:0};opts.cssBefore={left:0,top:0,height:0};opts.animOut={height:0};};$.fn.cycle.transitions.turnLeft=function($cont,$slides,opts){opts.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts,false,true);opts.cssBefore.left=next.cycleW;opts.animIn.width=next.cycleW;});opts.cssBefore={top:0,width:0};opts.animIn={left:0};opts.animOut={width:0};};$.fn.cycle.transitions.turnRight=function($cont,$slides,opts){opts.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts,false,true);opts.animIn.width=next.cycleW;opts.animOut.left=curr.cycleW;});opts.cssBefore={top:0,left:0,width:0};opts.animIn={left:0};opts.animOut={width:0};};$.fn.cycle.transitions.zoom=function($cont,$slides,opts){opts.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts,false,false,true);opts.cssBefore.top=next.cycleH/2;opts.cssBefore.left=next.cycleW/2;opts.animIn={top:0,left:0,width:next.cycleW,height:next.cycleH};opts.animOut={width:0,height:0,top:curr.cycleH/2,left:curr.cycleW/2};});opts.cssFirst={top:0,left:0};opts.cssBefore={width:0,height:0};};$.fn.cycle.transitions.fadeZoom=function($cont,$slides,opts){opts.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts,false,false);opts.cssBefore.left=next.cycleW/2;opts.cssBefore.top=next.cycleH/2;opts.animIn={top:0,left:0,width:next.cycleW,height:next.cycleH};});opts.cssBefore={width:0,height:0};opts.animOut={opacity:0};};$.fn.cycle.transitions.blindX=function($cont,$slides,opts){var w=$cont.css("overflow","hidden").width();opts.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts);opts.animIn.width=next.cycleW;opts.animOut.left=curr.cycleW;});opts.cssBefore={left:w,top:0};opts.animIn={left:0};opts.animOut={left:w};};$.fn.cycle.transitions.blindY=function($cont,$slides,opts){var h=$cont.css("overflow","hidden").height();opts.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts);opts.animIn.height=next.cycleH;opts.animOut.top=curr.cycleH;});opts.cssBefore={top:h,left:0};opts.animIn={top:0};opts.animOut={top:h};};$.fn.cycle.transitions.blindZ=function($cont,$slides,opts){var h=$cont.css("overflow","hidden").height();var w=$cont.width();opts.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts);opts.animIn.height=next.cycleH;opts.animOut.top=curr.cycleH;});opts.cssBefore={top:h,left:w};opts.animIn={top:0,left:0};opts.animOut={top:h,left:w};};$.fn.cycle.transitions.growX=function($cont,$slides,opts){opts.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts,false,true);opts.cssBefore.left=this.cycleW/2;opts.animIn={left:0,width:this.cycleW};opts.animOut={left:0};});opts.cssBefore={width:0,top:0};};$.fn.cycle.transitions.growY=function($cont,$slides,opts){opts.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts,true,false);opts.cssBefore.top=this.cycleH/2;opts.animIn={top:0,height:this.cycleH};opts.animOut={top:0};});opts.cssBefore={height:0,left:0};};$.fn.cycle.transitions.curtainX=function($cont,$slides,opts){opts.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts,false,true,true);opts.cssBefore.left=next.cycleW/2;opts.animIn={left:0,width:this.cycleW};opts.animOut={left:curr.cycleW/2,width:0};});opts.cssBefore={top:0,width:0};};$.fn.cycle.transitions.curtainY=function($cont,$slides,opts){opts.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts,true,false,true);opts.cssBefore.top=next.cycleH/2;opts.animIn={top:0,height:next.cycleH};opts.animOut={top:curr.cycleH/2,height:0};});opts.cssBefore={left:0,height:0};};$.fn.cycle.transitions.cover=function($cont,$slides,opts){var d=opts.direction||"left";var w=$cont.css("overflow","hidden").width();var h=$cont.height();opts.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts);if(d=="right"){opts.cssBefore.left=-w;}else{if(d=="up"){opts.cssBefore.top=h;}else{if(d=="down"){opts.cssBefore.top=-h;}else{opts.cssBefore.left=w;}}}});opts.animIn={left:0,top:0};opts.animOut={opacity:1};opts.cssBefore={top:0,left:0};};$.fn.cycle.transitions.uncover=function($cont,$slides,opts){var d=opts.direction||"left";var w=$cont.css("overflow","hidden").width();var h=$cont.height();opts.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts,true,true,true);if(d=="right"){opts.animOut.left=w;}else{if(d=="up"){opts.animOut.top=-h;}else{if(d=="down"){opts.animOut.top=h;}else{opts.animOut.left=-w;}}}});opts.animIn={left:0,top:0};opts.animOut={opacity:1};opts.cssBefore={top:0,left:0};};$.fn.cycle.transitions.toss=function($cont,$slides,opts){var w=$cont.css("overflow","visible").width();var h=$cont.height();opts.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts,true,true,true);if(!opts.animOut.left&&!opts.animOut.top){opts.animOut={left:w*2,top:-h/2,opacity:0};}else{opts.animOut.opacity=0;}});opts.cssBefore={left:0,top:0};opts.animIn={left:0};};$.fn.cycle.transitions.wipe=function($cont,$slides,opts){var w=$cont.css("overflow","hidden").width();var h=$cont.height();opts.cssBefore=opts.cssBefore||{};var clip;if(opts.clip){if(/l2r/.test(opts.clip)){clip="rect(0px 0px "+h+"px 0px)";}else{if(/r2l/.test(opts.clip)){clip="rect(0px "+w+"px "+h+"px "+w+"px)";}else{if(/t2b/.test(opts.clip)){clip="rect(0px "+w+"px 0px 0px)";}else{if(/b2t/.test(opts.clip)){clip="rect("+h+"px "+w+"px "+h+"px 0px)";}else{if(/zoom/.test(opts.clip)){var top=parseInt(h/2);var left=parseInt(w/2);clip="rect("+top+"px "+left+"px "+top+"px "+left+"px)";}}}}}}opts.cssBefore.clip=opts.cssBefore.clip||clip||"rect(0px 0px 0px 0px)";var d=opts.cssBefore.clip.match(/(\d+)/g);var t=parseInt(d[0]),r=parseInt(d[1]),b=parseInt(d[2]),l=parseInt(d[3]);opts.before.push(function(curr,next,opts){if(curr==next){return;}var $curr=$(curr),$next=$(next);$.fn.cycle.commonReset(curr,next,opts,true,true,false);opts.cssAfter.display="block";var step=1,count=parseInt((opts.speedIn/13))-1;(function f(){var tt=t?t-parseInt(step*(t/count)):0;var ll=l?l-parseInt(step*(l/count)):0;var bb=b<h?b+parseInt(step*((h-b)/count||1)):h;var rr=r<w?r+parseInt(step*((w-r)/count||1)):w;$next.css({clip:"rect("+tt+"px "+rr+"px "+bb+"px "+ll+"px)"});(step++<=count)?setTimeout(f,13):$curr.css("display","none");})();});opts.cssBefore={display:"block",opacity:1,top:0,left:0};opts.animIn={left:0};opts.animOut={left:0};};})(jQuery);$.namespace("Carnival.Header");Carnival.Header.Personalizer=function(){var h=this;var f=document.location.hostname+document.location.pathname;var i="",d="";var g=false,c=false;var a=$("strong","#vifp");var b=$("small","#vifp");if($.cookie("CarnivalUserCookie")!=null){i=$.cookie("UserFirstName");d=$.cookie("UserEmailAddress");g=true}if($.cookie("MSCSAuth")!=null){c=true}this.PersonalizeTopLoginLinks=function(){var m=$("li#countdowncontainer a");var l=e();if(l){m.html(l);m.show()}else{m.hide();$("li#countdowncontainer").addClass("last-child")}var j=$("#ccl_header_expand-login-link");var k=$("#lnkAction2");$("#lnkAction2").click(function(){if(f.toLowerCase().indexOf("bookedguest")>0||f.toLowerCase().indexOf("myres")>0){document.location="/bookedguest/guestmanagement/mycarnival/logout"}});if(f.toLowerCase().indexOf("/funville")!=-1){$("div.account-bar ul.login").hide()}if(g&&c){a.text("My VIFP");b.text("");if($.cookie("VifpNumberOfDays")!=null){b.text($.cookie("VifpNumberOfDays")+" days sailed")}$("#welcome").show();j.html(i);j.attr("href","#").addClass("not-a-link").click(function(){return false});if(d){$("#ccl_header_login-email").attr("value",d)}k.html("Logout");k.attr("href","/bookedguest/guestmanagement/mycarnival/logout")}if(g&&!c){a.text(" JOIN");b.text("the VIFP Club");$("#welcome").show();j.html(i);j.addClass("not-a-link").click(function(){if(f.toLowerCase().indexOf("bookedguest")!=-1){document.location.href="/BookedGuest/guestmanagement/mycarnival/logon"}return false});if(d){$("#ccl_header_login-email").attr("value",d)}k.html("Not "+i);k.attr("href","/bookedguest/guestmanagement/mycarnival/logon?takeAction=signout")}if(!g&&!c){a.text(" JOIN");b.text("the VIFP Club");j.html("Login");j.removeClass("not-a-link").click(function(){if(f.toLowerCase().indexOf("bookedguest")!=-1){document.location.href="/BookedGuest/guestmanagement/mycarnival/logon"}});k.html("Register");k.attr("href","/bookedguest/guestmanagement/registration/enroll");if(f.toLowerCase().indexOf("bookedguest")!=-1){k.attr("href","/BookedGuest/guestmanagement/mycarnival/logon")}}var n=new Carnival.LoginComponent({userNameTextBoxId:"ccl_header_login-email",passwordTextBoxId:"ccl_header_login-pw",loginButtonId:"loginBttn",logOutButtonId:null,errorLabelId:null,isAjax:false,returnUrlSuccess:"",returnUrlFailure:"/bookedguest/guestmanagement/mycarnival/logon",isInsideIFrame:false,formId:"headerLoginForm",useJQueryValidation:true});var o=new Carnival.LoginComponent({userNameTextBoxId:"ccl_header_manage-login",passwordTextBoxId:"ccl_header_manage-pass",loginButtonId:"manage_login_bttn",logOutButtonId:null,errorLabelId:null,isAjax:false,returnUrlSuccess:"",returnUrlFailure:"/bookedguest/guestmanagement/mycarnival/logon",isInsideIFrame:false,formId:"headerLoginForm2",useJQueryValidation:true})};this.PersonalizeTabs=function(j,l){var k=j.attr("id");var n=j.data("sectionToShow");if(n){if(k=="manage"||k=="vifp"){l.addClass("active")}$(h).trigger("SectionReady",n);return}switch(k){case"manage":l.addClass("active");$("div.manage").hide();if(!c){var m=$(".logged-out");$(h).trigger("SectionReady",m);return}else{$("div.manageLoadingGif").show();$.ajax({cache:false,url:"/bookedguest/guestmanagement/mycruises/getcurrentsailings",success:function(p){var v,w,t,r;if(p.CurrentSailings&&p.CurrentSailings.length>0){v=$("div.logged-in-cruises");w=$("ul.arrow-list",v);var o="/BookedGuest/Booking/Detail/";t="";for(var u in p.CurrentSailings){var q=new Date(parseInt(p.CurrentSailings[u].SailDate.replace("/Date(","").replace(")/",""),10));var s=(q.getMonth()+1)+"/"+q.getDate()+"/"+q.getFullYear();r=p.CurrentSailings[u].BookingNumber+" "+s+" to "+p.CurrentSailings[u].Destination;t+="<li><a href='"+o+p.CurrentSailings[u].BookingNumber+"'>"+r+"</a></li>"}if(w&&t){w.html(t)}$(h).trigger("SectionReady",v);j.data("sectionToShow",v)}else{$.ajax({cache:false,url:"/bookingengine/sailingsearch/getfavorites/?pageNumber=1&pageSize=2",success:function(x){if(x.Itineraries&&x.Itineraries.length>0){v=$("div.logged-in-saved-cruises");w=$("ul.arrow-list",v);var y="/bookingengine/sailingsearch/search2?showSavedTab=Y";t="";for(u in x.Itineraries){r=x[u].ItnDescriptionText;t+="<li><a href='"+y+"'>"+r+"</a></li>"}}else{v=$("div.logged-in-general")}if(w&&t){w.html(t)}$(h).trigger("SectionReady",v);j.data("sectionToShow",v)}})}}})}break;case"vifp":if(!c){document.location="/loyalty/overview.aspx";break}l.addClass("active");$("div.vifpLoadingGif").show();$.ajax({cache:false,url:"/bookedguest/guestmanagement/mycarnival/getdataforvifpheadertab",success:function(o){if(!o){return}var q=$("div.vifp");$("#vifpPoints",q).text(o.Points);$("#sailingSince",q).text(o.SailingSince);$("#tierTitle",q).text(o.TierTitle);$("img.badge",q).attr("src",o.TierImgUrl);if(o.NextTierTitle&&o.NumberOfPointsTilNextTier>0){$("#nextTierH",q).show();$("#nextTierP",q).show();$("#nextTierName",q).text(o.NextTierTitle);$("#pointsTilNextTier",q).text(o.NumberOfPointsTilNextTier)}else{$("#nextTierH",q).hide();$("#nextTierP",q).hide()}var p=$("div.stat-box.membership");p.removeClass();p.addClass("stat-box membership "+(o.TierTitle?o.TierTitle.toLowerCase():""));$(h).trigger("SectionReady",q);j.data("sectionToShow",q)}});break}};function e(){var p="";var o=1000*60;var n=o*60;var l=n*24;try{var r=$.cookie("SailDate")}catch(j){}if(r){var k=new Date();if(Date.parse(k)>Date.parse(r)){return""}var q=Date.parse(r);if(isNaN(q)){r=ParseDateFromMMddyyyyCultureInvariant2(r);q=Date.parse(r)}var s=Date.parse(Date());l=parseInt(((q-s)/l));if(isNaN(l)){return""}l=l+1;var m=" Days";if(l==1){m=" Day"}p="<span>"+l+m+"</span> To Sailing"}return p}};var cclHeaderPersonalizer=new Carnival.Header.Personalizer();cclHeaderPersonalizer.PersonalizeTopLoginLinks();$(document).ready(function(){$("#ccl_header_login-email, #ccl_header_login-pw").bind("keypress",function(a){if(a.keyCode==13){if($("#ccl_header_login-email").val().length>0&&$("#ccl_header_login-pw").val().length>0){$("#loginBttn").click()}}});$("#ccl_header_manage-login, #ccl_header_manage-pass").bind("keypress",function(a){if(a.keyCode==13){if($("#ccl_header_manage-login").val().length>0&&$("#ccl_header_manage-pass").val().length>0){$("#manage_login_bttn").click()}}})});function ParseDateFromMMddyyyyCultureInvariant2(b){if(b!=null&&b!=""){var e,d,c;var a=[];if(b.indexOf("-")!=-1){a=b.split("-")}if(b.indexOf("/")!=-1){a=b.split("/")}if(a.length>0){d=a[0];c=a[1];e=a[2];return new Date(e,parseInt(d,10)-1,c)}else{if(b.length!=8){return null}d=b.substring(0,2);c=b.substring(2,4);e=b.substring(4);return new Date(e,parseInt(d,10)-1,c)}}return null};window.Modernizr=function(b,c,i){function v(g,d){var e=g.charAt(0).toUpperCase()+g.substr(1),h;d:{e=(g+" "+C.join(e+" ")+e).split(" ");for(var j in e){if(z[e[j]]!==i&&(!d||d(e[j],w))){h=true;break d}}}return !!h}var a={},p=c.documentElement;c.head||c.getElementsByTagName("head");var w=c.createElement("modernizr"),z=w.style;c.createElement("input");" -webkit- -moz- -o- -ms- -khtml- ".split(" ");var C="Webkit Moz O ms Khtml".split(" ");b={};var A=[],u;(function(){var d={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(e,g){g=g||c.createElement(d[e]||"div");e="on"+e;var h=e in g;if(!h){g.setAttribute||(g=c.createElement("div"));if(g.setAttribute&&g.removeAttribute){g.setAttribute(e,"");h=typeof g[e]==="function";typeof g[e]===i||(g[e]=i);g.removeAttribute(e)}}return h}})();var x={}.hasOwnProperty,B;B=typeof x!==i&&typeof x.call!==i?function(e,d){return x.call(e,d)}:function(e,d){return d in e&&typeof e.constructor.prototype[d]===i};b.borderradius=function(){return v("borderRadius","",function(d){return(""+d).indexOf("orderRadius")!==-1})};b.boxshadow=function(){return v("boxShadow")};b.textshadow=function(){return c.createElement("div").style.textShadow===""};b.csstransitions=function(){return v("transitionProperty")};for(var y in b){if(B(b,y)){u=y.toLowerCase();a[u]=b[y]();A.push((a[u]?"":"no-")+u)}}a.crosswindowmessaging=a.postmessage;a.historymanagement=a.history;a.addTest=function(e,d){e=e.toLowerCase();if(!a[e]){d=!!d();p.className+=" "+(d?"":"no-")+e;a[e]=d;return a}};z.cssText="";w=f=null;a._enableHTML5=true;a._version="1.6";p.className=p.className.replace(/\bno-js\b/,"")+" js";p.className+=" "+A.join(" ");return a}(this,this.document);(function(a){var b={swipeTolerance:40};var d=function(e,f){this.target=a(e);this.touch=f;this.startX=this.currentX=f.screenX;this.startY=this.currentY=f.screenY;this.eventType=null};d.options={};d.latestTap=null;d.prototype.move=function(e){this.currentX=e.screenX;this.currentY=e.screenY};d.prototype.process=function(){var e=this.currentX-this.startX;var f=this.currentY-this.startY;if(e==0&&f==0){this.checkForDoubleTap()}else{if(Math.abs(f)>d.options.swipeTolerance&&Math.abs(f)>Math.abs(e)){this.eventType=f>0?"swipedown":"swipeup";this.target.trigger("swipe",[this])}else{if(Math.abs(e)>d.options.swipeTolerance){this.eventType=e>0?"swiperight":"swipeleft";this.target.trigger("swipe",[this])}}}if(this.eventType){this.target.trigger(this.eventType,[this])}this.target.trigger("touch",[this])};d.prototype.checkForDoubleTap=function(){if(d.latestTap){if((new Date()-d.latestTap)<400){this.eventType="doubletap"}}if(!this.eventType){this.eventType="tap"}d.latestTap=new Date()};var c=function(e,f){d.options=a.extend(b,f);e.bind("touchstart",this.touchStart);e.bind("touchmove",this.touchMove);e.bind("touchcancel",this.touchCancel);e.bind("touchend",this.touchEnd)};c.prototype.touchStart=function(e){var f=this;c.eachTouch(e,function(g){c.touches[g.identifier]=new d(f,g)})};c.prototype.touchMove=function(e){c.eachTouch(e,function(g){var f=c.touches[g.identifier];if(f){f.move(g)}})};c.prototype.touchCancel=function(e){c.eachTouch(e,function(f){c.purge(f,true)})};c.prototype.touchEnd=function(e){c.eachTouch(e,function(f){c.purge(f)})};c.touches={};c.purge=function(g,e){if(!e){var f=c.touches[g.identifier];if(f){f.process()}}delete c.touches[g.identifier]};c.eachTouch=function(f,e){var f=f.originalEvent;var h=f.changedTouches.length;for(var g=0;g<h;g++){e(f.changedTouches[g])}};a.fn.addSwipeEvents=function(f,e){if(!e&&jQuery.isFunction(f)){e=f;f=null}new c(this,f);if(e){this.bind("touch",e)}return this}})(jQuery);(function(g){var h={swipeTolerance:40};var e=function(a,b){this.target=g(a);this.touch=b;this.startX=this.currentX=b.screenX;this.startY=this.currentY=b.screenY;this.eventType=null};e.options={};e.latestTap=null;e.prototype.move=function(a){this.currentX=a.screenX;this.currentY=a.screenY};e.prototype.process=function(){var a=this.currentX-this.startX;var b=this.currentY-this.startY;if(a==0&&b==0){this.checkForDoubleTap()}else{if(Math.abs(b)>e.options.swipeTolerance&&Math.abs(b)>Math.abs(a)){this.eventType=b>0?"swipedown":"swipeup";this.target.trigger("swipe",[this])}else{if(Math.abs(a)>e.options.swipeTolerance){this.eventType=a>0?"swiperight":"swipeleft";this.target.trigger("swipe",[this])}}}if(this.eventType){this.target.trigger(this.eventType,[this])}this.target.trigger("touch",[this])};e.prototype.checkForDoubleTap=function(){if(e.latestTap){if((new Date()-e.latestTap)<400){this.eventType="doubletap"}}if(!this.eventType){this.eventType="tap"}e.latestTap=new Date()};var f=function(b,a){e.options=g.extend(h,a);b.bind("touchstart",this.touchStart);b.bind("touchmove",this.touchMove);b.bind("touchcancel",this.touchCancel);b.bind("touchend",this.touchEnd)};f.prototype.touchStart=function(a){var b=this;f.eachTouch(a,function(c){f.touches[c.identifier]=new e(b,c)})};f.prototype.touchMove=function(a){f.eachTouch(a,function(c){var b=f.touches[c.identifier];if(b){b.move(c)}})};f.prototype.touchCancel=function(a){f.eachTouch(a,function(b){f.purge(b,true)})};f.prototype.touchEnd=function(a){f.eachTouch(a,function(b){f.purge(b)})};f.touches={};f.purge=function(c,a){if(!a){var b=f.touches[c.identifier];if(b){b.process()}}delete f.touches[c.identifier]};f.eachTouch=function(a,d){var a=a.originalEvent;var b=a.changedTouches.length;for(var c=0;c<b;c++){d(a.changedTouches[c])}};g.fn.addSwipeEvents=function(a,b){if(!b&&jQuery.isFunction(a)){b=a;a=null}new f(this,a);if(b){this.bind("touch",b)}return this}})(jQuery);var travelAdvisoryCookieName="CCLTravelAdvisoryCookie";var travelAdvisoryCookieNamePrefix="TravelAdvisory";var ccl_header={flyoutClosing:false,showFlyout:function(a){var d=$("#ccl_header"),i=d.find(".navigation"),g=a.parent(),h=d.find(".navigation li").not(g),f=a[0].id,j=d.find(".flyout-wrapper"),b=j.find(".flyout."+f),c=j.find(".flyout").not(b),e=$("#ccl_homepage .homepage-content");h.removeClass("active");c.hide();if(f=="manage"||f=="vifp"){if(!d.attr("SectionReadyEventBound")){$(cclHeaderPersonalizer).bind("SectionReady",function(k,l){if(l){ccl_header.showFlyout_part2(d,i,g,h,f,j,$(l),c,e)}else{ccl_header.hideFlyouts()}});d.attr("SectionReadyEventBound","Y")}cclHeaderPersonalizer.PersonalizeTabs(a,g)}else{g.addClass("active");ccl_header.showFlyout_part2(d,i,g,h,f,j,b,c,e)}},showFlyout_part2:function(c,i,f,g,e,j,a,b,d){a.show();ccl_header.unPIE(i);if(!j.hasClass("expanded")){if(d.length){d.find(".banner-rotator .slideshow").cycle("pause");d.delay(80).animate({"margin-top":"0"},60,function(){});j.stop(false,true).slideDown("fast","linear",function(){j.addClass("expanded").css("height",j.height()+"px");ccl_header.PIE(i);ccl_header.equalizeSectionHeights(a);d.find(".banner-rotator .slideshow").cycle("resume")})}else{j.stop(false,true).slideDown("fast","linear",function(){j.addClass("expanded").css("height",j.height()+"px");ccl_header.PIE(i);ccl_header.equalizeSectionHeights(a)})}}else{var h=0;a.each(function(){var k=$(this).height();h+=(k+90)});ccl_header.unPIE(i);ccl_header.PIE(i);ccl_header.equalizeSectionHeights(a);j.animate({height:h+"px"},150,"linear")}},hideFlyouts:function(){var b=$("#ccl_header"),e=b.find(".navigation"),d=e.find("li"),f=b.find(".flyout-wrapper"),a=f.find(".flyout"),c=$("#ccl_homepage .homepage-content");ccl_header.unPIE(e);if(f.hasClass("expanded")&&!ccl_header.flyoutClosing){d.removeClass("active");ccl_header.flyoutClosing=true;if(c.length){c.find(".banner-rotator .slideshow").cycle("pause");c.animate({"margin-top":"-62px"},50,"linear")}f.stop(false,true).slideUp("fast","linear",function(){a.hide();f.removeClass("expanded").removeAttr("style");ccl_header.flyoutClosing=false;ccl_header.PIE(e);ccl_header.adjustHeight(25);if(c.length){c.find(".banner-rotator .slideshow").cycle("resume")}})}else{d.removeClass("active");a.hide();f.stop().removeClass("expanded").hide().removeAttr("style");ccl_header.flyoutClosing=false;if(c.length){c.stop(true,false).css("margin-top","-62px")}ccl_header.PIE(e);ccl_header.adjustHeight(25)}},PIEelements:"#ccl_header .header-top, #ccl_header ul.navigation, #ccl_header ul.navigation li.first-child, #ccl_header .site-search, #ccl_homepage #ccl_header .trans-wrap",initPIE:function(){if(window.PIE){$(ccl_header.PIEelements).each(function(){PIE.attach(this)})}},killPIE:function(){if(window.PIE){$(ccl_header.PIEelements).each(function(){PIE.detach(this)})}},PIE:function(a){if(window.PIE){PIE.attach(a[0])}},unPIE:function(a){if(window.PIE){PIE.detach(a[0])}},originalHeight:0,adjustHeight:function(c){if($.browser.msie&&parseInt($.browser.version,10)<8){var b=$(document).height(),a=$("#ccl_header .top-section");if(b>(ccl_header.originalHeight+c)){a.css("margin-bottom","1px");setTimeout(function(){a.css("margin-bottom","0")},50)}}},supportPH:function(a){if(!a){a="#ccl_header"}var b=("placeholder" in document.createElement("input"));$("*[placeholder][type!=password]",a).each(function(){var c=$(this),d=c.attr("placeholder");c.val(d).focus(function(){if(c.val()==d){c.val("")}}).blur(function(){if(c.val()==""){c.val(d)}}).removeAttr("placeholder")});$("#ccl_header input[type=password]").each(function(){if($(this).parent().is(".pw-wrap")){var d=$(this),e=d.attr("placeholder"),c=d.attr("id");if(!$("label[for="+c+"]").length){lbl=$('<label for="'+c+'">'+e+"</label>");if(d.hasClass("error")){d.parent().addClass("error")}d.removeAttr("placeholder");d.before(lbl).focus(function(){d.prev().hide()}).blur(function(){if(d.val()==""){d.prev().show()}});d.val()==""?d.prev().show():d.prev().hide()}}})},equalizeSectionHeights:function(a){a.each(function(){var b=$(this);if(!b.hasClass("equalized")){var d=b.find(".section"),c=0;d.each(function(){if($(this).height()>c){c=$(this).height()}});d.css("height",c+"px");b.addClass("equalized")}})},dynamicallyLoadFlyoutContent:function(b,d,a){var c="/Service/RenderHeaderFlyoutContent.aspx/GetHeaderFlyoutContentForTab";$.ajax({type:"POST",url:c,data:b,contentType:"application/json; charset=utf-8",dataType:"json",success:function(f){var e=a.find(".flyout-wrapper ."+d);e.html(f.d);ccl_header.supportPH(e);ccl_header.setHoverStatesOfFlyoutImages(e);if($.browser.msie&&parseInt($.browser.version)<=9){e.find(".icon-blurb").click(function(){location.href=$(this).attr("href")})}e.find(".flyout-close").click(function(){ccl_header.hideFlyouts();return false});e.find("img").each(function(){var g=$(this);var i=g.attr("src");var h=i.indexOf("~/media");if(h==0){g.attr("src","/"+i)}else{if(h>0&&$.browser.msie&&i.indexOf("/~/media")!=0){g.attr("src","/"+i.substring(h))}}})},error:function(){var e="error"}})},setHoverStatesOfFlyoutImages:function(a){a.find(".icon-blurb img").hover(function(){var c=$(this);var b=c.parents(".icon").find("input[name=IconOnHover]").val();c.attr("src",b)},function(){var b=$(this);var c=b.parents(".icon").find("input[name=OriginalIcon]").val();b.attr("src",c)})},dynamicallyLoadAdvisoryContent:function(c,b){var a="/Service/RenderHeaderAdvisoryContent.aspx/GetHeaderAdvisoryContent";$.ajax({type:"POST",url:a,data:c,contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){var d=b.find(".message-bar");d.html(e.d);b.find(".message-bar-close").click(function(){$(this).parents(".inner").slideUp("fast");var f=travelAdvisoryCookieNamePrefix+$(this).parents(".inner").find("input[name=cookieIdentifier]").val();ccl_header.setCookie(travelAdvisoryCookieName,f,"false");return false});ccl_header.setTravelAdvisoryColorCodeAndCookie(b)},error:function(){var d="error"}})},setTravelAdvisoryColorCodeAndCookie:function(a){var b=$.cookie(travelAdvisoryCookieName);a.find("input[name=UrgencyLevelColorCode]").each(function(){var g=$(this);var c=g.parents(".inner");c.find("h4").css("backgroundColor",g.val());var e=travelAdvisoryCookieNamePrefix+c.find("input[name=cookieIdentifier]").val();if(!b){ccl_header.setCookie(travelAdvisoryCookieName,e,"true")}else{c.hide();var d=b.split("&");for(var f=0;f<d.length;f++){if(d[f].indexOf(e)>-1&&d[f].split("=")[1]=="true"){c.show()}}}});a.find(".message-bar").slideDown()},setCookie:function(b,a,d){var c=$.cookie(b);c=ccl_header.setCookieStringItem(c,a,d);var e=ccl_header.getCookieOptions();$.cookie(b,c,e)},setCookieStringItem:function(c,b,d){if(c!=null){if(c.indexOf(b)==-1){c=c+((c.charAt(c.length-1)=="&")?"":"&")+b+"="+d}else{if(c.indexOf(b+"="+d)==-1){var a=c.split("&");for(var e=0;e<a.length;e++){if(a[e].indexOf(b)>-1){a[e]=b+"="+d}}c=a.join("&")}}}else{c=b+"="+d}return c},getCookieOptions:function(){var b={path:"/",expires:90};var a=ccl_header.getCookieDomain();if(a.length>0){b={path:"/",expires:90,domain:a}}return b},getCookieDomain:function(){var a=document.domain;if(a=="localhost"){return""}if(a.indexOf(".com")>0){if(a.indexOf(".")<a.indexOf(".com")){a=a.substr(a.indexOf(".")+1)}return a}else{return""}},launchPopup:function(f,e,b,a){if(b==null){b=375}if(a==null){a=335}if(!e){return false}var d=$('<div class="'+e+'-popup popup-forgot"><a class="close" href="#">X</a><div class="inner"><iframe id="'+e+'-iframe" width="'+b+'" height="'+a+'" src="'+f+'" frameborder="0" style="width: '+b+"px!important; height: "+a+'px!important;"></iframe></div></div>');var c=$('<div class="popup-forgot-overlay"></div>');$("body").append(c,d);d.find(".close").click(function(){d.add(c).remove();if($.browser.msie&&parseInt($.browser.version)<=9){parent.$(parent.document).trigger("IframeClosed",[{}])}return false});c.click(function(){d.remove();c.remove();return false});ccl_header.positionPopup(d);$(window).bind("resize scroll",function(){ccl_header.positionPopup(d)})},positionPopup:function(b){var h=$(window).width(),g=$(window).height(),c=b.width()+16,a=b.height()+16,f=$(window).scrollTop();var d=(h-c)/2;var e=f+25;if(a<g){e=(g-a)/2+f}b.css({top:e+"px",left:d+"px"})}};$(function(){var b=$("#ccl_header"),d=b.find(".flyout-wrapper");function c(){$("div.header-top").css("zoom","0.999");$("div.header-top").css("zoom","1.000")}var a=b.find("#ccl_header_expand-login-link");a.click(function(){var f=$(this),g=f.parent(),h=b.find(".top-section"),e=b.find(".login-flyout");if(!f.hasClass("not-a-link")){if(!g.hasClass("active")){g.addClass("active");h.addClass("flyout-expanded");if($.browser.msie&&parseInt($.browser.version)=="7"){e.slideDown("fast",c)}else{e.slideDown("fast")}}else{e.slideUp("fast",function(){g.removeClass("active");h.removeClass("flyout-expanded")})}}return false});b.find("a.flyout").bind("click",function(){if($(this).parent().hasClass("active")){ccl_header.hideFlyouts()}else{ccl_header.showFlyout($(this))}return false});b.find(".flyout-close").click(function(){ccl_header.hideFlyouts();return false});b.find(".navigation li a").not(".flyout").bind("mouseenter",function(){ccl_header.hideFlyouts()});ccl_header.supportPH();ccl_header.initPIE();$(window).load(function(){setTimeout(function(){if(window.PIE&&$(document).width()>2000){ccl_header.killPIE();ccl_header.initPIE()}},1000)});$(window).load(function(){ccl_header.originalHeight=$(document).height()});b.find(".navigation li").one("mouseover",function(){var f=$(this);var g=f.find(".flyout").attr("id");var e=$("input[name=FlyoutId]").val();if(g=="PlanAndBook"||g=="Explore"||g=="Special"){ccl_header.dynamicallyLoadFlyoutContent("{'tabId' : '"+g+"'}",g,b)}});ccl_header.dynamicallyLoadAdvisoryContent("{}",b);b.find("#ccl_header_site-search").live("keypress",function(e){if(e.keyCode==13){$("#ccl_header_site-search-submit").click();e.stopPropagation();e.preventDefault()}})});(function(g,h,i){var j=h.event,k;j.special.smartresize={setup:function(){h(this).bind("resize",j.special.smartresize.handler)},teardown:function(){h(this).unbind("resize",j.special.smartresize.handler)},handler:function(b,e){var m=this,n=arguments;b.type="smartresize",k&&clearTimeout(k),k=setTimeout(function(){h.event.handle.apply(m,n)},e==="execAsap"?0:100)}},h.fn.smartresize=function(b){return b?this.bind("smartresize",b):this.trigger("smartresize",["execAsap"])},h.Mason=function(b,d){this.element=h(d),this._create(b),this._init()},h.Mason.settings={isResizable:!0,isAnimated:!1,animationOptions:{queue:!1,duration:500},gutterWidth:0,isRTL:!1,isFitWidth:!1,containerStyle:{position:"relative"}},h.Mason.prototype={_filterFindBricks:function(c){var d=this.options.itemSelector;return d?c.filter(d).add(c.find(d)):c},_getBricks:function(c){var d=this._filterFindBricks(c).css({position:"absolute"}).addClass("masonry-brick");return d},_create:function(a){this.options=h.extend(!0,{},h.Mason.settings,a),this.styleQueue=[];var b=this.element[0].style;this.originalStyle={height:b.height||""};var m=this.options.containerStyle;for(var n in m){this.originalStyle[n]=b[n]||""}this.element.css(m),this.horizontalDirection=this.options.isRTL?"right":"left",this.offset={x:parseInt(this.element.css("padding-"+this.horizontalDirection),10),y:parseInt(this.element.css("padding-top"),10)},this.isFluid=this.options.columnWidth&&typeof this.options.columnWidth=="function";var o=this;setTimeout(function(){o.element.addClass("masonry")},0),this.options.isResizable&&h(g).bind("smartresize.masonry",function(){o.resize()}),this.reloadItems()},_init:function(b){this._getColumns(),this._reLayout(b)},option:function(b,d){h.isPlainObject(b)&&(this.options=h.extend(!0,this.options,b))},layout:function(m,n){for(var o=0,p=m.length;o<p;o++){this._placeBrick(m[o])}var q={};q.height=Math.max.apply(Math,this.colYs);if(this.options.isFitWidth){var r=0;o=this.cols;while(--o){if(this.colYs[o]!==0){break}r++}q.width=(this.cols-r)*this.columnWidth-this.options.gutterWidth}this.styleQueue.push({$el:this.element,style:q});var s=this.isLaidOut?this.options.isAnimated?"animate":"css":"css",t=this.options.animationOptions,u;for(o=0,p=this.styleQueue.length;o<p;o++){u=this.styleQueue[o],u.$el[s](u.style,t)}this.styleQueue=[],n&&n.call(m),this.isLaidOut=!0},_getColumns:function(){var c=this.options.isFitWidth?this.element.parent():this.element,d=c.width();this.columnWidth=this.isFluid?this.options.columnWidth(d):this.options.columnWidth||this.$bricks.outerWidth(!0)||d,this.columnWidth+=this.options.gutterWidth,this.cols=Math.floor((d+this.options.gutterWidth)/this.columnWidth),this.cols=Math.max(this.cols,1)},_placeBrick:function(b){var p=h(b),q,r,s,t,u;q=Math.ceil(p.outerWidth(!0)/(this.columnWidth+this.options.gutterWidth)),q=Math.min(q,this.cols);if(q===1){s=this.colYs}else{r=this.cols+1-q,s=[];for(u=0;u<r;u++){t=this.colYs.slice(u,u+q),s[u]=Math.max.apply(Math,t)}}var v=Math.min.apply(Math,s),w=0;for(var x=0,y=s.length;x<y;x++){if(s[x]===v){w=x;break}}var z={top:v+this.offset.y};z[this.horizontalDirection]=this.columnWidth*w+this.offset.x,this.styleQueue.push({$el:p,style:z});var A=v+p.outerHeight(!0),B=this.cols+1-y;for(x=0;x<B;x++){this.colYs[w+x]=A}},resize:function(){var b=this.cols;this._getColumns(),(this.isFluid||this.cols!==b)&&this._reLayout()},_reLayout:function(c){var d=this.cols;this.colYs=[];while(d--){this.colYs.push(0)}this.layout(this.$bricks,c)},reloadItems:function(){this.$bricks=this._getBricks(this.element.children())},reload:function(b){this.reloadItems(),this._init(b)},appended:function(e,f,m){if(f){this._filterFindBricks(e).css({top:this.element.height()});var n=this;setTimeout(function(){n._appended(e,m)},1)}else{this._appended(e,m)}},_appended:function(d,e){var f=this._getBricks(d);this.$bricks=this.$bricks.add(f),this.layout(f,e)},remove:function(b){this.$bricks=this.$bricks.not(b),b.remove()},destroy:function(){this.$bricks.removeClass("masonry-brick").each(function(){this.style.position="",this.style.top="",this.style.left=""});var a=this.element[0].style;for(var b in this.originalStyle){a[b]=this.originalStyle[b]}this.element.unbind(".masonry").removeClass("masonry").removeData("masonry"),h(g).unbind(".masonry")}},h.fn.imagesLoaded=function(b){function r(){b.call(m,n)}function s(d){var e=d.target;e.src!==p&&h.inArray(e,q)===-1&&(q.push(e),--o<=0&&(setTimeout(r),n.unbind(".imagesLoaded",s)))}var m=this,n=m.find("img").add(m.filter("img")),o=n.length,p="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",q=[];return o||r(),n.bind("load.imagesLoaded error.imagesLoaded",s).each(function(){var c=this.src;this.src=p,this.src=c}),m};var l=function(a){g.console&&g.console.error(a)};h.fn.masonry=function(b){if(typeof b=="string"){var d=Array.prototype.slice.call(arguments,1);this.each(function(){var a=h.data(this,"masonry");if(!a){l("cannot call methods on masonry prior to initialization; attempted to call method '"+b+"'");return}if(!h.isFunction(a[b])||b.charAt(0)==="_"){l("no such method '"+b+"' for masonry instance");return}a[b].apply(a,d)})}else{this.each(function(){var a=h.data(this,"masonry");a?(a.option(b||{}),a._init()):h.data(this,"masonry",new h.Mason(b,this))})}return this}})(window,jQuery);$(function(){var a=$("#ccl_footer");var b=a.find(".lists ul:lt(6)"),c=a.find(".lists ul:gt(5)");ccl_footer.equalizeHeights(b);ccl_footer.equalizeHeights(c);ccl_footer.initMasonry(a);$(window).load(function(){ccl_footer.lazyloadFacebookLike()})});var ccl_footer={initMasonry:function(a){a.find(".lists").masonry({itemSelector:"ul"})},lazyloadFacebookLike:function(){var a='<iframe src="'+location.protocol+'//www.facebook.com/plugins/like.php?href=http%3A%2F%2Fwww.carnival.com&amp;send=false&amp;layout=standard&amp;width=49&amp;show_faces=false&amp;action=like&amp;colorscheme=light&amp;font&amp;height=24" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:49px; height:24px;" allowTransparency="true"></iframe>';$("#ccl_footer_fb-like").html(a)},lazyloadShareThis:function(){if(typeof stLight=="undefined"){$.ajax({url:"http://w.sharethis.com/button/buttons.js",dataType:"script",success:function(){stLight.options({publisher:"6ebc3ce6-96d5-4292-854b-6269ba9936a7"})},cache:true})}},equalizeHeights:function(a){var b=0;a.each(function(){if($(this).height()>b){b=$(this).height()}});a.css("height",b+"px")}};(function($){$.fn.jCarouselLite=function(o){o=$.extend({btnPrev:null,btnNext:null,btnGo:null,mouseWheel:false,auto:null,speed:200,easing:null,vertical:false,circular:true,visible:3,start:0,scroll:1,beforeStart:null,afterEnd:null},o||{});return this.each(function(){var b=false,animCss=o.vertical?"top":"left",sizeCss=o.vertical?"height":"width";var c=$(this),ul=$("ul",c),tLi=$("li",ul),tl=tLi.size(),v=o.visible;if(o.circular){ul.prepend(tLi.slice(tl-v-1+1).clone()).append(tLi.slice(0,v).clone());o.start+=v}var f=$("li",ul),itemLength=f.size(),curr=o.start;c.css("visibility","visible");f.css({overflow:"hidden",float:o.vertical?"none":"left"});ul.css({margin:"0",padding:"0",position:"relative","list-style-type":"none","z-index":"1"});c.css({overflow:"hidden",position:"relative","z-index":"2",left:"0px"});var g=o.vertical?height(f):width(f);var h=g*itemLength;var j=g*v;f.css({width:f.width(),height:f.height()});ul.css(sizeCss,h+"px").css(animCss,-(curr*g));c.css(sizeCss,j+"px");if(o.btnPrev)$(o.btnPrev).click(function(){return go(curr-o.scroll)});if(o.btnNext)$(o.btnNext).click(function(){return go(curr+o.scroll)});if(o.btnGo)$.each(o.btnGo,function(i,a){$(a).click(function(){return go(o.circular?o.visible+i:i)})});if(o.mouseWheel&&c.mousewheel)c.mousewheel(function(e,d){return d>0?go(curr-o.scroll):go(curr+o.scroll)});if(o.auto)setInterval(function(){go(curr+o.scroll)},o.auto+o.speed);function vis(){return f.slice(curr).slice(0,v)};function go(a){if(!b){if(o.beforeStart)o.beforeStart.call(this,vis());if(o.circular){if(a<=o.start-v-1){ul.css(animCss,-((itemLength-(v*2))*g)+"px");curr=a==o.start-v-1?itemLength-(v*2)-1:itemLength-(v*2)-o.scroll}else if(a>=itemLength-v+1){ul.css(animCss,-((v)*g)+"px");curr=a==itemLength-v+1?v+1:v+o.scroll}else curr=a}else{if(a<0||a>itemLength-v)return;else curr=a}b=true;ul.animate(animCss=="left"?{left:-(curr*g)}:{top:-(curr*g)},o.speed,o.easing,function(){if(o.afterEnd)o.afterEnd.call(this,vis());b=false});if(!o.circular){$(o.btnPrev+","+o.btnNext).removeClass("disabled");$((curr-o.scroll<0&&o.btnPrev)||(curr+o.scroll>itemLength-v&&o.btnNext)||[]).addClass("disabled")}}return false}})};function css(a,b){return parseInt($.css(a[0],b))||0};function width(a){return a[0].offsetWidth+css(a,'marginLeft')+css(a,'marginRight')};function height(a){return a[0].offsetHeight+css(a,'marginTop')+css(a,'marginBottom')}})(jQuery);var tb2_pathToImage="/cms/fun/promo_content/home/ln_surveys/signup-lightbox/img/loadingAnimation.gif";
/*!!!!!!!!!!!!!!!! edit below this line at your own risk !!!!!!!!!!!!!!!!!!!!!!!*/
$(document).ready(function(){tb2_init("a.thickbox2, area.thickbox2, input.thickbox2");imgLoader=new Image();imgLoader.src=tb2_pathToImage});function tb2_init(a){$(a).click(function(){var d=this.title||this.name||null;var b=this.href||this.alt;var c=this.rel||false;tb2_show(d,b,c);this.blur();return false})}function tb2_show(b,h,d){try{if(typeof document.body.style.maxHeight==="undefined"){$("body","html").css({height:"100%",width:"100%"});$("html").css("overflow","hidden");if(document.getElementById("TB2_HideSelect")===null){$("body").append("<iframe allowtransparency='true' width='1000' height='1000' scrolling='no' id='TB2_HideSelect'></iframe><div id='TB2_overlay'></div><div id='TB2_window'></div>")}}else{if(document.getElementById("TB2_overlay")===null){$("body").append("<div id='TB2_overlay'></div><div id='TB2_window'></div>")}}if(tb2_detectMacXFF()){$("#TB2_overlay").addClass("TB2_overlayMacFFBGHack")}else{$("#TB2_overlay").addClass("TB2_overlayBG")}if(b===null){b=""}$("body").append("<div id='TB2_load'><img src='"+imgLoader.src+"' /></div>");$("#TB2_load").show();var a;if(h.indexOf("?")!==-1){a=h.substr(0,h.indexOf("?"))}else{a=h}var i=/\.jpg$|\.jpeg$|\.png$|\.gif$|\.bmp$/;var j=a.toLowerCase().match(i);if(j==".jpg"||j==".jpeg"||j==".png"||j==".gif"||j==".bmp"){TB2_PrevCaption="";TB2_PrevURL="";TB2_PrevHTML="";TB2_NextCaption="";TB2_NextURL="";TB2_NextHTML="";TB2_imageCount="";TB2_FoundURL=false;if(d){TB2_TempArray=$("a[@rel="+d+"]").get();for(TB2_Counter=0;((TB2_Counter<TB2_TempArray.length)&&(TB2_NextHTML===""));TB2_Counter++){var k=TB2_TempArray[TB2_Counter].href.toLowerCase().match(i);if(!(TB2_TempArray[TB2_Counter].href==h)){if(TB2_FoundURL){TB2_NextCaption=TB2_TempArray[TB2_Counter].title;TB2_NextURL=TB2_TempArray[TB2_Counter].href;TB2_NextHTML="<span id='TB2_next'>??<a href='#'>Next ></a></span>"}else{TB2_PrevCaption=TB2_TempArray[TB2_Counter].title;TB2_PrevURL=TB2_TempArray[TB2_Counter].href;TB2_PrevHTML="<span id='TB2_prev'>??<a href='#'>< Prev</a></span>"}}else{TB2_FoundURL=true;TB2_imageCount="Image "+(TB2_Counter+1)+" of "+(TB2_TempArray.length)}}}imgPreloader=new Image();imgPreloader.onload=function(){imgPreloader.onload=null;var o=tb2_getPageSize();var p=o[0]-150;var q=o[1]-150;var n=imgPreloader.width;var m=imgPreloader.height;if(n>p){m=m*(p/n);n=p;if(m>q){n=n*(q/m);m=q}}else{if(m>q){n=n*(q/m);m=q;if(n>p){m=m*(p/n);n=p}}}TB2_WIDTH=n+30;TB2_HEIGHT=m+60;$("#TB2_window").append("<a href='' id='TB2_ImageOff' title='Close'><img id='TB2_Image' src='../../continue-lightbox/js/"+h+"' width='"+n+"' height='"+m+"' alt='"+b+"'/></a><div id='TB2_caption'>"+b+"<div id='TB2_secondLine'>"+TB2_imageCount+TB2_PrevHTML+TB2_NextHTML+"</div></div><div id='TB2_closeWindow'><a href='#' id='TB2_closeWindowButton' title='Close'>close</a> or Esc Key</div>");$("#TB2_closeWindowButton").click(tb2_remove);if(!(TB2_PrevHTML==="")){function l(){if($(document).unbind("click",l)){$(document).unbind("click",l)}$("#TB2_window").remove();$("body").append("<div id='TB2_window'></div>");tb2_show(TB2_PrevCaption,TB2_PrevURL,d);return false}$("#TB2_prev").click(l)}if(!(TB2_NextHTML==="")){function e(){$("#TB2_window").remove();$("body").append("<div id='TB2_window'></div>");tb2_show(TB2_NextCaption,TB2_NextURL,d);return false}$("#TB2_next").click(e)}document.onkeydown=function(r){if(r==null){keycode=event.keyCode}else{keycode=r.which}if(keycode==27){tb2_remove()}else{if(keycode==190){if(!(TB2_NextHTML=="")){document.onkeydown="";e()}}else{if(keycode==188){if(!(TB2_PrevHTML=="")){document.onkeydown="";l()}}}}};tb2_position();$("#TB2_load").remove();$("#TB2_ImageOff").click(tb2_remove);$("#TB2_window").css({display:"block"})};imgPreloader.src=h}else{var g=h.replace(/^[^\?]+\??/,"");var f=tb2_parseQuery(g);TB2_WIDTH=(f.width*1)+30||630;TB2_HEIGHT=(f.height*1)+40||440;ajaxContentW=TB2_WIDTH-30;ajaxContentH=TB2_HEIGHT-45;if(h.indexOf("TB2_iframe")!=-1){urlNoQuery=h.split("TB2_");$("#TB2_iframeContent").remove();if(f.modal!="true"){$("#TB2_window").append("<div id='TB2_title'><div id='TB2_ajaxWindowTitle'>"+b+"</div><div id='TB2_closeAjaxWindow'><a href='#' id='TB2_closeWindowButton' title='Close'>close</a> or Esc Key</div></div><iframe allowtransparency='true' scrolling='no' frameborder='0' hspace='0' src='"+urlNoQuery[0]+"' id='TB2_iframeContent' name='TB2_iframeContent"+Math.round(Math.random()*1000)+"' onload='tb2_showIframe()' style='width:"+(ajaxContentW+29)+"px;height:"+(ajaxContentH+17)+"px;' > </iframe>")}else{$("#TB2_overlay").unbind();$("#TB2_window").append("<iframe allowtransparency='true' scrolling='no' frameborder='0' hspace='0' src='"+urlNoQuery[0]+"' id='TB2_iframeContent' name='TB2_iframeContent"+Math.round(Math.random()*1000)+"' onload='tb2_showIframe()' style='width:"+(ajaxContentW+29)+"px;height:"+(ajaxContentH+17)+"px;'> </iframe>")}}else{if($("#TB2_window").css("display")!="block"){if(f.modal!="true"){$("#TB2_window").append("<div id='TB2_title'><div id='TB2_ajaxWindowTitle'>"+b+"</div><div id='TB2_closeAjaxWindow'><a href='#' id='TB2_closeWindowButton'>close</a> or Esc Key</div></div><div id='TB2_ajaxContent' style='width:"+ajaxContentW+"px;height:"+ajaxContentH+"px'></div>")}else{$("#TB2_overlay").unbind();$("#TB2_window").append("<div id='TB2_ajaxContent' class='TB2_modal' style='width:"+ajaxContentW+"px;height:"+ajaxContentH+"px;'></div>")}}else{$("#TB2_ajaxContent")[0].style.width=ajaxContentW+"px";$("#TB2_ajaxContent")[0].style.height=ajaxContentH+"px";$("#TB2_ajaxContent")[0].scrollTop=0;$("#TB2_ajaxWindowTitle").html(b)}}$("#TB2_closeWindowButton").click(tb2_remove);if(h.indexOf("TB2_inline")!=-1){$("#TB2_ajaxContent").append($("#"+f.inlineId).children());$("#TB2_window").unload(function(){$("#"+f.inlineId).append($("#TB2_ajaxContent").children())});tb2_position();$("#TB2_load").remove();$("#TB2_window").css({display:"block"})}else{if(h.indexOf("TB2_iframe")!=-1){tb2_position();if($.browser.safari){$("#TB2_load").remove();$("#TB2_window").css({display:"block"})}}else{$("#TB2_ajaxContent").load(h+="&random="+(new Date().getTime()),function(){tb2_position();$("#TB2_load").remove();tb2_init("#TB2_ajaxContent a.thickbox2");$("#TB2_window").css({display:"block"})})}}}if(!f.modal){document.onkeyup=function(l){if(l==null){keycode=event.keyCode}else{keycode=l.which}if(keycode==27){tb2_remove()}}}}catch(c){}}function tb2_showIframe(){$("#TB2_load").remove();$("#TB2_window").css({display:"block"})}function tb2_remove(){$("#TB2_imageOff").unbind("click");$("#TB2_closeWindowButton").unbind("click");$("#TB2_window").fadeOut("fast",function(){$("#TB2_window,#TB2_overlay,#TB2_HideSelect").trigger("unload").unbind().remove()});$("#TB2_load").remove();if(typeof document.body.style.maxHeight=="undefined"){$("body","html").css({height:"auto",width:"auto"});$("html").css("overflow","")}document.onkeydown="";document.onkeyup="";return false}function tb2_position(){$("#TB2_window").css({top:$(window).scrollTop()+"px",marginLeft:"-"+parseInt((TB2_WIDTH/2),10)+"px",width:TB2_WIDTH+"px"});if(!(jQuery.browser.msie&&jQuery.browser.version<7)){$("#TB2_window").css({marginTop:0})}else{$("#TB2_window").css({top:parseInt((TB2_HEIGHT/2),10)+"px"})}}function tb2_parseQuery(f){var e={};if(!f){return e}var d=f.split(/[;&]/);for(var a=0;a<d.length;a++){var c=d[a].split("=");if(!c||c.length!=2){continue}var b=unescape(c[0]);var g=unescape(c[1]);g=g.replace(/\+/g," ");e[b]=g}return e}function tb2_getPageSize(){var a=document.documentElement;var c=window.innerWidth||self.innerWidth||(a&&a.clientWidth)||document.body.clientWidth;var b=window.innerHeight||self.innerHeight||(a&&a.clientHeight)||document.body.clientHeight;arrayPageSize=[c,b];return arrayPageSize}function tb2_detectMacXFF(){var a=navigator.userAgent.toLowerCase();if(a.indexOf("mac")!=-1&&a.indexOf("firefox")!=-1){return true}};/*
 * jQuery Cycle Plugin (with Transition Definitions)
 * Examples and documentation at: http://jquery.malsup.com/cycle/
 * Copyright (c) 2007-2010 M. Alsup
 * Version: 2.9999.4 (29-MAR-2012)
 * Dual licensed under the MIT and GPL licenses.
 * http://jquery.malsup.com/license.html
 * Requires: jQuery v1.3.2 or later
 */
(function(a,q){var r="2.9999.4";if(a.support===q){a.support={opacity:!(a.browser.msie)}}function f(t){if(a.fn.cycle.debug){l(t)}}function l(){if(window.console&&console.log){console.log("[cycle] "+Array.prototype.join.call(arguments," "))}}a.expr[":"].paused=function(s){return s.cyclePause};a.fn.cycle=function(u,s){var t={s:this.selector,c:this.context};if(this.length===0&&u!="stop"){if(!a.isReady&&t.s){l("DOM not ready, queuing slideshow");a(function(){a(t.s,t.c).cycle(u,s)});return this}l("terminating; zero elements found by selector"+(a.isReady?"":" (DOM not ready)"));return this}return this.each(function(){var y=k(this,u,s);if(y===false){return}y.updateActivePagerLink=y.updateActivePagerLink||a.fn.cycle.updateActivePagerLink;if(this.cycleTimeout){clearTimeout(this.cycleTimeout)}this.cycleTimeout=this.cyclePause=0;var v=a(this);var w=y.slideExpr?a(y.slideExpr,this):v.children();var x=w.get();if(x.length<2){l("terminating; too few slides: "+x.length);return}var z=c(v,w,x,y,t);if(z===false){return}var A=z.continuous?10:i(x[z.currSlide],x[z.nextSlide],z,!z.backwards);if(A){A+=(z.delay||0);if(A<10){A=10}f("first timeout: "+A);this.cycleTimeout=setTimeout(function(){j(x,z,0,!y.backwards)},A)}})};function p(t,s,u){var v=a(t).data("cycle.opts");var w=!!t.cyclePause;if(w&&v.paused){v.paused(t,v,s,u)}else{if(!w&&v.resumed){v.resumed(t,v,s,u)}}}function k(u,w,s){if(u.cycleStop===q){u.cycleStop=0}if(w===q||w===null){w={}}if(w.constructor==String){switch(w){case"destroy":case"stop":var x=a(u).data("cycle.opts");if(!x){return false}u.cycleStop++;if(u.cycleTimeout){clearTimeout(u.cycleTimeout)}u.cycleTimeout=0;if(x.elements){a(x.elements).stop()}a(u).removeData("cycle.opts");if(w=="destroy"){g(u,x)}return false;case"toggle":u.cyclePause=(u.cyclePause===1)?0:1;t(u.cyclePause,s,u);p(u);return false;case"pause":u.cyclePause=1;p(u);return false;case"resume":u.cyclePause=0;t(false,s,u);p(u);return false;case"prev":case"next":x=a(u).data("cycle.opts");if(!x){l('options not found, "prev/next" ignored');return false}a.fn.cycle[w](x);return false;default:w={fx:w}}return w}else{if(w.constructor==Number){var v=w;w=a(u).data("cycle.opts");if(!w){l("options not found, can not advance slide");return false}if(v<0||v>=w.elements.length){l("invalid slide index: "+v);return false}w.nextSlide=v;if(u.cycleTimeout){clearTimeout(u.cycleTimeout);u.cycleTimeout=0}if(typeof s=="string"){w.oneTimeFx=s}j(w.elements,w,1,v>=w.currSlide);return false}}return w;function t(A,y,z){if(!A&&y===true){var B=a(z).data("cycle.opts");if(!B){l("options not found, can not resume");return false}if(z.cycleTimeout){clearTimeout(z.cycleTimeout);z.cycleTimeout=0}j(B.elements,B,1,!B.backwards)}}}function m(s,t){if(!a.support.opacity&&t.cleartype&&s.style.filter){try{s.style.removeAttribute("filter")}catch(u){}}}function g(s,t){if(t.next){a(t.next).unbind(t.prevNextEvent)}if(t.prev){a(t.prev).unbind(t.prevNextEvent)}if(t.pager||t.pagerAnchorBuilder){a.each(t.pagerAnchors||[],function(){this.unbind().remove()})}t.pagerAnchors=null;a(s).unbind("mouseenter.cycle mouseleave.cycle");if(t.destroy){t.destroy(t)}}function c(s,u,B,L,K){var Q;var M=a.extend({},a.fn.cycle.defaults,L||{},a.metadata?s.metadata():a.meta?s.data():{});var J=a.isFunction(s.data)?s.data(M.metaAttr):null;if(J){M=a.extend(M,J)}if(M.autostop){M.countdown=M.autostopCount||B.length}var y=s[0];s.data("cycle.opts",M);M.$cont=s;M.stopCount=y.cycleStop;M.elements=B;M.before=M.before?[M.before]:[];M.after=M.after?[M.after]:[];if(!a.support.opacity&&M.cleartype){M.after.push(function(){m(this,M)})}if(M.continuous){M.after.push(function(){j(B,M,0,!M.backwards)})}n(M);if(!a.support.opacity&&M.cleartype&&!M.cleartypeNoBg){e(u)}if(s.css("position")=="static"){s.css("position","relative")}if(M.width){s.width(M.width)}if(M.height&&M.height!="auto"){s.height(M.height)}if(M.startingSlide!==q){M.startingSlide=parseInt(M.startingSlide,10);if(M.startingSlide>=B.length||M.startSlide<0){M.startingSlide=0}else{Q=true}}else{if(M.backwards){M.startingSlide=B.length-1}else{M.startingSlide=0}}if(M.random){M.randomMap=[];for(var E=0;E<B.length;E++){M.randomMap.push(E)}M.randomMap.sort(function(w,S){return Math.random()-0.5});if(Q){for(var x=0;x<B.length;x++){if(M.startingSlide==M.randomMap[x]){M.randomIndex=x}}}else{M.randomIndex=1;M.startingSlide=M.randomMap[1]}}else{if(M.startingSlide>=B.length){M.startingSlide=0}}M.currSlide=M.startingSlide||0;var C=M.startingSlide;u.css({position:"absolute",top:0,left:0}).hide().each(function(w){var S;if(M.backwards){S=C?w<=C?B.length+(w-C):C-w:B.length-w}else{S=C?w>=C?B.length-(w-C):C-w:B.length-w}a(this).css("z-index",S)});a(B[C]).css("opacity",1).show();m(B[C],M);if(M.fit){if(!M.aspect){if(M.width){u.width(M.width)}if(M.height&&M.height!="auto"){u.height(M.height)}}else{u.each(function(){var w=a(this);var S=(M.aspect===true)?w.width()/w.height():M.aspect;if(M.width&&w.width()!=M.width){w.width(M.width);w.height(M.width/S)}if(M.height&&w.height()<M.height){w.height(M.height);w.width(M.height*S)}})}}if(M.center&&((!M.fit)||M.aspect)){u.each(function(){var w=a(this);w.css({"margin-left":M.width?((M.width-w.width())/2)+"px":0,"margin-top":M.height?((M.height-w.height())/2)+"px":0})})}if(M.center&&!M.fit&&!M.slideResize){u.each(function(){var w=a(this);w.css({"margin-left":M.width?((M.width-w.width())/2)+"px":0,"margin-top":M.height?((M.height-w.height())/2)+"px":0})})}var P=M.containerResize&&!s.innerHeight();if(P){var I=0,H=0;for(var G=0;G<B.length;G++){var t=a(B[G]),z=t[0],R=t.outerWidth(),D=t.outerHeight();if(!R){R=z.offsetWidth||z.width||t.attr("width")}if(!D){D=z.offsetHeight||z.height||t.attr("height")}I=R>I?R:I;H=D>H?D:H}if(I>0&&H>0){s.css({width:I+"px",height:H+"px"})}}var N=false;if(M.pause){s.bind("mouseenter.cycle",function(){N=true;this.cyclePause++;p(y,true)}).bind("mouseleave.cycle",function(){if(N){this.cyclePause--}p(y,true)})}if(o(M)===false){return false}var O=false;L.requeueAttempts=L.requeueAttempts||0;u.each(function(){var w=a(this);this.cycleH=(M.fit&&M.height)?M.height:(w.height()||this.offsetHeight||this.height||w.attr("height")||0);this.cycleW=(M.fit&&M.width)?M.width:(w.width()||this.offsetWidth||this.width||w.attr("width")||0);if(w.is("img")){var T=(a.browser.msie&&this.cycleW==28&&this.cycleH==30&&!this.complete);var S=(a.browser.mozilla&&this.cycleW==34&&this.cycleH==19&&!this.complete);var U=(a.browser.opera&&((this.cycleW==42&&this.cycleH==19)||(this.cycleW==37&&this.cycleH==17))&&!this.complete);var V=(this.cycleH===0&&this.cycleW===0&&!this.complete);if(T||S||U||V){if(K.s&&M.requeueOnImageNotLoaded&&++L.requeueAttempts<100){l(L.requeueAttempts," - img slide not loaded, requeuing slideshow: ",this.src,this.cycleW,this.cycleH);setTimeout(function(){a(K.s,K.c).cycle(L)},M.requeueTimeout);O=true;return false}else{l("could not determine size of image: "+this.src,this.cycleW,this.cycleH)}}}return true});if(O){return false}M.cssBefore=M.cssBefore||{};M.cssAfter=M.cssAfter||{};M.cssFirst=M.cssFirst||{};M.animIn=M.animIn||{};M.animOut=M.animOut||{};u.not(":eq("+C+")").css(M.cssBefore);a(u[C]).css(M.cssFirst);if(M.timeout){M.timeout=parseInt(M.timeout,10);if(M.speed.constructor==String){M.speed=a.fx.speeds[M.speed]||parseInt(M.speed,10)}if(!M.sync){M.speed=M.speed/2}var v=M.fx=="none"?0:M.fx=="shuffle"?500:250;while((M.timeout-M.speed)<v){M.timeout+=M.speed}}if(M.easing){M.easeIn=M.easeOut=M.easing}if(!M.speedIn){M.speedIn=M.speed}if(!M.speedOut){M.speedOut=M.speed}M.slideCount=B.length;M.currSlide=M.lastSlide=C;if(M.random){if(++M.randomIndex==B.length){M.randomIndex=0}M.nextSlide=M.randomMap[M.randomIndex]}else{if(M.backwards){M.nextSlide=M.startingSlide===0?(B.length-1):M.startingSlide-1}else{M.nextSlide=M.startingSlide>=(B.length-1)?0:M.startingSlide+1}}if(!M.multiFx){var F=a.fn.cycle.transitions[M.fx];if(a.isFunction(F)){F(s,u,M)}else{if(M.fx!="custom"&&!M.multiFx){l("unknown transition: "+M.fx,"; slideshow terminating");return false}}}var A=u[C];if(!M.skipInitializationCallbacks){if(M.before.length){M.before[0].apply(A,[A,A,M,true])}if(M.after.length){M.after[0].apply(A,[A,A,M,true])}}if(M.next){a(M.next).bind(M.prevNextEvent,function(){return b(M,1)})}if(M.prev){a(M.prev).bind(M.prevNextEvent,function(){return b(M,0)})}if(M.pager||M.pagerAnchorBuilder){d(B,M)}h(M,B);return M}function n(s){s.original={before:[],after:[]};s.original.cssBefore=a.extend({},s.cssBefore);s.original.cssAfter=a.extend({},s.cssAfter);s.original.animIn=a.extend({},s.animIn);s.original.animOut=a.extend({},s.animOut);a.each(s.before,function(){s.original.before.push(this)});a.each(s.after,function(){s.original.after.push(this)})}function o(u){var t,y,z=a.fn.cycle.transitions;if(u.fx.indexOf(",")>0){u.multiFx=true;u.fxs=u.fx.replace(/\s*/g,"").split(",");for(t=0;t<u.fxs.length;t++){var s=u.fxs[t];y=z[s];if(!y||!z.hasOwnProperty(s)||!a.isFunction(y)){l("discarding unknown transition: ",s);u.fxs.splice(t,1);t--}}if(!u.fxs.length){l("No valid transitions named; slideshow terminating.");return false}}else{if(u.fx=="all"){u.multiFx=true;u.fxs=[];for(var v in z){if(z.hasOwnProperty(v)){y=z[v];if(z.hasOwnProperty(v)&&a.isFunction(y)){u.fxs.push(v)}}}}}if(u.multiFx&&u.randomizeEffects){var w=Math.floor(Math.random()*20)+30;for(t=0;t<w;t++){var x=Math.floor(Math.random()*u.fxs.length);u.fxs.push(u.fxs.splice(x,1)[0])}f("randomized fx sequence: ",u.fxs)}return true}function h(t,s){t.addSlide=function(v,w){var u=a(v),x=u[0];if(!t.autostopCount){t.countdown++}s[w?"unshift":"push"](x);if(t.els){t.els[w?"unshift":"push"](x)}t.slideCount=s.length;if(t.random){t.randomMap.push(t.slideCount-1);t.randomMap.sort(function(y,z){return Math.random()-0.5})}u.css("position","absolute");u[w?"prependTo":"appendTo"](t.$cont);if(w){t.currSlide++;t.nextSlide++}if(!a.support.opacity&&t.cleartype&&!t.cleartypeNoBg){e(u)}if(t.fit&&t.width){u.width(t.width)}if(t.fit&&t.height&&t.height!="auto"){u.height(t.height)}x.cycleH=(t.fit&&t.height)?t.height:u.height();x.cycleW=(t.fit&&t.width)?t.width:u.width();u.css(t.cssBefore);if(t.pager||t.pagerAnchorBuilder){a.fn.cycle.createPagerAnchor(s.length-1,x,a(t.pager),s,t)}if(a.isFunction(t.onAddSlide)){t.onAddSlide(u)}else{u.hide()}}}a.fn.cycle.resetState=function(u,s){s=s||u.fx;u.before=[];u.after=[];u.cssBefore=a.extend({},u.original.cssBefore);u.cssAfter=a.extend({},u.original.cssAfter);u.animIn=a.extend({},u.original.animIn);u.animOut=a.extend({},u.original.animOut);u.fxFn=null;a.each(u.original.before,function(){u.before.push(this)});a.each(u.original.after,function(){u.after.push(this)});var t=a.fn.cycle.transitions[s];if(a.isFunction(t)){t(u.$cont,a(u.elements),u)}};function j(v,A,y,w){var B=A.$cont[0],u=v[A.currSlide],z=v[A.nextSlide];if(y&&A.busy&&A.manualTrump){f("manualTrump in go(), stopping active transition");a(v).stop(true,true);A.busy=0;clearTimeout(B.cycleTimeout)}if(A.busy){f("transition active, ignoring new tx request");return}if(B.cycleStop!=A.stopCount||B.cycleTimeout===0&&!y){return}if(!y&&!B.cyclePause&&!A.bounce&&((A.autostop&&(--A.countdown<=0))||(A.nowrap&&!A.random&&A.nextSlide<A.currSlide))){if(A.end){A.end(A)}return}var t=false;if((y||!B.cyclePause)&&(A.nextSlide!=A.currSlide)){t=true;var x=A.fx;u.cycleH=u.cycleH||a(u).height();u.cycleW=u.cycleW||a(u).width();z.cycleH=z.cycleH||a(z).height();z.cycleW=z.cycleW||a(z).width();if(A.multiFx){if(w&&(A.lastFx===q||++A.lastFx>=A.fxs.length)){A.lastFx=0}else{if(!w&&(A.lastFx===q||--A.lastFx<0)){A.lastFx=A.fxs.length-1}}x=A.fxs[A.lastFx]}if(A.oneTimeFx){x=A.oneTimeFx;A.oneTimeFx=null}a.fn.cycle.resetState(A,x);if(A.before.length){a.each(A.before,function(E,F){if(B.cycleStop!=A.stopCount){return}F.apply(z,[u,z,A,w])})}var s=function(){A.busy=0;a.each(A.after,function(E,F){if(B.cycleStop!=A.stopCount){return}F.apply(z,[u,z,A,w])});if(!B.cycleStop){C()}};f("tx firing("+x+"); currSlide: "+A.currSlide+"; nextSlide: "+A.nextSlide);A.busy=1;if(A.fxFn){A.fxFn(u,z,A,s,w,y&&A.fastOnEvent)}else{if(a.isFunction(a.fn.cycle[A.fx])){a.fn.cycle[A.fx](u,z,A,s,w,y&&A.fastOnEvent)}else{a.fn.cycle.custom(u,z,A,s,w,y&&A.fastOnEvent)}}}else{C()}if(t||A.nextSlide==A.currSlide){var D;A.lastSlide=A.currSlide;if(A.random){A.currSlide=A.nextSlide;if(++A.randomIndex==v.length){A.randomIndex=0;A.randomMap.sort(function(E,F){return Math.random()-0.5})}A.nextSlide=A.randomMap[A.randomIndex];if(A.nextSlide==A.currSlide){A.nextSlide=(A.currSlide==A.slideCount-1)?0:A.currSlide+1}}else{if(A.backwards){D=(A.nextSlide-1)<0;if(D&&A.bounce){A.backwards=!A.backwards;A.nextSlide=1;A.currSlide=0}else{A.nextSlide=D?(v.length-1):A.nextSlide-1;A.currSlide=D?0:A.nextSlide+1}}else{D=(A.nextSlide+1)==v.length;if(D&&A.bounce){A.backwards=!A.backwards;A.nextSlide=v.length-2;A.currSlide=v.length-1}else{A.nextSlide=D?0:A.nextSlide+1;A.currSlide=D?v.length-1:A.nextSlide-1}}}}if(t&&A.pager){A.updateActivePagerLink(A.pager,A.currSlide,A.activePagerClass)}function C(){var E=0,F=A.timeout;if(A.timeout&&!A.continuous){E=i(v[A.currSlide],v[A.nextSlide],A,w);if(A.fx=="shuffle"){E-=A.speedOut}}else{if(A.continuous&&B.cyclePause){E=10}}if(E>0){B.cycleTimeout=setTimeout(function(){j(v,A,0,!A.backwards)},E)}}}a.fn.cycle.updateActivePagerLink=function(u,t,s){a(u).each(function(){a(this).children().removeClass(s).eq(t).addClass(s)})};function i(s,v,w,u){if(w.timeoutFn){var x=w.timeoutFn.call(s,s,v,w,u);while(w.fx!="none"&&(x-w.speed)<250){x+=w.speed}f("calculated timeout: "+x+"; speed: "+w.speed);if(x!==false){return x}}return w.timeout}a.fn.cycle.next=function(s){b(s,1)};a.fn.cycle.prev=function(s){b(s,0)};function b(v,u){var y=u?1:-1;var t=v.elements;var w=v.$cont[0],x=w.cycleTimeout;if(x){clearTimeout(x);w.cycleTimeout=0}if(v.random&&y<0){v.randomIndex--;if(--v.randomIndex==-2){v.randomIndex=t.length-2}else{if(v.randomIndex==-1){v.randomIndex=t.length-1}}v.nextSlide=v.randomMap[v.randomIndex]}else{if(v.random){v.nextSlide=v.randomMap[v.randomIndex]}else{v.nextSlide=v.currSlide+y;if(v.nextSlide<0){if(v.nowrap){return false}v.nextSlide=t.length-1}else{if(v.nextSlide>=t.length){if(v.nowrap){return false}v.nextSlide=0}}}}var s=v.onPrevNextEvent||v.prevNextClick;if(a.isFunction(s)){s(y>0,v.nextSlide,t[v.nextSlide])}j(t,v,1,u);return false}function d(t,u){var s=a(u.pager);a.each(t,function(v,w){a.fn.cycle.createPagerAnchor(v,w,s,t,u)});u.updateActivePagerLink(u.pager,u.startingSlide,u.activePagerClass)}a.fn.cycle.createPagerAnchor=function(z,x,t,y,A){var u;if(a.isFunction(A.pagerAnchorBuilder)){u=A.pagerAnchorBuilder(z,x);f("pagerAnchorBuilder("+z+", el) returned: "+u)}else{u='<a href="#">'+(z+1)+"</a>"}if(!u){return}var s=a(u);if(s.parents("body").length===0){var v=[];if(t.length>1){t.each(function(){var D=s.clone(true);a(this).append(D);v.push(D[0])});s=a(v)}else{s.appendTo(t)}}A.pagerAnchors=A.pagerAnchors||[];A.pagerAnchors.push(s);var B=function(E){E.preventDefault();A.nextSlide=z;var F=A.$cont[0],G=F.cycleTimeout;if(G){clearTimeout(G);F.cycleTimeout=0}var D=A.onPagerEvent||A.pagerClick;if(a.isFunction(D)){D(A.nextSlide,y[A.nextSlide])}j(y,A,1,A.currSlide<z)};if(/mouseenter|mouseover/i.test(A.pagerEvent)){s.hover(B,function(){})}else{s.bind(A.pagerEvent,B)}if(!/^click/.test(A.pagerEvent)&&!A.allowPagerClickBubble){s.bind("click.cycle",function(){return false})}var w=A.$cont[0];var C=false;if(A.pauseOnPagerHover){s.hover(function(){C=true;w.cyclePause++;p(w,true,true)},function(){if(C){w.cyclePause--}p(w,true,true)})}};a.fn.cycle.hopsFromLast=function(w,t){var u,v=w.lastSlide,s=w.currSlide;if(t){u=s>v?s-v:w.slideCount-v}else{u=s<v?v-s:v+w.slideCount-s}return u};function e(s){f("applying clearType background-color hack");function u(v){v=parseInt(v,10).toString(16);return v.length<2?"0"+v:v}function t(w){for(;w&&w.nodeName.toLowerCase()!="html";w=w.parentNode){var y=a.css(w,"background-color");if(y&&y.indexOf("rgb")>=0){var x=y.match(/\d+/g);return"#"+u(x[0])+u(x[1])+u(x[2])}if(y&&y!="transparent"){return y}}return"#ffffff"}s.each(function(){a(this).css("background-color",t(this))})}a.fn.cycle.commonReset=function(s,u,v,y,t,x){a(v.elements).not(s).hide();if(typeof v.cssBefore.opacity=="undefined"){v.cssBefore.opacity=1}v.cssBefore.display="block";if(v.slideResize&&y!==false&&u.cycleW>0){v.cssBefore.width=u.cycleW}if(v.slideResize&&t!==false&&u.cycleH>0){v.cssBefore.height=u.cycleH}v.cssAfter=v.cssAfter||{};v.cssAfter.display="none";a(s).css("zIndex",v.slideCount+(x===true?1:0));a(u).css("zIndex",v.slideCount+(x===true?0:1))};a.fn.cycle.custom=function(v,A,B,u,z,E){var s=a(v),t=a(A);var C=B.speedIn,D=B.speedOut,w=B.easeIn,x=B.easeOut;t.css(B.cssBefore);if(E){if(typeof E=="number"){C=D=E}else{C=D=1}w=x=null}var y=function(){t.animate(B.animIn,C,w,function(){u()})};s.animate(B.animOut,D,x,function(){s.css(B.cssAfter);if(!B.sync){y()}});if(B.sync){y()}};a.fn.cycle.transitions={fade:function(s,t,u){t.not(":eq("+u.currSlide+")").css("opacity",0);u.before.push(function(v,w,x){a.fn.cycle.commonReset(v,w,x);x.cssBefore.opacity=0});u.animIn={opacity:1};u.animOut={opacity:0};u.cssBefore={top:0,left:0}}};a.fn.cycle.ver=function(){return r};a.fn.cycle.defaults={activePagerClass:"activeSlide",after:null,allowPagerClickBubble:false,animIn:null,animOut:null,aspect:false,autostop:0,autostopCount:0,backwards:false,before:null,center:null,cleartype:!a.support.opacity,cleartypeNoBg:false,containerResize:1,continuous:0,cssAfter:null,cssBefore:null,delay:0,easeIn:null,easeOut:null,easing:null,end:null,fastOnEvent:0,fit:0,fx:"fade",fxFn:null,height:"auto",manualTrump:true,metaAttr:"cycle",next:null,nowrap:0,onPagerEvent:null,onPrevNextEvent:null,pager:null,pagerAnchorBuilder:null,pagerEvent:"click.cycle",pause:0,pauseOnPagerHover:0,prev:null,prevNextEvent:"click.cycle",random:0,randomizeEffects:1,requeueOnImageNotLoaded:true,requeueTimeout:250,rev:0,shuffle:null,skipInitializationCallbacks:false,slideExpr:null,slideResize:1,speed:1000,speedIn:null,speedOut:null,startingSlide:q,sync:1,timeout:4000,timeoutFn:null,updateActivePagerLink:null,width:null}})(jQuery);
/*
 * jQuery Cycle Plugin Transition Definitions
 * This script is a plugin for the jQuery Cycle Plugin
 * Examples and documentation at: http://malsup.com/jquery/cycle/
 * Copyright (c) 2007-2010 M. Alsup
 * Version:	 2.73
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 */
(function(a){a.fn.cycle.transitions.none=function(b,c,d){d.fxFn=function(f,g,h,e){a(g).show();a(f).hide();e()}};a.fn.cycle.transitions.fadeout=function(b,c,d){c.not(":eq("+d.currSlide+")").css({display:"block",opacity:1});d.before.push(function(e,g,i,k,f,j){a(e).css("zIndex",i.slideCount+(j!==true?1:0));a(g).css("zIndex",i.slideCount+(j!==true?0:1))});d.animIn.opacity=1;d.animOut.opacity=0;d.cssBefore.opacity=1;d.cssBefore.display="block";d.cssAfter.zIndex=0};a.fn.cycle.transitions.scrollUp=function(b,c,e){b.css("overflow","hidden");e.before.push(a.fn.cycle.commonReset);var d=b.height();e.cssBefore.top=d;e.cssBefore.left=0;e.cssFirst.top=0;e.animIn.top=0;e.animOut.top=-d};a.fn.cycle.transitions.scrollDown=function(b,c,e){b.css("overflow","hidden");e.before.push(a.fn.cycle.commonReset);var d=b.height();e.cssFirst.top=0;e.cssBefore.top=-d;e.cssBefore.left=0;e.animIn.top=0;e.animOut.top=d};a.fn.cycle.transitions.scrollLeft=function(b,c,d){b.css("overflow","hidden");d.before.push(a.fn.cycle.commonReset);var e=b.width();d.cssFirst.left=0;d.cssBefore.left=e;d.cssBefore.top=0;d.animIn.left=0;d.animOut.left=0-e};a.fn.cycle.transitions.scrollRight=function(b,c,d){b.css("overflow","hidden");d.before.push(a.fn.cycle.commonReset);var e=b.width();d.cssFirst.left=0;d.cssBefore.left=-e;d.cssBefore.top=0;d.animIn.left=0;d.animOut.left=e};a.fn.cycle.transitions.scrollHorz=function(b,c,d){b.css("overflow","hidden").width();d.before.push(function(e,g,h,f){if(h.rev){f=!f}a.fn.cycle.commonReset(e,g,h);h.cssBefore.left=f?(g.cycleW-1):(1-g.cycleW);h.animOut.left=f?-e.cycleW:e.cycleW});d.cssFirst.left=0;d.cssBefore.top=0;d.animIn.left=0;d.animOut.top=0};a.fn.cycle.transitions.scrollVert=function(b,c,d){b.css("overflow","hidden");d.before.push(function(e,g,h,f){if(h.rev){f=!f}a.fn.cycle.commonReset(e,g,h);h.cssBefore.top=f?(1-g.cycleH):(g.cycleH-1);h.animOut.top=f?e.cycleH:-e.cycleH});d.cssFirst.top=0;d.cssBefore.left=0;d.animIn.top=0;d.animOut.left=0};a.fn.cycle.transitions.slideX=function(b,c,d){d.before.push(function(e,f,g){a(g.elements).not(e).hide();a.fn.cycle.commonReset(e,f,g,false,true);g.animIn.width=f.cycleW});d.cssBefore.left=0;d.cssBefore.top=0;d.cssBefore.width=0;d.animIn.width="show";d.animOut.width=0};a.fn.cycle.transitions.slideY=function(b,c,d){d.before.push(function(e,f,g){a(g.elements).not(e).hide();a.fn.cycle.commonReset(e,f,g,true,false);g.animIn.height=f.cycleH});d.cssBefore.left=0;d.cssBefore.top=0;d.cssBefore.height=0;d.animIn.height="show";d.animOut.height=0};a.fn.cycle.transitions.shuffle=function(b,c,e){var d,f=b.css("overflow","visible").width();c.css({left:0,top:0});e.before.push(function(g,h,i){a.fn.cycle.commonReset(g,h,i,true,true,true)});if(!e.speedAdjusted){e.speed=e.speed/2;e.speedAdjusted=true}e.random=0;e.shuffle=e.shuffle||{left:-f,top:15};e.els=[];for(d=0;d<c.length;d++){e.els.push(c[d])}for(d=0;d<e.currSlide;d++){e.els.push(e.els.shift())}e.fxFn=function(j,l,m,h,k){if(m.rev){k=!k}var g=k?a(j):a(l);a(l).css(m.cssBefore);var i=m.slideCount;g.animate(m.shuffle,m.speedIn,m.easeIn,function(){var n=a.fn.cycle.hopsFromLast(m,k);for(var p=0;p<n;p++){if(k){m.els.push(m.els.shift())}else{m.els.unshift(m.els.pop())}}if(k){for(var o=0,q=m.els.length;o<q;o++){a(m.els[o]).css("z-index",q-o+i)}}else{var r=a(j).css("z-index");g.css("z-index",parseInt(r,10)+1+i)}g.animate({left:0,top:0},m.speedOut,m.easeOut,function(){a(k?this:j).hide();if(h){h()}})})};a.extend(e.cssBefore,{display:"block",opacity:1,top:0,left:0})};a.fn.cycle.transitions.turnUp=function(b,c,d){d.before.push(function(e,f,g){a.fn.cycle.commonReset(e,f,g,true,false);g.cssBefore.top=f.cycleH;g.animIn.height=f.cycleH;g.animOut.width=f.cycleW});d.cssFirst.top=0;d.cssBefore.left=0;d.cssBefore.height=0;d.animIn.top=0;d.animOut.height=0};a.fn.cycle.transitions.turnDown=function(b,c,d){d.before.push(function(e,f,g){a.fn.cycle.commonReset(e,f,g,true,false);g.animIn.height=f.cycleH;g.animOut.top=e.cycleH});d.cssFirst.top=0;d.cssBefore.left=0;d.cssBefore.top=0;d.cssBefore.height=0;d.animOut.height=0};a.fn.cycle.transitions.turnLeft=function(b,c,d){d.before.push(function(e,f,g){a.fn.cycle.commonReset(e,f,g,false,true);g.cssBefore.left=f.cycleW;g.animIn.width=f.cycleW});d.cssBefore.top=0;d.cssBefore.width=0;d.animIn.left=0;d.animOut.width=0};a.fn.cycle.transitions.turnRight=function(b,c,d){d.before.push(function(e,f,g){a.fn.cycle.commonReset(e,f,g,false,true);g.animIn.width=f.cycleW;g.animOut.left=e.cycleW});a.extend(d.cssBefore,{top:0,left:0,width:0});d.animIn.left=0;d.animOut.width=0};a.fn.cycle.transitions.zoom=function(b,c,d){d.before.push(function(e,f,g){a.fn.cycle.commonReset(e,f,g,false,false,true);g.cssBefore.top=f.cycleH/2;g.cssBefore.left=f.cycleW/2;a.extend(g.animIn,{top:0,left:0,width:f.cycleW,height:f.cycleH});a.extend(g.animOut,{width:0,height:0,top:e.cycleH/2,left:e.cycleW/2})});d.cssFirst.top=0;d.cssFirst.left=0;d.cssBefore.width=0;d.cssBefore.height=0};a.fn.cycle.transitions.fadeZoom=function(b,c,d){d.before.push(function(e,f,g){a.fn.cycle.commonReset(e,f,g,false,false);g.cssBefore.left=f.cycleW/2;g.cssBefore.top=f.cycleH/2;a.extend(g.animIn,{top:0,left:0,width:f.cycleW,height:f.cycleH})});d.cssBefore.width=0;d.cssBefore.height=0;d.animOut.opacity=0};a.fn.cycle.transitions.blindX=function(b,c,d){var e=b.css("overflow","hidden").width();d.before.push(function(f,g,h){a.fn.cycle.commonReset(f,g,h);h.animIn.width=g.cycleW;h.animOut.left=f.cycleW});d.cssBefore.left=e;d.cssBefore.top=0;d.animIn.left=0;d.animOut.left=e};a.fn.cycle.transitions.blindY=function(b,c,e){var d=b.css("overflow","hidden").height();e.before.push(function(f,g,h){a.fn.cycle.commonReset(f,g,h);h.animIn.height=g.cycleH;h.animOut.top=f.cycleH});e.cssBefore.top=d;e.cssBefore.left=0;e.animIn.top=0;e.animOut.top=d};a.fn.cycle.transitions.blindZ=function(b,c,e){var d=b.css("overflow","hidden").height();var f=b.width();e.before.push(function(g,h,i){a.fn.cycle.commonReset(g,h,i);i.animIn.height=h.cycleH;i.animOut.top=g.cycleH});e.cssBefore.top=d;e.cssBefore.left=f;e.animIn.top=0;e.animIn.left=0;e.animOut.top=d;e.animOut.left=f};a.fn.cycle.transitions.growX=function(b,c,d){d.before.push(function(e,f,g){a.fn.cycle.commonReset(e,f,g,false,true);g.cssBefore.left=this.cycleW/2;g.animIn.left=0;g.animIn.width=this.cycleW;g.animOut.left=0});d.cssBefore.top=0;d.cssBefore.width=0};a.fn.cycle.transitions.growY=function(b,c,d){d.before.push(function(e,f,g){a.fn.cycle.commonReset(e,f,g,true,false);g.cssBefore.top=this.cycleH/2;g.animIn.top=0;g.animIn.height=this.cycleH;g.animOut.top=0});d.cssBefore.height=0;d.cssBefore.left=0};a.fn.cycle.transitions.curtainX=function(b,c,d){d.before.push(function(e,f,g){a.fn.cycle.commonReset(e,f,g,false,true,true);g.cssBefore.left=f.cycleW/2;g.animIn.left=0;g.animIn.width=this.cycleW;g.animOut.left=e.cycleW/2;g.animOut.width=0});d.cssBefore.top=0;d.cssBefore.width=0};a.fn.cycle.transitions.curtainY=function(b,c,d){d.before.push(function(e,f,g){a.fn.cycle.commonReset(e,f,g,true,false,true);g.cssBefore.top=f.cycleH/2;g.animIn.top=0;g.animIn.height=f.cycleH;g.animOut.top=e.cycleH/2;g.animOut.height=0});d.cssBefore.height=0;d.cssBefore.left=0};a.fn.cycle.transitions.cover=function(b,c,g){var e=g.direction||"left";var i=b.css("overflow","hidden").width();var f=b.height();g.before.push(function(d,h,j){a.fn.cycle.commonReset(d,h,j);if(e=="right"){j.cssBefore.left=-i}else{if(e=="up"){j.cssBefore.top=f}else{if(e=="down"){j.cssBefore.top=-f}else{j.cssBefore.left=i}}}});g.animIn.left=0;g.animIn.top=0;g.cssBefore.top=0;g.cssBefore.left=0};a.fn.cycle.transitions.uncover=function(b,c,g){var e=g.direction||"left";var i=b.css("overflow","hidden").width();var f=b.height();g.before.push(function(d,h,j){a.fn.cycle.commonReset(d,h,j,true,true,true);if(e=="right"){j.animOut.left=i}else{if(e=="up"){j.animOut.top=-f}else{if(e=="down"){j.animOut.top=f}else{j.animOut.left=-i}}}});g.animIn.left=0;g.animIn.top=0;g.cssBefore.top=0;g.cssBefore.left=0};a.fn.cycle.transitions.toss=function(b,c,e){var f=b.css("overflow","visible").width();var d=b.height();e.before.push(function(g,h,i){a.fn.cycle.commonReset(g,h,i,true,true,true);if(!i.animOut.left&&!i.animOut.top){a.extend(i.animOut,{left:f*2,top:-d/2,opacity:0})}else{i.animOut.opacity=0}});e.cssBefore.left=0;e.cssBefore.top=0;e.animIn.left=0};a.fn.cycle.transitions.wipe=function(c,e,n){var s=c.css("overflow","hidden").width();var j=c.height();n.cssBefore=n.cssBefore||{};var g;if(n.clip){if(/l2r/.test(n.clip)){g="rect(0px 0px "+j+"px 0px)"}else{if(/r2l/.test(n.clip)){g="rect(0px "+s+"px "+j+"px "+s+"px)"}else{if(/t2b/.test(n.clip)){g="rect(0px "+s+"px 0px 0px)"}else{if(/b2t/.test(n.clip)){g="rect("+j+"px "+s+"px "+j+"px 0px)"}else{if(/zoom/.test(n.clip)){var q=parseInt(j/2,10);var m=parseInt(s/2,10);g="rect("+q+"px "+m+"px "+q+"px "+m+"px)"}}}}}}n.cssBefore.clip=n.cssBefore.clip||g||"rect(0px 0px 0px 0px)";var i=n.cssBefore.clip.match(/(\d+)/g);var p=parseInt(i[0],10),o=parseInt(i[1],10),f=parseInt(i[2],10),k=parseInt(i[3],10);n.before.push(function(l,t,u){if(l==t){return}var b=a(l),d=a(t);a.fn.cycle.commonReset(l,t,u,true,true,false);u.cssAfter.display="block";var v=1,h=parseInt((u.speedIn/13),10)-1;(function r(){var z=p?p-parseInt(v*(p/h),10):0;var x=k?k-parseInt(v*(k/h),10):0;var w=f<j?f+parseInt(v*((j-f)/h||1),10):j;var y=o<s?o+parseInt(v*((s-o)/h||1),10):s;d.css({clip:"rect("+z+"px "+y+"px "+w+"px "+x+"px)"});(v++<=h)?setTimeout(r,13):b.css("display","none")})()});a.extend(n.cssBefore,{display:"block",opacity:1,top:0,left:0});n.animIn={left:0};n.animOut={left:0}}})(jQuery);(function(f){f.fn.cclqtip=function(asTitleContent,asContent,asTargetPosition,asTooltipPosition,asWidth,asHeight,aiXOffset,aiYOffset,asHTMLAttributes){var loTooltipObject={content:{text:'<span style="color:#898989" >Title</span>'},position:{corner:{target:"leftBottom",tooltip:"rightTop"},adjust:{screen:false,x:0,y:0}},style:{tip:true,border:{width:1,color:"#9dcdf5",radius:4},title:{background:"#eaf4ff"}}};if(asTitleContent){loTooltipObject.content.title={text:'<img class="tooltip" style="margin-right: 10px" src="/cms/pageelements/2010/new-header/img/icon-help13x13.gif" alt="" /><span style="font-weight: bold;color:#0f65b8" >Text</span>'};loTooltipObject.content.title.text=asTitleContent}if(asHTMLAttributes){if(asHTMLAttributes.padding){loTooltipObject.style.padding=asHTMLAttributes.padding}if(asHTMLAttributes.margin){loTooltipObject.style.margin=asHTMLAttributes.margin}}loTooltipObject.content.text=asContent;if(asWidth){loTooltipObject.style.width=asWidth}if(asHeight){loTooltipObject.style.height=asHeight}if(asTargetPosition){loTooltipObject.position.corner.target=asTargetPosition}if(asTooltipPosition){loTooltipObject.position.corner.tooltip=asTooltipPosition}if(aiXOffset){loTooltipObject.position.adjust.x=eval(aiXOffset)}if(aiYOffset){loTooltipObject.position.adjust.y=eval(aiYOffset)}$(this).qtip(loTooltipObject)};$.fn.qtip=function(options,blanket){var i,id,interfaces,opts,obj,command,config,api;if(typeof options=="string"){if($.isPlainObject($(this).data("qtip"))){$.fn.qtip.log.error.call(self,1,$.fn.qtip.constants.NO_TOOLTIP_PRESENT,false)}if(options=="api"){return $(this).data("qtip").interfaces[$(this).data("qtip").current]}else{if(options=="interfaces"){return $(this).data("qtip").interfaces}}}else{if(!options){options={}}if(typeof options.content!=="object"||(options.content.jquery&&options.content.length>0)){options.content={text:options.content}}if(typeof options.content.title!=="object"){options.content.title={text:options.content.title}}if(typeof options.position!=="object"){options.position={corner:options.position}}if(typeof options.position.corner!=="object"){options.position.corner={target:options.position.corner,tooltip:options.position.corner}}if(typeof options.show!=="object"){options.show={when:options.show}}if(typeof options.show.when!=="object"){options.show.when={event:options.show.when}}if(typeof options.show.effect!=="object"){options.show.effect={type:options.show.effect}}if(typeof options.hide!=="object"){options.hide={when:options.hide}}if(typeof options.hide.when!=="object"){options.hide.when={event:options.hide.when}}if(typeof options.hide.effect!=="object"){options.hide.effect={type:options.hide.effect}}if(typeof options.style!=="object"){options.style={name:options.style}}options.style=sanitizeStyle(options.style);opts=$.extend(true,{},$.fn.qtip.defaults,options);opts.style=buildStyle.call({options:opts},opts.style);opts.user=$.extend(true,{},options)}return $(this).each(function(){if(typeof options=="string"){command=options.toLowerCase();interfaces=$(this).qtip("interfaces");if(typeof interfaces=="object"){if(blanket===true&&command=="destroy"){while(interfaces.length>0){interfaces[interfaces.length-1].destroy()}}else{if(blanket!==true){interfaces=[$(this).qtip("api")]}for(i=0;i<interfaces.length;i++){if(command=="destroy"){interfaces[i].destroy()}else{if(interfaces[i].status.rendered===true){if(command=="show"){interfaces[i].show()}else{if(command=="hide"){interfaces[i].hide()}else{if(command=="focus"){interfaces[i].focus()}else{if(command=="disable"){interfaces[i].disable(true)}else{if(command=="enable"){interfaces[i].disable(false)}}}}}}}}}}}else{config=$.extend(true,{},opts);config.hide.effect.length=opts.hide.effect.length;config.show.effect.length=opts.show.effect.length;if(config.position.container===false){config.position.container=$(document.body)}if(config.position.target===false){config.position.target=$(this)}if(config.show.when.target===false){config.show.when.target=$(this)}if(config.hide.when.target===false){config.hide.when.target=$(this)}id=$.fn.qtip.interfaces.length;for(i=0;i<id;i++){try{if(typeof $(this).data("qtip")==="object"&&$(this).data("qtip")){}}catch(aoXcp){}}obj=new qTip($(this),config,id);$.fn.qtip.interfaces[id]=obj;if($.isPlainObject($(this).data("qtip"))){if(typeof $(this).attr("qtip")==="undefined"){$(this).data("qtip").current=$(this).data("qtip").interfaces.length}$(this).data("qtip").interfaces.push(obj)}else{$(this).data("qtip",{current:0,interfaces:[obj]})}if(config.content.prerender===false&&config.show.when.event!==false&&config.show.ready!==true){config.show.when.target.bind(config.show.when.event+".qtip-"+id+"-create",{qtip:id},function(event){api=$.fn.qtip.interfaces[event.data.qtip];api.options.show.when.target.unbind(api.options.show.when.event+".qtip-"+event.data.qtip+"-create");api.cache.mouse={x:event.pageX,y:event.pageY};construct.call(api);api.options.show.when.target.trigger(api.options.show.when.event)})}else{obj.cache.mouse={x:config.show.when.target.offset().left,y:config.show.when.target.offset().top};construct.call(obj)}}})};function qTip(target,options,id){var self=this;self.id=id;self.options=options;self.status={animated:false,rendered:false,disabled:false,focused:false};self.elements={target:target.addClass(self.options.style.classes.target),tooltip:null,wrapper:null,content:null,contentWrapper:null,title:null,button:null,tip:null,bgiframe:null};self.cache={mouse:{},position:{},toggle:0};self.timers={};$.extend(self,self.options.api,{show:function(event){var returned,solo;if(!self.status.rendered){return $.fn.qtip.log.error.call(self,2,$.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"show")}if(self.elements.tooltip.css("display")!=="none"){return self}self.elements.tooltip.stop(true,false);returned=self.beforeShow.call(self,event);if(returned===false){return self}function afterShow(){$(this).css({opacity:""});if(self.options.position.type!=="static"){self.focus()}self.onShow.call(self,event);if($.browser.msie){self.elements.tooltip.get(0).style.removeAttribute("filter")}}self.cache.toggle=1;if(self.options.position.type!=="static"){self.updatePosition(event,(self.options.show.effect.length>0))}if(typeof self.options.show.solo=="object"){solo=$(self.options.show.solo)}else{if(self.options.show.solo===true){solo=$("div.qtip").not(self.elements.tooltip)}}if(solo){solo.each(function(){if($(this).qtip("api").status.rendered===true){$(this).qtip("api").hide()}})}if(typeof self.options.show.effect.type=="function"){self.options.show.effect.type.call(self.elements.tooltip,self.options.show.effect.length);self.elements.tooltip.queue(function(){afterShow();$(this).dequeue()})}else{switch(self.options.show.effect.type.toLowerCase()){case"fade":self.elements.tooltip.fadeIn(self.options.show.effect.length,afterShow);break;case"slide":self.elements.tooltip.slideDown(self.options.show.effect.length,function(){afterShow();if(self.options.position.type!=="static"){self.updatePosition(event,true)}});break;case"grow":self.elements.tooltip.show(self.options.show.effect.length,afterShow);break;default:self.elements.tooltip.show(null,afterShow);self.elements.tooltip.css({opacity:""});break}self.elements.tooltip.addClass(self.options.style.classes.active)}return $.fn.qtip.log.error.call(self,1,$.fn.qtip.constants.EVENT_SHOWN,"show")},hide:function(event){var returned;if(!self.status.rendered){return $.fn.qtip.log.error.call(self,2,$.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"hide")}else{if(self.elements.tooltip.css("display")==="none"){return self}}clearTimeout(self.timers.show);self.elements.tooltip.stop(true,false);returned=self.beforeHide.call(self,event);if(returned===false){return self}function afterHide(){self.onHide.call(self,event)}self.cache.toggle=0;if(typeof self.options.hide.effect.type=="function"){self.options.hide.effect.type.call(self.elements.tooltip,self.options.hide.effect.length);self.elements.tooltip.queue(function(){afterHide();$(this).dequeue()})}else{switch(self.options.hide.effect.type.toLowerCase()){case"fade":self.elements.tooltip.fadeOut(self.options.hide.effect.length,afterHide);break;case"slide":self.elements.tooltip.slideUp(self.options.hide.effect.length,afterHide);break;case"grow":self.elements.tooltip.hide(self.options.hide.effect.length,afterHide);break;default:self.elements.tooltip.hide(null,afterHide);break}self.elements.tooltip.removeClass(self.options.style.classes.active)}return $.fn.qtip.log.error.call(self,1,$.fn.qtip.constants.EVENT_HIDDEN,"hide")},updatePosition:function(event,animate){var i,target,tooltip,coords,mapName,imagePos,newPosition,ieAdjust,ie6Adjust,borderAdjust,mouseAdjust,offset,curPosition,returned;if(!self.status.rendered){return $.fn.qtip.log.error.call(self,2,$.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"updatePosition")}else{if(self.options.position.type=="static"){return $.fn.qtip.log.error.call(self,1,$.fn.qtip.constants.CANNOT_POSITION_STATIC,"updatePosition")}}target={position:{left:0,top:0},dimensions:{height:0,width:0},corner:self.options.position.corner.target};tooltip={position:self.getPosition(),dimensions:self.getDimensions(),corner:self.options.position.corner.tooltip};if(self.options.position.target!=="mouse"){if(self.options.position.target.get(0).nodeName.toLowerCase()=="area"){coords=self.options.position.target.attr("coords").split(",");for(i=0;i<coords.length;i++){coords[i]=parseInt(coords[i])}mapName=self.options.position.target.parent("map").attr("name");imagePos=$('img[usemap="#'+mapName+'"]:first').offset();target.position={left:Math.floor(imagePos.left+coords[0]),top:Math.floor(imagePos.top+coords[1])};switch(self.options.position.target.attr("shape").toLowerCase()){case"rect":target.dimensions={width:Math.ceil(Math.abs(coords[2]-coords[0])),height:Math.ceil(Math.abs(coords[3]-coords[1]))};break;case"circle":target.dimensions={width:coords[2]+1,height:coords[2]+1};break;case"poly":target.dimensions={width:coords[0],height:coords[1]};for(i=0;i<coords.length;i++){if(i%2==0){if(coords[i]>target.dimensions.width){target.dimensions.width=coords[i]}if(coords[i]<coords[0]){target.position.left=Math.floor(imagePos.left+coords[i])}}else{if(coords[i]>target.dimensions.height){target.dimensions.height=coords[i]}if(coords[i]<coords[1]){target.position.top=Math.floor(imagePos.top+coords[i])}}}target.dimensions.width=target.dimensions.width-(target.position.left-imagePos.left);target.dimensions.height=target.dimensions.height-(target.position.top-imagePos.top);break;default:return $.fn.qtip.log.error.call(self,4,$.fn.qtip.constants.INVALID_AREA_SHAPE,"updatePosition");break}target.dimensions.width-=2;target.dimensions.height-=2}else{if(self.options.position.target.add(document.body).length===1){target.position={left:$(document).scrollLeft(),top:$(document).scrollTop()};target.dimensions={height:$(window).height(),width:$(window).width()}}else{if(typeof self.options.position.target.attr("qtip")!=="undefined"){target.position=self.options.position.target.qtip("api").cache.position}else{target.position=self.options.position.target.offset()}target.dimensions={height:self.options.position.target.outerHeight(),width:self.options.position.target.outerWidth()}}}newPosition=$.extend({},target.position);if((/right/i).test(target.corner)){newPosition.left+=target.dimensions.width}if((/bottom/i).test(target.corner)){newPosition.top+=target.dimensions.height}if((/((top|bottom)Middle)|center/).test(target.corner)){newPosition.left+=(target.dimensions.width/2)}if((/((left|right)Middle)|center/).test(target.corner)){newPosition.top+=(target.dimensions.height/2)}}else{target.position=newPosition={left:self.cache.mouse.x,top:self.cache.mouse.y};target.dimensions={height:1,width:1}}if((/right/i).test(tooltip.corner)){newPosition.left-=tooltip.dimensions.width}if((/bottom/i).test(tooltip.corner)){newPosition.top-=tooltip.dimensions.height}if((/((top|bottom)Middle)|center/).test(tooltip.corner)){newPosition.left-=(tooltip.dimensions.width/2)}if((/((left|right)Middle)|center/).test(tooltip.corner)){newPosition.top-=(tooltip.dimensions.height/2)}ieAdjust=($.browser.msie)?1:0;ie6Adjust=($.browser.msie&&parseInt($.browser.version.charAt(0))===6)?1:0;if(self.options.style.border.radius>0){if((/Left/i).test(tooltip.corner)){newPosition.left-=self.options.style.border.radius}else{if((/Right/i).test(tooltip.corner)){newPosition.left+=self.options.style.border.radius}}if((/Top/i).test(tooltip.corner)){newPosition.top-=self.options.style.border.radius}else{if((/Bottom/i).test(tooltip.corner)){newPosition.top+=self.options.style.border.radius}}}if(ieAdjust){if((/top/i).test(tooltip.corner)){newPosition.top-=ieAdjust}else{if((/bottom/i).test(tooltip.corner)){newPosition.top+=ieAdjust}}if((/left/i).test(tooltip.corner)){newPosition.left-=ieAdjust}else{if((/right/i).test(tooltip.corner)){newPosition.left+=ieAdjust}}if((/leftMiddle|rightMiddle/).test(tooltip.corner)){newPosition.top-=1}}if(self.options.position.adjust.screen===true){newPosition=screenAdjust.call(self,newPosition,target,tooltip)}if(self.options.position.target==="mouse"&&self.options.position.adjust.mouse===true){if(self.options.position.adjust.screen===true&&self.elements.tip){mouseAdjust=self.elements.tip.attr("rel")}else{mouseAdjust=self.options.position.corner.tooltip}newPosition.left+=((/right/i).test(mouseAdjust))?-6:6;newPosition.top+=((/bottom/i).test(mouseAdjust))?-6:6}if(!self.elements.bgiframe&&$.browser.msie&&parseInt($.browser.version.charAt(0))==6){$("select, object").each(function(){offset=$(this).offset();offset.bottom=offset.top+$(this).height();offset.right=offset.left+$(this).width();if(newPosition.top+tooltip.dimensions.height>=offset.top&&newPosition.left+tooltip.dimensions.width>=offset.left){bgiframe.call(self)}})}newPosition.left+=self.options.position.adjust.x;newPosition.top+=self.options.position.adjust.y;curPosition=self.getPosition();if(newPosition.left!=curPosition.left||newPosition.top!=curPosition.top){returned=self.beforePositionUpdate.call(self,event);if(returned===false){return self}self.cache.position=newPosition;if(animate===true){self.status.animated=true;self.elements.tooltip.animate(newPosition,200,"swing",function(){self.status.animated=false})}else{self.elements.tooltip.css(newPosition)}self.onPositionUpdate.call(self,event);if(typeof event!=="undefined"&&event.type&&event.type!=="mousemove"){$.fn.qtip.log.error.call(self,1,$.fn.qtip.constants.EVENT_POSITION_UPDATED,"updatePosition")}}return self},updateWidth:function(newWidth){if(!self.status.rendered){return $.fn.qtip.log.error.call(self,2,$.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"updateWidth")}else{if(newWidth!=undefined&&typeof newWidth!=="number"){return $.fn.qtip.log.error.call(self,2,"newWidth must be of type number","updateWidth")}}var hidden=self.elements.contentWrapper.siblings().add(self.elements.tip).add(self.elements.button),zoom=self.elements.wrapper.add(self.elements.contentWrapper.children()),tooltip=self.elements.tooltip,max=self.options.style.width.max,min=self.options.style.width.min;if(!newWidth){if(typeof self.options.style.width.value==="number"){newWidth=self.options.style.width.value}else{self.elements.tooltip.css({width:"auto"});hidden.hide();if($.browser.msie){zoom.css({zoom:""})}newWidth=self.getDimensions().width;if(!self.options.style.width.value){newWidth=Math.min(Math.max(newWidth,min),max)}}}if(newWidth%2){newWidth-=1}self.elements.tooltip.width(newWidth);hidden.show();if(self.options.style.border.radius){self.elements.tooltip.find(".qtip-betweenCorners").each(function(i){$(this).width(newWidth-(self.options.style.border.radius*2))})}if($.browser.msie){zoom.css({zoom:1});if(self.elements.bgiframe){self.elements.bgiframe.width(newWidth).height(self.getDimensions.height)}}return $.fn.qtip.log.error.call(self,1,$.fn.qtip.constants.EVENT_WIDTH_UPDATED,"updateWidth")},updateStyle:function(name){var tip,borders,context,corner,coordinates;if(!self.status.rendered){return $.fn.qtip.log.error.call(self,2,$.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"updateStyle")}else{if(typeof name!=="string"||!$.fn.qtip.styles[name]){return $.fn.qtip.log.error.call(self,2,$.fn.qtip.constants.STYLE_NOT_DEFINED,"updateStyle")}}self.options.style=buildStyle.call(self,$.fn.qtip.styles[name],self.options.user.style);self.elements.content.css(jQueryStyle(self.options.style));if(self.options.content.title.text!==false){self.elements.title.css(jQueryStyle(self.options.style.title,true))}self.elements.contentWrapper.css({borderColor:self.options.style.border.color});if(self.options.style.tip.corner!==false){if($("<canvas>").get(0).getContext){tip=self.elements.tooltip.find(".qtip-tip canvas:first");context=tip.get(0).getContext("2d");context.clearRect(0,0,300,300);corner=tip.parent("div[rel]:first").attr("rel");coordinates=calculateTip(corner,self.options.style.tip.size.width,self.options.style.tip.size.height);drawTip.call(self,tip,coordinates,self.options.style.tip.color||self.options.style.border.color)}else{if($.browser.msie){tip=self.elements.tooltip.find('.qtip-tip [nodeName="shape"]');tip.attr("fillcolor",self.options.style.tip.color||self.options.style.border.color)}}}if(self.options.style.border.radius>0){self.elements.tooltip.find(".qtip-betweenCorners").css({backgroundColor:self.options.style.border.color});if($("<canvas>").get(0).getContext){borders=calculateBorders(self.options.style.border.radius);self.elements.tooltip.find(".qtip-wrapper canvas").each(function(){context=$(this).get(0).getContext("2d");context.clearRect(0,0,300,300);corner=$(this).parent("div[rel]:first").attr("rel");drawBorder.call(self,$(this),borders[corner],self.options.style.border.radius,self.options.style.border.color)})}else{if($.browser.msie){self.elements.tooltip.find('.qtip-wrapper [nodeName="arc"]').each(function(){$(this).attr("fillcolor",self.options.style.border.color)})}}}return $.fn.qtip.log.error.call(self,1,$.fn.qtip.constants.EVENT_STYLE_UPDATED,"updateStyle")},updateContent:function(content,reposition){var parsedContent,images,loadedImages;if(!self.status.rendered){return $.fn.qtip.log.error.call(self,2,$.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"updateContent")}else{if(!content){return $.fn.qtip.log.error.call(self,2,$.fn.qtip.constants.NO_CONTENT_PROVIDED,"updateContent")}}parsedContent=self.beforeContentUpdate.call(self,content);if(typeof parsedContent=="string"){content=parsedContent}else{if(parsedContent===false){return}}if($.browser.msie){self.elements.contentWrapper.children().css({zoom:"normal"})}if(content.jquery&&content.length>0){content.clone(true).appendTo(self.elements.content).show()}else{self.elements.content.html(content)}loadedImages=0;images=self.elements.content.find("img");if(images.length){if($.fn.qtip.preload){images.each(function(){preloaded=$('body > img[src="'+$(this).attr("src")+'"]:first');if(preloaded.length>0){$(this).attr("width",preloaded.innerWidth()).attr("height",preloaded.innerHeight())}});afterLoad()}else{images.bind("load error",function(){if(++loadedImages===images.length){afterLoad()}})}}else{afterLoad()}function afterLoad(){self.updateWidth();if(reposition!==false){if(self.options.position.type!=="static"){self.updatePosition(self.elements.tooltip.is(":visible"),true)}if(self.options.style.tip.corner!==false){positionTip.call(self)}}}self.updateWidth();if(reposition!==false){if(self.options.position.type!=="static"){self.updatePosition(self.elements.tooltip.is(":visible"),true)}if(self.options.style.tip.corner!==false){positionTip.call(self)}}self.onContentUpdate.call(self);return $.fn.qtip.log.error.call(self,1,$.fn.qtip.constants.EVENT_CONTENT_UPDATED,"loadContent")},loadContent:function(url,data,method){var returned;if(!self.status.rendered){return $.fn.qtip.log.error.call(self,2,$.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"loadContent")}returned=self.beforeContentLoad.call(self);if(returned===false){return self}if(method=="post"){$.post(url,data,setupContent)}else{$.get(url,data,setupContent)}function setupContent(content){self.onContentLoad.call(self);$.fn.qtip.log.error.call(self,1,$.fn.qtip.constants.EVENT_CONTENT_LOADED,"loadContent");self.updateContent(content)}return self},updateTitle:function(content){if(!self.status.rendered){return $.fn.qtip.log.error.call(self,2,$.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"updateTitle")}else{if(!content){return $.fn.qtip.log.error.call(self,2,$.fn.qtip.constants.NO_CONTENT_PROVIDED,"updateTitle")}}returned=self.beforeTitleUpdate.call(self);if(returned===false){return self}if(self.elements.button){self.elements.button=self.elements.button.clone(true)}self.elements.title.html(content);if(self.elements.button){self.elements.title.prepend(self.elements.button)}self.onTitleUpdate.call(self);return $.fn.qtip.log.error.call(self,1,$.fn.qtip.constants.EVENT_TITLE_UPDATED,"updateTitle")},focus:function(event){var curIndex,newIndex,elemIndex,returned;if(!self.status.rendered){return $.fn.qtip.log.error.call(self,2,$.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"focus")}else{if(self.options.position.type=="static"){return $.fn.qtip.log.error.call(self,1,$.fn.qtip.constants.CANNOT_FOCUS_STATIC,"focus")}}curIndex=parseInt(self.elements.tooltip.css("z-index"));newIndex=32001+$("div.qtip[qtip]").length-1;if(!self.status.focused&&curIndex!==newIndex){returned=self.beforeFocus.call(self,event);if(returned===false){return self}$("div.qtip[qtip]").not(self.elements.tooltip).each(function(){if($(this).qtip("api").status.rendered===true){elemIndex=parseInt($(this).css("z-index"));if(typeof elemIndex=="number"&&elemIndex>-1){$(this).css({zIndex:parseInt($(this).css("z-index"))-1})}$(this).qtip("api").status.focused=false}});self.elements.tooltip.css({zIndex:newIndex});self.status.focused=true;self.onFocus.call(self,event);$.fn.qtip.log.error.call(self,1,$.fn.qtip.constants.EVENT_FOCUSED,"focus")}return self},disable:function(state){if(!self.status.rendered){return $.fn.qtip.log.error.call(self,2,$.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"disable")}if(state){if(!self.status.disabled){self.status.disabled=true;$.fn.qtip.log.error.call(self,1,$.fn.qtip.constants.EVENT_DISABLED,"disable")}else{$.fn.qtip.log.error.call(self,1,$.fn.qtip.constants.TOOLTIP_ALREADY_DISABLED,"disable")}}else{if(self.status.disabled){self.status.disabled=false;$.fn.qtip.log.error.call(self,1,$.fn.qtip.constants.EVENT_ENABLED,"disable")}else{$.fn.qtip.log.error.call(self,1,$.fn.qtip.constants.TOOLTIP_ALREADY_ENABLED,"disable")}}return self},destroy:function(){var i,returned,interfaces;returned=self.beforeDestroy.call(self);if(returned===false){return self}if(self.status.rendered){self.options.show.when.target.unbind("mousemove.qtip",self.updatePosition);self.options.show.when.target.unbind("mouseout.qtip",self.hide);self.options.show.when.target.unbind(self.options.show.when.event+".qtip");self.options.hide.when.target.unbind(self.options.hide.when.event+".qtip");self.elements.tooltip.unbind(self.options.hide.when.event+".qtip");self.elements.tooltip.unbind("mouseover.qtip",self.focus);self.elements.tooltip.remove()}else{self.options.show.when.target.unbind(self.options.show.when.event+".qtip-create")}if(typeof self.elements.target.data("qtip")=="object"){interfaces=self.elements.target.data("qtip").interfaces;if(typeof interfaces=="object"&&interfaces.length>0){for(i=0;i<interfaces.length-1;i++){if(interfaces[i].id==self.id){interfaces.splice(i,1)}}}}$.fn.qtip.interfaces.splice(self.id,1);if(typeof interfaces=="object"&&interfaces.length>0){self.elements.target.data("qtip").current=interfaces.length-1}else{self.elements.target.removeData("qtip")}self.onDestroy.call(self);$.fn.qtip.log.error.call(self,1,$.fn.qtip.constants.EVENT_DESTROYED,"destroy");return self.elements.target},getPosition:function(){var show,offset;if(!self.status.rendered){return $.fn.qtip.log.error.call(self,2,$.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"getPosition")}show=(self.elements.tooltip.css("display")!=="none")?false:true;if(show){self.elements.tooltip.css({visiblity:"hidden"}).show()}offset=self.elements.tooltip.offset();if(show){self.elements.tooltip.css({visiblity:"visible"}).hide()}return offset},getDimensions:function(){var show,dimensions;if(!self.status.rendered){return $.fn.qtip.log.error.call(self,2,$.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"getDimensions")}show=(!self.elements.tooltip.is(":visible"))?true:false;if(show){self.elements.tooltip.css({visiblity:"hidden"}).show()}dimensions={height:self.elements.tooltip.outerHeight(),width:self.elements.tooltip.outerWidth()};if(show){self.elements.tooltip.css({visiblity:"visible"}).hide()}return dimensions}})}function construct(){var self,adjust,content,url,data,method,tempLength;self=this;self.beforeRender.call(self);self.status.rendered=true;self.elements.tooltip='<div qtip="'+self.id+'" class="qtip '+(self.options.style.classes.tooltip||self.options.style)+'"style="display:none; -moz-border-radius:0; -webkit-border-radius:0; border-radius:0;position:'+self.options.position.type+';">  <div class="qtip-wrapper" style="position:relative; overflow:hidden; text-align:left;">    <div class="qtip-contentWrapper" style="overflow:hidden;">       <div class="qtip-content '+self.options.style.classes.content+'"></div></div></div></div>';self.elements.tooltip=$(self.elements.tooltip);self.elements.tooltip.appendTo(self.options.position.container);self.elements.tooltip.data("qtip",{current:0,interfaces:[self]});self.elements.wrapper=self.elements.tooltip.children("div:first");self.elements.contentWrapper=self.elements.wrapper.children("div:first").css({background:self.options.style.background});self.elements.content=self.elements.contentWrapper.children("div:first").css(jQueryStyle(self.options.style));if($.browser.msie){self.elements.wrapper.add(self.elements.content).css({zoom:1})}if((/unfocus/i).test(self.options.hide.when.event)){self.elements.tooltip.attr("unfocus",true)}if(typeof self.options.style.width.value=="number"){self.updateWidth()}if($("<canvas>").get(0).getContext||$.browser.msie){if(self.options.style.border.radius>0){createBorder.call(self)}else{self.elements.contentWrapper.css({border:self.options.style.border.width+"px solid "+self.options.style.border.color})}if(self.options.style.tip.corner!==false){createTip.call(self)}}else{self.elements.contentWrapper.css({border:self.options.style.border.width+"px solid "+self.options.style.border.color});self.options.style.border.radius=0;self.options.style.tip.corner=false;$.fn.qtip.log.error.call(self,2,$.fn.qtip.constants.CANVAS_VML_NOT_SUPPORTED,"render")}if((typeof self.options.content.text=="string"&&self.options.content.text.length>0)||(self.options.content.text.jquery&&self.options.content.text.length>0)){content=self.options.content.text}else{if(typeof self.elements.target.attr("title")=="string"&&self.elements.target.attr("title").length>0){content=self.elements.target.attr("title").replace("\\n","<br />");self.elements.target.attr("title","")}else{if(typeof self.elements.target.attr("alt")=="string"&&self.elements.target.attr("alt").length>0){content=self.elements.target.attr("alt").replace("\\n","<br />");self.elements.target.attr("alt","")}else{content=" ";$.fn.qtip.log.error.call(self,1,$.fn.qtip.constants.NO_VALID_CONTENT,"render")}}}if(self.options.content.title.text!==false){createTitle.call(self)}self.updateContent(content);assignEvents.call(self);if(self.options.show.ready===true){self.show()}if(self.options.content.url!==false){url=self.options.content.url;data=self.options.content.data;method=self.options.content.method||"get";self.loadContent(url,data,method)}self.onRender.call(self);$.fn.qtip.log.error.call(self,1,$.fn.qtip.constants.EVENT_RENDERED,"render")}function createBorder(){var self,i,width,radius,color,coordinates,containers,size,betweenWidth,betweenCorners,borderTop,borderBottom,borderCoord,sideWidth,vertWidth;self=this;self.elements.wrapper.find(".qtip-borderBottom, .qtip-borderTop").remove();width=self.options.style.border.width;radius=self.options.style.border.radius;color=self.options.style.border.color||self.options.style.tip.color;coordinates=calculateBorders(radius);containers={};for(i in coordinates){containers[i]='<div rel="'+i+'" style="'+((/Left/).test(i)?"left":"right")+":0; position:absolute; height:"+radius+"px; width:"+radius+'px; overflow:hidden; line-height:0.1px; font-size:1px">';if($("<canvas>").get(0).getContext){containers[i]+='<canvas height="'+radius+'" width="'+radius+'" style="vertical-align: top"></canvas>'}else{if($.browser.msie){size=radius*2+3;containers[i]+='<v:arc stroked="false" fillcolor="'+color+'" startangle="'+coordinates[i][0]+'" endangle="'+coordinates[i][1]+'" style="width:'+size+"px; height:"+size+"px; margin-top:"+((/bottom/).test(i)?-2:-1)+"px; margin-left:"+((/Right/).test(i)?coordinates[i][2]-3.5:-1)+'px; vertical-align:top; display:inline-block; behavior:url(#default#VML)"></v:arc>'}}containers[i]+="</div>"}betweenWidth=self.getDimensions().width-(Math.max(width,radius)*2);betweenCorners='<div class="qtip-betweenCorners" style="height:'+radius+"px; width:"+betweenWidth+"px; overflow:hidden; background-color:"+color+'; line-height:0.1px; font-size:1px;">';borderTop='<div class="qtip-borderTop" dir="ltr" style="height:'+radius+"px; margin-left:"+radius+'px; line-height:0.1px; font-size:1px; padding:0;">'+containers.topLeft+containers.topRight+betweenCorners;self.elements.wrapper.prepend(borderTop);borderBottom='<div class="qtip-borderBottom" dir="ltr" style="height:'+radius+"px; margin-left:"+radius+'px; line-height:0.1px; font-size:1px; padding:0;">'+containers.bottomLeft+containers.bottomRight+betweenCorners;self.elements.wrapper.append(borderBottom);if($("<canvas>").get(0).getContext){self.elements.wrapper.find("canvas").each(function(){borderCoord=coordinates[$(this).parent("[rel]:first").attr("rel")];drawBorder.call(self,$(this),borderCoord,radius,color)})}else{if($.browser.msie){self.elements.tooltip.append('<v:image style="behavior:url(#default#VML);"></v:image>')}}sideWidth=Math.max(radius,(radius+(width-radius)));vertWidth=Math.max(width-radius,0);self.elements.contentWrapper.css({border:"0px solid "+color,borderWidth:vertWidth+"px "+sideWidth+"px"})}function drawBorder(canvas,coordinates,radius,color){var context=canvas.get(0).getContext("2d");context.fillStyle=color;context.beginPath();context.arc(coordinates[0],coordinates[1],radius,0,Math.PI*2,false);context.fill()}function createTip(corner){var self,color,coordinates,coordsize,path,tip;self=this;if(self.elements.tip!==null){self.elements.tip.remove()}color=self.options.style.tip.color||self.options.style.border.color;if(self.options.style.tip.corner===false){return}else{if(!corner){corner=self.options.style.tip.corner}}coordinates=calculateTip(corner,self.options.style.tip.size.width,self.options.style.tip.size.height);self.elements.tip='<div class="'+self.options.style.classes.tip+'" dir="ltr" rel="'+corner+'" style="position:absolute; height:'+self.options.style.tip.size.height+"px; width:"+self.options.style.tip.size.width+'px; margin:0 auto; line-height:0.1px; font-size:1px;"></div>';self.elements.tooltip.prepend(self.elements.tip);if($("<canvas>").get(0).getContext){tip='<canvas height="'+self.options.style.tip.size.height+'" width="'+self.options.style.tip.size.width+'"></canvas>'}else{if($.browser.msie){coordsize=self.options.style.tip.size.width+","+self.options.style.tip.size.height;path="m"+coordinates[0][0]+","+coordinates[0][1];path+=" l"+coordinates[1][0]+","+coordinates[1][1];path+=" "+coordinates[2][0]+","+coordinates[2][1];path+=" xe";tip='<v:shape fillcolor="'+color+'" stroked="false" filled="true" path="'+path+'" coordsize="'+coordsize+'" style="width:'+self.options.style.tip.size.width+"px; height:"+self.options.style.tip.size.height+"px; line-height:0.1px; display:inline-block; behavior:url(#default#VML); vertical-align:"+((/top/).test(corner)?"bottom":"top")+'"></v:shape>';tip+='<v:image style="behavior:url(#default#VML);"></v:image>';self.elements.contentWrapper.css("position","relative")}}self.elements.tip=self.elements.tooltip.find("."+self.options.style.classes.tip).eq(0);self.elements.tip.html(tip);if($("<canvas>").get(0).getContext){drawTip.call(self,self.elements.tip.find("canvas:first"),coordinates,color)}if((/top/).test(corner)&&$.browser.msie&&parseInt($.browser.version.charAt(0))===6){self.elements.tip.css({marginTop:-4})}positionTip.call(self,corner)}function drawTip(canvas,coordinates,color){var context=canvas.get(0).getContext("2d");context.fillStyle=color;context.beginPath();context.moveTo(coordinates[0][0],coordinates[0][1]);context.lineTo(coordinates[1][0],coordinates[1][1]);context.lineTo(coordinates[2][0],coordinates[2][1]);context.fill()}function positionTip(corner){var self,ieAdjust,paddingCorner,paddingSize,newMargin;self=this;if(self.options.style.tip.corner===false||!self.elements.tip){return}if(!corner){corner=self.elements.tip.attr("rel")}ieAdjust=positionAdjust=($.browser.msie)?1:0;self.elements.tip.css(corner.match(/left|right|top|bottom/)[0],0);if((/top|bottom/).test(corner)){if($.browser.msie){if(parseInt($.browser.version.charAt(0))===6){positionAdjust=((/top/).test(corner))?-3:1}else{positionAdjust=((/top/).test(corner))?1:2}}if((/Middle/).test(corner)){self.elements.tip.css({left:"50%",marginLeft:-(self.options.style.tip.size.width/2)})}else{if((/Left/).test(corner)){self.elements.tip.css({left:self.options.style.border.radius-ieAdjust})}else{if((/Right/).test(corner)){self.elements.tip.css({right:self.options.style.border.radius+ieAdjust})}}}if((/top/).test(corner)){self.elements.tip.css({top:-positionAdjust})}else{self.elements.tip.css({bottom:positionAdjust})}}else{if((/left|right/).test(corner)){if($.browser.msie){positionAdjust=(parseInt($.browser.version.charAt(0))===6)?1:((/left/).test(corner)?1:2)}if((/Middle/).test(corner)){self.elements.tip.css({top:"50%",marginTop:-(self.options.style.tip.size.height/2)})}else{if((/Top/).test(corner)){self.elements.tip.css({top:self.options.style.border.radius-ieAdjust})}else{if((/Bottom/).test(corner)){self.elements.tip.css({bottom:self.options.style.border.radius+ieAdjust})}}}if((/left/).test(corner)){self.elements.tip.css({left:-positionAdjust})}else{self.elements.tip.css({right:positionAdjust})}}}paddingCorner="padding-"+corner.match(/left|right|top|bottom/)[0];paddingSize=self.options.style.tip.size[(/left|right/).test(paddingCorner)?"width":"height"];self.elements.tooltip.css("padding",0);self.elements.tooltip.css(paddingCorner,paddingSize);if($.browser.msie&&parseInt($.browser.version.charAt(0))==6){newMargin=parseInt(self.elements.tip.css("margin-top"))||0;newMargin+=parseInt(self.elements.content.css("margin-top"))||0;self.elements.tip.css({marginTop:newMargin})}}function createTitle(){var self=this;if(self.elements.title!==null){self.elements.title.remove()}self.elements.title=$('<div class="'+self.options.style.classes.title+'">').css(jQueryStyle(self.options.style.title,true)).css({zoom:($.browser.msie)?1:0}).prependTo(self.elements.contentWrapper);if(self.options.content.title.text){self.updateTitle.call(self,self.options.content.title.text)}if(self.options.content.title.button!==false&&typeof self.options.content.title.button=="string"){self.elements.button=$('<a class="'+self.options.style.classes.button+'" style="float:right; position: relative"></a>').css(jQueryStyle(self.options.style.button,true)).html(self.options.content.title.button).prependTo(self.elements.title).click(function(event){if(!self.status.disabled){self.hide(event)}})}}function assignEvents(){var self,showTarget,hideTarget,inactiveEvents;self=this;showTarget=self.options.show.when.target;hideTarget=self.options.hide.when.target;if(self.options.hide.fixed){hideTarget=hideTarget.add(self.elements.tooltip)}if(self.options.hide.when.event=="inactive"){inactiveEvents=["click","dblclick","mousedown","mouseup","mousemove","mouseout","mouseenter","mouseleave","mouseover","touchstart"];function inactiveMethod(event){if(self.status.disabled===true){return}clearTimeout(self.timers.inactive);self.timers.inactive=setTimeout(function(){$(inactiveEvents).each(function(){hideTarget.unbind(this+".qtip-inactive");self.elements.content.unbind(this+".qtip-inactive")});self.hide(event)},self.options.hide.delay)}}else{if(self.options.hide.fixed===true){self.elements.tooltip.bind("mouseover.qtip",function(){if(self.status.disabled===true){return}clearTimeout(self.timers.hide)})}}function showMethod(event){if(self.status.disabled===true){return}if(self.options.hide.when.event=="inactive"){$(inactiveEvents).each(function(){hideTarget.bind(this+".qtip-inactive",inactiveMethod);self.elements.content.bind(this+".qtip-inactive",inactiveMethod)});inactiveMethod()}clearTimeout(self.timers.show);clearTimeout(self.timers.hide);if(self.options.show.delay>0){self.timers.show=setTimeout(function(){self.show(event)},self.options.show.delay)}else{self.show(event)}}function hideMethod(event){if(self.status.disabled===true){return}if(self.options.hide.fixed===true&&(/mouse(out|leave)/i).test(self.options.hide.when.event)&&$(event.relatedTarget).parents("div.qtip[qtip]").length>0){event.stopPropagation();event.preventDefault();clearTimeout(self.timers.hide);return false}clearTimeout(self.timers.show);clearTimeout(self.timers.hide);self.elements.tooltip.stop(true,true);self.timers.hide=setTimeout(function(){self.hide(event)},self.options.hide.delay)}if((self.options.show.when.target.add(self.options.hide.when.target).length===1&&self.options.show.when.event==self.options.hide.when.event&&self.options.hide.when.event!=="inactive")||self.options.hide.when.event=="unfocus"){self.cache.toggle=0;showTarget.bind(self.options.show.when.event+".qtip",function(event){if(self.cache.toggle==0){showMethod(event)}else{hideMethod(event)}})}else{showTarget.bind(self.options.show.when.event+".qtip",showMethod);if(self.options.hide.when.event!=="inactive"){hideTarget.bind(self.options.hide.when.event+".qtip",hideMethod)}}if((/(fixed|absolute)/).test(self.options.position.type)){self.elements.tooltip.bind("mouseover.qtip",self.focus)}if(self.options.position.target==="mouse"&&self.options.position.type!=="static"){showTarget.bind("mousemove.qtip",function(event){self.cache.mouse={x:event.pageX,y:event.pageY};if(self.status.disabled===false&&self.options.position.adjust.mouse===true&&self.options.position.type!=="static"&&self.elements.tooltip.css("display")!=="none"){self.updatePosition(event)}})}}function screenAdjust(position,target,tooltip){var self,adjustedPosition,adjust,newCorner,overflow,corner;self=this;if(tooltip.corner=="center"){return target.position}adjustedPosition=$.extend({},position);newCorner={x:false,y:false};overflow={left:(adjustedPosition.left<$.fn.qtip.cache.screen.scroll.left),right:(adjustedPosition.left+tooltip.dimensions.width+2>=$.fn.qtip.cache.screen.width+$.fn.qtip.cache.screen.scroll.left),top:(adjustedPosition.top<$.fn.qtip.cache.screen.scroll.top),bottom:(adjustedPosition.top+tooltip.dimensions.height+2>=$.fn.qtip.cache.screen.height+$.fn.qtip.cache.screen.scroll.top)};adjust={left:(overflow.left&&((/right/i).test(tooltip.corner)||!overflow.right)),right:(overflow.right&&((/left/i).test(tooltip.corner)||!overflow.left)),top:(overflow.top&&!(/top/i).test(tooltip.corner)),bottom:(overflow.bottom&&!(/bottom/i).test(tooltip.corner))};if(adjust.left){if(self.options.position.target!=="mouse"){adjustedPosition.left=target.position.left+target.dimensions.width}else{adjustedPosition.left=self.cache.mouse.x}newCorner.x="Left"}else{if(adjust.right){if(self.options.position.target!=="mouse"){adjustedPosition.left=target.position.left-tooltip.dimensions.width}else{adjustedPosition.left=self.cache.mouse.x-tooltip.dimensions.width}newCorner.x="Right"}}if(adjust.top){if(self.options.position.target!=="mouse"){adjustedPosition.top=target.position.top+target.dimensions.height}else{adjustedPosition.top=self.cache.mouse.y}newCorner.y="top"}else{if(adjust.bottom){if(self.options.position.target!=="mouse"){adjustedPosition.top=target.position.top-tooltip.dimensions.height}else{adjustedPosition.top=self.cache.mouse.y-tooltip.dimensions.height}newCorner.y="bottom"}}if(adjustedPosition.left<0){adjustedPosition.left=position.left;newCorner.x=false}if(adjustedPosition.top<0){adjustedPosition.top=position.top;newCorner.y=false}if(self.options.style.tip.corner!==false){adjustedPosition.corner=new String(tooltip.corner);if(adjustedPosition.corner.match(/^(right|left)/)){if(newCorner.x!==false){adjustedPosition.corner=adjustedPosition.corner.replace(/(left|right)/,newCorner.x.toLowerCase())}}else{if(newCorner.x!==false){adjustedPosition.corner=adjustedPosition.corner.replace(/Left|Right|Middle/,newCorner.x)}if(newCorner.y!==false){adjustedPosition.corner=adjustedPosition.corner.replace(/top|bottom/,newCorner.y)}}if(adjustedPosition.corner!==self.elements.tip.attr("rel")){createTip.call(self,adjustedPosition.corner)}}return adjustedPosition}function jQueryStyle(style,sub){var styleObj,i;styleObj=$.extend(true,{},style);for(i in styleObj){if(sub===true&&(/(tip|classes)/i).test(i)){delete styleObj[i]}else{if(!sub&&(/(width|border|tip|title|classes|user)/i).test(i)){delete styleObj[i]}}}return styleObj}function sanitizeStyle(style){if(typeof style.tip!=="object"){style.tip={corner:style.tip}}if(typeof style.tip.size!=="object"){style.tip.size={width:style.tip.size,height:style.tip.size}}if(typeof style.border!=="object"){style.border={width:style.border}}if(typeof style.width!=="object"){style.width={value:style.width}}if(typeof style.width.max=="string"){style.width.max=parseInt(style.width.max.replace(/([0-9]+)/i,"$1"))}if(typeof style.width.min=="string"){style.width.min=parseInt(style.width.min.replace(/([0-9]+)/i,"$1"))}if(typeof style.tip.size.x=="number"){style.tip.size.width=style.tip.size.x;delete style.tip.size.x}if(typeof style.tip.size.y=="number"){style.tip.size.height=style.tip.size.y;delete style.tip.size.y}return style}function buildStyle(){var self,i,styleArray,styleExtend,finalStyle,ieAdjust;self=this;styleArray=[true,{}];for(i=0;i<arguments.length;i++){styleArray.push(arguments[i])}styleExtend=[$.extend.apply($,styleArray)];while(typeof styleExtend[0].name=="string"){styleExtend.unshift(sanitizeStyle($.fn.qtip.styles[styleExtend[0].name]))}styleExtend.unshift(true,{classes:{tooltip:"qtip-"+(arguments[0].name||"defaults")}},$.fn.qtip.styles.defaults);finalStyle=$.extend.apply($,styleExtend);ieAdjust=($.browser.msie)?1:0;finalStyle.tip.size.width+=ieAdjust;finalStyle.tip.size.height+=ieAdjust;if(finalStyle.tip.size.width%2>0){finalStyle.tip.size.width+=1}if(finalStyle.tip.size.height%2>0){finalStyle.tip.size.height+=1}if(finalStyle.tip.corner===true){finalStyle.tip.corner=(self.options.position.corner.tooltip==="center")?false:self.options.position.corner.tooltip}return finalStyle}function calculateTip(corner,width,height){var tips={bottomRight:[[0,0],[width,height],[width,0]],bottomLeft:[[0,0],[width,0],[0,height]],topRight:[[0,height],[width,0],[width,height]],topLeft:[[0,0],[0,height],[width,height]],topMiddle:[[0,height],[width/2,0],[width,height]],bottomMiddle:[[0,0],[width,0],[width/2,height]],rightMiddle:[[0,0],[width,height/2],[0,height]],leftMiddle:[[width,0],[width,height],[0,height/2]]};tips.leftTop=tips.bottomRight;tips.rightTop=tips.bottomLeft;tips.leftBottom=tips.topRight;tips.rightBottom=tips.topLeft;return tips[corner]}function calculateBorders(radius){var borders;if($("<canvas>").get(0).getContext){borders={topLeft:[radius,radius],topRight:[0,radius],bottomLeft:[radius,0],bottomRight:[0,0]}}else{if($.browser.msie){borders={topLeft:[-90,90,0],topRight:[-90,90,-radius],bottomLeft:[90,270,0],bottomRight:[90,270,-radius]}}}return borders}function bgiframe(){var self,html,dimensions;self=this;dimensions=self.getDimensions();html='<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:false" style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=\'0\'); border: 1px solid red; height:'+dimensions.height+"px; width:"+dimensions.width+'px" />';self.elements.bgiframe=self.elements.wrapper.prepend(html).children(".qtip-bgiframe:first")}$(document).ready(function(){$.fn.qtip.cache={screen:{scroll:{left:$(window).scrollLeft(),top:$(window).scrollTop()},width:$(window).width(),height:$(window).height()}};var adjustTimer;$(window).bind("resize scroll",function(event){clearTimeout(adjustTimer);adjustTimer=setTimeout(function(){if(event.type==="scroll"){$.fn.qtip.cache.screen.scroll={left:$(window).scrollLeft(),top:$(window).scrollTop()}}else{$.fn.qtip.cache.screen.width=$(window).width();$.fn.qtip.cache.screen.height=$(window).height()}for(i=0;i<$.fn.qtip.interfaces.length;i++){var api=$.fn.qtip.interfaces[i];if(api.status.rendered===true&&(api.options.position.adjust.scroll&&event.type==="scroll"||api.options.position.adjust.resize&&event.type==="resize")){api.updatePosition(event,true)}}},100)});$(document).bind("touchstart.qtip",function(event){if($(event.target).parents("div.qtip").length===0){$(".qtip[unfocus]").each(function(){var api=$(this).qtip("api");if($(this).is(":visible")&&!api.status.disabled&&$(event.target).add(api.elements.target).length>1){api.hide(event)}})}});$(document).bind("mousedown.qtip",function(event){if($(event.target).parents("div.qtip").length===0){$(".qtip[unfocus]").each(function(){var api=$(this).qtip("api");if($(this).is(":visible")&&!api.status.disabled&&$(event.target).add(api.elements.target).length>1){api.hide(event)}})}})});$.fn.qtip.interfaces=[];$.fn.qtip.log={error:function(){return this}};$.fn.qtip.constants={};$.fn.qtip.defaults={content:{prerender:false,text:false,url:false,data:null,title:{text:false,button:false}},position:{target:false,corner:{target:"bottomRight",tooltip:"topLeft"},adjust:{x:0,y:0,mouse:true,screen:false,scroll:true,resize:true},type:"absolute",container:false},show:{when:{target:false,event:"mouseover"},effect:{type:"fade",length:100},delay:140,solo:false,ready:false},hide:{when:{target:false,event:"mouseout"},effect:{type:"fade",length:100},delay:0,fixed:false},api:{beforeRender:function(){},onRender:function(){},beforePositionUpdate:function(){},onPositionUpdate:function(){},beforeShow:function(){},onShow:function(){},beforeHide:function(){},onHide:function(){},beforeContentUpdate:function(){},onContentUpdate:function(){},beforeContentLoad:function(){},onContentLoad:function(){},beforeTitleUpdate:function(){},onTitleUpdate:function(){},beforeDestroy:function(){},onDestroy:function(){},beforeFocus:function(){},onFocus:function(){}}};$.fn.qtip.styles={defaults:{background:"white",color:"#111",overflow:"hidden",textAlign:"left",width:{min:0,max:250},padding:"5px 9px",border:{width:1,radius:0,color:"#d3d3d3"},tip:{corner:false,color:false,size:{width:13,height:13},opacity:1},title:{background:"#e1e1e1",fontWeight:"bold",padding:"7px 12px"},button:{cursor:"pointer"},classes:{target:"",tip:"qtip-tip",title:"qtip-title",button:"qtip-button",content:"qtip-content",active:"qtip-active"}},cream:{border:{width:3,radius:0,color:"#F9E98E"},title:{background:"#F0DE7D",color:"#A27D35"},background:"#FBF7AA",color:"#A27D35",classes:{tooltip:"qtip-cream"}},light:{border:{width:3,radius:0,color:"#E2E2E2"},title:{background:"#f1f1f1",color:"#454545"},background:"white",color:"#454545",classes:{tooltip:"qtip-light"}},dark:{border:{width:3,radius:0,color:"#303030"},title:{background:"#404040",color:"#f3f3f3"},background:"#505050",color:"#f3f3f3",classes:{tooltip:"qtip-dark"}},red:{border:{width:3,radius:0,color:"#CE6F6F"},title:{background:"#f28279",color:"#9C2F2F"},background:"#F79992",color:"#9C2F2F",classes:{tooltip:"qtip-red"}},green:{border:{width:3,radius:0,color:"#A9DB66"},title:{background:"#b9db8c",color:"#58792E"},background:"#CDE6AC",color:"#58792E",classes:{tooltip:"qtip-green"}},blue:{border:{width:3,radius:0,color:"#ADD9ED"},title:{background:"#D0E9F5",color:"#5E99BD"},background:"#E5F6FE",color:"#4D9FBF",classes:{tooltip:"qtip-blue"}}}})(jQuery);$(function(){ccl_homepage.initBannerRotator(".banner-rotator");ccl_homepage.cruiseSearch.init();ccl_homepage.initCCLQtip();ccl_homepage.supportPH();ccl_homepage.initPIE();$(window).load(function(){ccl_homepage.setCtaWidths()})});var ccl_homepage={setCtaWidths:function(){setTimeout(function(){$("#ccl_homepage .homepage-content .touts .link").each(function(){var b=$(this),c=b.width()+1,a=73+Math.ceil((78-(c+20))/2);b.css({width:c+"px",left:a+"px"})})},300)},initCCLQtip:function(){$("#imgTooltipHome").cclqtip('<img class="tooltip" style="margin-right: 10px" src="/common/CCLUS/images/ui/new-header/icon-help13x13.png" alt="" /><span style="font-weight: bold;color:#0f65b8" >Number of Travelers Notice:</span>','<span style="color:#898989" >The number of travelers is per stateroom. Only one stateroom can be booked at a time.</span>',"topRight","bottomLeft",null,null,null,-5)},initBannerRotator:function(e){var d=$(e),c=d.find(".prev-btn"),b=d.find(".next-btn"),a=c.add(b);d.hover(function(){if($(window).width()>=1200){if($.browser.msie&&parseInt($.browser.version,10)<9){a.show()}else{a.stop(false,true).fadeIn()}}},function(){if($.browser.msie&&parseInt($.browser.version,10)<9){a.hide()}else{a.stop(false,true).fadeOut()}});d.find(".slideshow a").each(function(){var f=$(this),g=f.find("img").attr("src");f.css("background","url("+g+") no-repeat center 0")});d.find(".slideshow").cycle({next:b,prev:c,pause:true,pager:$("#banner-rotator-pager"),pagerAnchorBuilder:function(f,g){if(f!=2){return'<li><a href="#">'+(f+1)+"</a></li>"}else{return'<li class="last-child"><a href="#">'+(f+1)+"</a></li>"}},timeout:10000,fit:true,width:"100%",height:"475px"});d.addSwipeEvents().bind("swipeleft",function(f,g){d.find(".slideshow").cycle("next")}).bind("swiperight",function(f,g){d.find(".slideshow").cycle("prev")})},initPIE:function(){if(window.PIE){$(".help-module, #homepage_email_signup, #cruise-search-widget .wrapper, #cruise-search-widget .inner, .touts .flag","#ccl_homepage").each(function(){PIE.attach(this)})}},supportPH:function(){var a=("placeholder" in document.createElement("input"));if(!a){$("#ccl_homepage .homepage-content *[placeholder][type!=password]").each(function(){var b=$(this),c=b.attr("placeholder");b.val(c).focus(function(){if(b.val()==c){b.val("")}}).blur(function(){if(b.val()==""){b.val(c)}})})}},cruiseSearch:{init:function(){var d=$("#cruise-search-widget"),c=d.find("h2"),b=d.find(".filter-section"),a=d.find(".filter-box");ccl_homepage.cruiseSearch.activeYear=0;c.click(function(){var f=$(this),g=f.parent(),e=g.find(".filter-box").first();if(!g.hasClass("active")&&d.find(".filter-section.active").length>0){a.not(e).slideUp("fast");b.not(g).removeClass("active");g.addClass("active");e.slideDown("fast")}else{if(!g.hasClass("active")&&d.find(".filter-section.active").length==0){g.addClass("active");e.slideDown("fast")}else{if(g.hasClass("active")){e.slideUp("fast");g.removeClass("active")}}}});$(document).click(function(g){var f=$("#cruise-search-widget");if(!$(g.target).parents("#cruise-search-widget").length){d.find(".filter-section.active h2").click()}});ccl_homepage.cruiseSearch.hitService()},hitService:function(a){if(!a){a={}}var c="/BookingEngine/QuickSearch/?";var b=ccl_homepage.cruiseSearch.generateQueryStr(a);$.ajax({url:c+b,type:"GET",dataType:"JSON",success:function(d){ccl_homepage.cruiseSearch.populateWidget(d)}})},generateQueryStr:function(d){var e=[],b={dest:[],date:[],trav:""};d=$.extend(b,d);var c="dest="+d.dest.join(","),a="dat="+d.date.join(","),f="numGuests="+d.trav;e.push(c,a,f);return e.join("&")},populateWidget:function(l){var f=l.Destinations,d=l.MonthYear,e="",c="";$.each(f,function(s,j){var u=j.Description;var i=j.Code;var t=ccl_homepage.cruiseSearch.selectedDesinations&&ccl_homepage.cruiseSearch.selectedDesinations[u];var r="<li"+(t?" class='selected'":"")+'><a data-codes="'+i+'" href="#">'+u+"</a></li>";e+=r});$("#cruise-search-widget ul.destination-list").html(e);var q={};$.each(d,function(j,s){var i=s.Description;var r=i.split(" ")[0];var t=i.split(" ")[1];if(!q[t]){q[t]=[]}q[t].push(r)});$.each(q,function(j,t){var u=j;var r=t;var s="",i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];$.each(i,function(w,y){var v=w+1;if(v<10){v="0"+v}if($.inArray(y,r)!=-1){var x=ccl_homepage.cruiseSearch.selectedDates!=null&&ccl_homepage.cruiseSearch.selectedDates[y+" "+u];s+="<li"+(x?' class="selected"':"")+'><a data-month="'+v+u+'" href="#">'+y+"</a></li>"}else{s+='<li class="disabled"><a href="#">'+y+"</a></li>"}});c+='<div class="year"><h4>'+u+'</h4><ul class="month-wrapper">'+s+"</ul></div>"});var b=$("#cruise-search-widget .year-container");b.html(c).css("left","0");var m=b.find(".year").length;var h=false;var a=0;ccl_homepage.cruiseSearch.prevBtn=$("#cruise-search-widget .dates .prev a");ccl_homepage.cruiseSearch.nextBtn=$("#cruise-search-widget .dates .next a");ccl_homepage.cruiseSearch.prevBtn.unbind("click");ccl_homepage.cruiseSearch.nextBtn.unbind("click");if(m<=1){ccl_homepage.cruiseSearch.nextBtn.css("visibility","hidden");ccl_homepage.cruiseSearch.prevBtn.css("visibility","hidden")}else{ccl_homepage.cruiseSearch.nextBtn.css("visibility","visible")}ccl_homepage.cruiseSearch.prevBtn.click(function(){var i=$("#cruise-search-widget .dates h4");if(parseInt(b.css("left"))<0&&!h){i.hide();h=true;b.animate({left:"+=230"},a,function(){h=false;i.fadeIn("fast");ccl_homepage.cruiseSearch.nextBtn.css("visibility","visible");if(parseInt(b.css("left"))==0){ccl_homepage.cruiseSearch.prevBtn.css("visibility","hidden")}})}return false});ccl_homepage.cruiseSearch.nextBtn.click(function(){var i=$("#cruise-search-widget .dates h4");if(parseInt(b.css("left"))>-((m-1)*230)&&!h){i.hide();h=true;b.animate({left:"-=230"},a,function(){h=false;i.fadeIn("fast");ccl_homepage.cruiseSearch.prevBtn.css("visibility","visible");if(parseInt(b.css("left"))<=-((m-1)*230)){ccl_homepage.cruiseSearch.nextBtn.css("visibility","hidden")}})}return false});if(m>1){if(ccl_homepage.cruiseSearch.activeYear>0){var p=$("#cruise-search-widget .year-container").find(".year");for(var g=0;g<p.length;g++){var o=parseInt($(p[g]).find("h4").text());if(o==ccl_homepage.cruiseSearch.activeYear){for(var k=0;k<g;k++){ccl_homepage.cruiseSearch.nextBtn.click()}break}}}}else{ccl_homepage.cruiseSearch.activeYear=0}ccl_homepage.cruiseSearch.nextBtn.click(function(){var i=-parseInt($(".year-container").css("left").replace("px",""))/230;i+=1;var j=$("#cruise-search-widget .year-container").find(".year");if(j.length>=i){ccl_homepage.cruiseSearch.activeYear=parseInt($(j[i]).find("h4").text())}else{ccl_homepage.cruiseSearch.activeYear=0}});ccl_homepage.cruiseSearch.prevBtn.click(function(){var i=-parseInt($(".year-container").css("left").replace("px",""))/230;if(i>0){i-=1}var j=$("#cruise-search-widget .year-container").find(".year");if(j.length>=i){ccl_homepage.cruiseSearch.activeYear=parseInt($(j[i]).find("h4").text())}else{ccl_homepage.cruiseSearch.activeYear=0}});$("#cruise-search-widget .search-btn").click(function(){ccl_homepage.cruiseSearch.submitSearch();return false});ccl_homepage.cruiseSearch.initSelections();var n=$("#cruise-search-widget .filter-section");var f=n.filter(".destination");var d=n.filter(".dates");ccl_homepage.cruiseSearch.updateCount(f);ccl_homepage.cruiseSearch.updateCount(d);a=300},initSelections:function(){var c=$("#cruise-search-widget .filter-section"),b=c.filter(".destination"),a=c.filter(".dates"),d=c.filter(".travelers");if(!b.data("defaultText")||b.data("defaultText").length==0){b.data("defaultText",b.find("h2").text())}if(!a.data("defaultText")||a.data("defaultText").length==0){a.data("defaultText",a.find("h2").text())}if(!d.data("defaultText")||d.data("defaultText").length==0){d.data("defaultText",d.find("h2").text())}b.find(".destination-list a").click(function(){var e=$(this);var g=e.parent();var f=b.find(".destination-list li.selected").not(g);f.removeClass("selected");g.toggleClass("selected");ccl_homepage.cruiseSearch.updateCount(b);ccl_homepage.cruiseSearch.updateFiltersAfterSelection();return false});a.find(".year-container a").click(function(){var e=$(this);var g=e.parent();var f=a.find("ul.month-wrapper li.selected").not(g);f.removeClass("selected");if(!g.hasClass("disabled")){g.toggleClass("selected");ccl_homepage.cruiseSearch.updateCount(a);ccl_homepage.cruiseSearch.updateFiltersAfterSelection()}return false});b.find("input[type='checkbox']").change(function(){var f=$(this);var e=b.find(".destination-list li");if(f.is(":checked")){e.addClass("selected")}else{e.removeClass("selected")}ccl_homepage.cruiseSearch.updateCount(b);ccl_homepage.cruiseSearch.updateFiltersAfterSelection()});if(!ccl_homepage.travelersInitialized){d.find(".people-wrapper a").mouseenter(function(){var h=$(this),g=h.parent(),f=g.index();var e=d.find(".people-wrapper li:gt("+f+")");var i=d.find(".people-wrapper li").not(e);e.removeClass("selected");i.addClass("selected")}).click(function(){var e=parseInt($(this).data("guest"));d.data("locked",e);ccl_homepage.cruiseSearch.updateCount(d);ccl_homepage.cruiseSearch.updateFiltersAfterSelection();return false});d.find(".people-wrapper").mouseleave(function(){if(d.data("locked")){var f=d.data("locked")-1,e=d.find(".people-wrapper li:gt("+f+")"),g=d.find(".people-wrapper li").not(e);e.removeClass("selected");g.addClass("selected")}else{d.find(".people-wrapper li").removeClass("selected")}});ccl_homepage.travelersInitialized=true}},updateCount:function(c){var d=c.find("h2"),a=d.find(".count"),f=c.find("li.selected"),e=f.length;if(c.is(".destination")){var b=c.data("defaultText");var g=[];var h="";ccl_homepage.cruiseSearch.selectedDesinations={};f.each(function(){var i=$.trim($(this).text());g.push(i);ccl_homepage.cruiseSearch.selectedDesinations[i]=i});h=g.join(", ");d.attr("title",h);if(h.length>22){h=h.substr(0,22)+"..."}if(h.length==0){d.removeAttr("title").html(b)}else{d.html(h)}}if(c.is(".dates")){var b=c.data("defaultText");var g=[];var h="";ccl_homepage.cruiseSearch.selectedDates={};f.each(function(){var i=$.trim($(this).text());var k=$(this).find("a").attr("data-month").substr(2,4);var j=i+" "+k;g.push(j);ccl_homepage.cruiseSearch.selectedDates[j]=j});h=g.join(", ");d.attr("title",h);if(h.length>22){h=h.substr(0,22)+"..."}if(h.length==0){d.removeAttr("title").html(b)}else{d.html(h)}}if(c.is(".travelers")){if(e>0){if(e==7){e="+7"}d.html(e+" Travelers");d.attr("title",e+" Travelers")}else{var b=c.data("defaultText");d.html(b)}}},updateFiltersAfterSelection:function(){var a=ccl_homepage.cruiseSearch.buildQueryObj();ccl_homepage.cruiseSearch.hitService(a)},submitSearch:function(){var b=ccl_homepage.cruiseSearch.buildQueryObj();var c=ccl_homepage.cruiseSearch.generateQueryStr(b);var a="/BookingEngine/SailingSearch/Search2/?"+c;location.href=a},buildQueryObj:function(){var c={dest:[],date:[],trav:""};var d=$("#cruise-search-widget .filter-section"),b=d.filter(".destination"),a=d.filter(".dates"),e=d.filter(".travelers");b.find("li.selected").each(function(){var g=$(this),f=g.find("a").data("codes");c.dest.push(f)});a.find("li.selected").each(function(){var g=$(this),f=g.find("a").attr("data-month");c.date.push(f)});if(e.find("li.selected").length){c.trav=e.find("li.selected:last a").data("guest")}return c}}};